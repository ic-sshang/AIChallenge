Overview
The ICRestAPI provides billers with APIs to manage their data.  This is a monolithic .Net 4.8 Web API application with various resource concerns.   The current endpoints, in some cases, are not RESTful.   The authentication is Basic Authentication.
Goals
Add OAuth 2.0 Client Credentials Grant authentication in front of endpoints
Rewrite endpoints URLs that are not RESTful
Backend URL
https://www.invoicecloud.com/api
Proposed Kong Base URL (New External Facing)
https://api.invoicecloud.com/biller
Route Table
Backend Route
Proposed Kong Route
/v1/biller/status
GET /v1/biller/paymenttypes
/v1/customer/courtesyemailaddress
POST /v1/customer/add
POST /v1/customers
/v1/customer/conveycustomer
/v1/customer/customerrenewal
/v1/customer/register
/v1/customer/RetrieveCustomerGuid
/v1/validate/creditcard
/v1/validate/rte
/v1/invoicepay/ach/sale
POST /v1/payments/ach/sales
/v1/invoicepay/ach/credit
POST /v1/payments/ach/credits
/v1/invoicepay/cc/sale
POST /v1/payments/creditcard/sales
/v1/invoicepay/cc/credit
POST /v1/payments/creditcard/credits
/v1/invoicepay/cc/authorization
POST /v1/payments/creditcard/authorizations
/v1/invoicepay/cc/capture
PUT /v1/payments/creditcard/authorizations/{reference}
/v1/cloudpay/ach/sale
/v1/cloudpay/ach/credit
/v1/cloudpay/cc/sale
/v1/cloudpay/cc/credit
/v1/void
PUT /v1/payments/{reference}
PUT /v1/payments/creditcard/sales/{reference}
PUT /v1/payments/creditcard/credits/{reference}
PUT /v1/payments/ach/sales/{reference}
PUT /v1/payments/ach/credits/{reference}
*update a existing payment to be of the type VOID 
/v2/cp/createlogin
/v1/cp/{customerguid}/openinvoices
/v1/cp/{customerguid}/closedinvoices
/v1/cp/{customerguid}/recentinvoices
/v1/cp/{customerguid}/allinvoices
/v1/cp/invoice/{invoiceguid}/paymenthistory
/v1/cp/invoice/{invoiceguid}/adjustments
/v1/cp/invoice/{invoiceguid}/scheduledpayments
/v1/cp/invoice/{invoiceguid}/refreshhistory
/v1/cp/{customerguid}/paymenthistory
/v1/cp/{customerguid}/account
/v1/cp/{remoteauthenticationtoken}/customer
/v2/cp/customerlogin
/v1/cp/emailaddress
/v1/cp/address
/v1/cp/password
/v1/cp/unsubscribe
/v1/cp/{customerguid}/linkedaccounts
/v1/cp/{customerguid}/paperless
/v1/cp/paperless
/v2/cp/{customerguid}/autopay
PUT /v1/customers/{customerguid}/autopay
/v2/cp/autopay
/v1/creditcard/add
POST /v1/paymentmethods/creditcards
/v1/bank/add
POST /v1/paymentmethods/bankaccounts
/v1/usercreditcard/add
/v1/userbank/add
/v1/userbank/remove
/v1/usercreditcard/remove
/v1/userbank/update
/v1/usercreditcard/update
/v1/usercreditcard/{loginguid}/usercreditcards/
/v1/userbank/{loginguid}/userbanks/
/v1/userbank/{loginguid}/userbanks/
/messaging/sendpaybytextmessage
/messaging/sendpaymentlinkemail
 URL:/spaces/EA/pages/3673915416/ICRestAPI+-+PRJ