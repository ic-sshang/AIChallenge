Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
SA-1063
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Document status
In-testing 
Document owner
 
 
 
Solution engineer
 
 
API Documentation
Design Document 
Click 
here 
to view the Approved Design Document for both Guidewire and SDS legacy system.
Overall Design workflow
Integrator Web Services
Summary:  NLC Insurance group will be using Guidewire integrations and a legacy system integration via a common BIF file format used in GW OOBT accelerator for Billing center. 
Invoice Cloud Web Services
The information in the Invoice Cloud Web Services section reflects the information given to Invoice Cloud at the time of Discovery and Design. It is possible for this information to be updated at any time by a biller or CIS Vendor without notifying Invoice Cloud.
Real Time Data Refresh
API Details
Balance Update
IC Use
Partner API Name
Description
Specifications
RTDR: Balance Update
BalanceUpdate 
CRM has the right production credentials and URLs.
https://prodbc.nlcinsurance.com/invoicecloud/acc/ic/service/inbound/api/ICServiceAPI
 
Returns account balances
Errors handled:
Authentication Failed: Please check user credentials(username and password)
Please provide a valid Account Number
Please provide one of the fields to update
FirstName,LastName,Email,Phone,AlternateNumber,Addressline1,Addressline2,City,State,Zip
Connection timed out or connectivity failures
Request
{
  "AccountNumber": "12345678901234",
  "DisplayAccountNumber": "74839282"
}
Response
"{\"Invoices\":
[{
\"AdHoc\":false,
\"Amount\":\"615.00 usd\",
\"AmountDue\":\"615.00 usd\",
\"EventDate\":\"2024-05-01\",
\"InvoiceNumber\":\"1000000094\",
\"InvoiceStreamName\":\"Monthly\",
\"PaymentDueDate\":\"2024-05-26\",
\"PublicID\":\"bc:SlxaSAnNZMWqPZyAtuNAI\",
\"Status\":\"Billed\"
}],
\"Message\":\"Request Processed\",
\"Status\":\"Success\",
\"TotalAmountDue\":\"615.00 usd\"
}"
Status: Balance Enquiry Successful
Message: User Message
Data Pump
API Details
Payments
IC Use
Partner API Name
Description
Specifications
Payment Code Mapping
Payment Source Mapping
Data Pump: Payment
ICPaymentsNotification
URL 
https://prodbc.nlcinsurance.com/invoicecloud/acc/ic/service/inbound/api/ICServiceAPI
 
Posts a payment/credit to GW system
Method : setPaymentNotification
 
PaymentChannel
 = Payment Source ID
Last 4 Digits of CC/ACH for Payments is an addition to the accelerator that is required to be coded in by the Biller.
Date Format: YYYY-MM-DD HH:MM:SS
Example: 2025-02-10 15:10:24
Credit Card = 
Visa =
Mastercard = 
Discover = 
AmericanExpress =
PayPal =
Venmo =
ACH = 
OBD = 
IVR =
Payment Source ID - Payment Source Description: 
1 - Web Services 
2 - Biller Portal 
3 - Customer Portal
4 - Express Payments
7 - Online Bank Direct 
8 - POS - Point of sale
10 - IVR
11 - Cloud Payments
12 - Cloud Store - Consumer Initiated
13 - Cloud Store - Biller Initiated
14 - Shopping Cart
15 - Auto Pay
16 - Scheduled Payment
17 - Biller Portal - Easy Pay
18 - CSR - One Time Pay
19 - Kiosk
20 - Mobile Express Payments
21 - Harris GoMobile
22 - Recurring Scheduled Payment
23 - Pay By Text
26 - Live Agent Payment
27 - Agent Connect
Request
Authorization: username:password

Username: {{pending}}

Password: {{pending}}

POST {{URL}}



{
  "AccountNumber": "1000000007",
  "AltPhoneNumber": "603-294-3083",
  "BillingAddress": "SanthoshFS",
  "City": "SanthoshFS",
  "CustomerName": "SanthoshFS SanthoshFS",
  "DisplayAccountNumber": "1000000007",
  "EmailAddress": "SanthoshFS@SanthoshFS.com",
  "InvoiceNumber": "1000000046",
  "PaymentAmount": 100.00,
  "PaymentChannel": "string",
  "PaymentDate": "04/01/2024",
  "PaymentGUID": "21041fa9-0a84-4ce6-91c0-d783fc053861",
  "PaymentType": "2",
  "PhoneNumber": "603-294-3083",
  "State": "CA",
  "Zip": "03801"
}
Response
{
    "Success": " Payment Notification set successfully ",
    "Message": “Success***************”
}
Voids 
, 
ACH Reject, Credit/Refund, Chargeback
IC Use
Partner API Name
Description
Specifications
Payment Code Mapping
Payment Source Mapping
Data Pump: Void, ACH Reject, Credit/Refund, Chargeback
PaymentsNotification
 
https://prodbc.nlcinsurance.com/invoicecloud/acc/ic/service/inbound/api/ICServiceAPI
Posts a payment/credit to GW system
Due to the Reversal Reasons being custom per biller, we will be using Advanced Settings to update future billers that do not use the default codes provided in the accelerator.
Included Payment Types:
ACH Rejects
Credits
Chargebacks
 
PaymentAmount = Amount Rejected/Voided
PaymentDate = Reject/Void Date
Reject Codes:
ReversalReason:
ACH Rejects: "returnedcheck"
Chargebacks: "modification"
Refund/Credits/Voids: "internal"
Credit Card = 1
ACH = 2
Description:
1 - Web Services
2 - Biller Portal
3 - Customer Portal
4 - Express Payments
7 - Online Bank Direct
8 - POS - Point of sale
10 - IVR
11 - Cloud Payments
12 - Cloud Store - Consumer Initiated
13 - Cloud Store - Biller Initiated
14 - Shopping Cart
15 - Auto Pay
16 - Scheduled Payment
17 - Biller Portal - Easy Pay
18 - CSR - One Time Pay
19 - Kiosk
20 - Mobile Express Payments
21 - Harris GoMobile
22 - Recurring Scheduled Payment
23 - Pay By Text
26 - Live Agent Payment
27 - Agent Connect
Request
Authorization: username:password

Username: {{pending}}

Password: {{pending}}

POST {{URL}}



{
  "AccountNumber": "1000000007",
  "AltPhoneNumber": "603-294-3083",
  "BillingAddress": "SanthoshFS",
  "City": "SanthoshFS",
  "CustomerName": "SanthoshFS SanthoshFS",
  "DisplayAccountNumber": "1000000007",
  "EmailAddress": "SanthoshFS@SanthoshFS.com",
  "InvoiceNumber": "1000000046",
  "PaymentAmount": 100.00,
  "PaymentChannel": "string",
  "PaymentDate": "04/01/2024",
  "PaymentGUID": "21041fa9-0a84-4ce6-91c0-d783fc053861",
  "PaymentType": "2",
  "PhoneNumber": "603-294-3083",
  "ReversalReason": "xyz",
  "State": "CA",
  "Zip": "03801"
}
Response
{\"Message\":\"Payment Notification saved successfully\",
\"PaymentGUID\":\"21041fa9-0a84-4ce6-91c0-d783fc053861\",
\"Success\":\"Success\"}
Paperless Enrollments 
(If not used, mark N/A)
IC Use
Partner API Name
Description
Specifications
Data Pump: Paperless Enrollment
PaperlessPreference
Paperless Status
AccountNumber
EmailID: IC Email Address
PaperLess: true/false
Request
Authorization: username:password

Username: {{pending}}

Password: {{pending}}

POST {{URL}}



{
  "AccountNumber": "1000000011",
  "EmailID": "praveen@invoice.com",
  "PaperLess": true
}
Response
Status: PaperLess preference set Successfully
{
    " Status ": " PaperLess preference set Successfully "
    “Message”: “Success"
}
Autopay Enrollments and Payment Method Changes 
 
IC Use
Partner API Name
Description
Specifications
Data Pump: AutoPay Enrollment and Auto Pay Payment Method Changes
AutoPayNotification
CustomerName 
string(100)
Email ID
AccountNumber 
string (10)
BillingID
DisplayAccountNumber 
string (10)
Policy ID
AutoPay (boolean)
PaymentType
0 - (No Payment Type) 
1- CC
2- ACH
PaymentGuid
Payment Instrument GUID
Bank AccountNumber 
String(14) 
Masked Value
CC Card 
string(19)
Masked Value
AddressLine1 
String(50)
Payment Instrument Address
City 
String(50)
Payment Instrument City
State 
String(50)
Payment Instrument State
Zip 
String(50)
Payment Instrument Zip
When AutoPay status is false and Payment Type is 0. The PaymentGUID, CustomerGUID, BankAccountNumber is made optional
When AutoPay status is  True . The PaymentGUID, CustomerGUID, BankAccountNumber (Last 4 digits) and PaymentType = 1 is sent in the request.
When AutoPay status is  True  . The PaymentGUID, CustomerGUID, CardNumber (Last 4 digits) and PaymentType =  2 is sent in the request.
AccountNumber: IC Account Number
AddressLine1: IC AddressLine1
AutoPay: True/false
BankAccountNumber: Last 4 Digits (Used for ACH Payments only)
if Autopay = False, then field will not be used
CardNumber: Last 4 Digits (Used for CC Payments only)
if Autopay = False, then field will not be used
CustomerName
DisplayAccountNumber
EmailAddress
PaymentGUID: of the PaymentMethod being used for autopay
PaymentType (int)
1- ACH
2- CC
if Autopay = False, then PaymentType = 0
Request
Authorization: username:password

Username: {{pending}}

Password: {{pending}}

POST {{URL}}



{
  "AccountNumber": "1000000011",
  "AddressLine1": "Adams123",
  "AutoPay": true,
  "BankAccountNumber": "1234",
  "CardNumber": "4111",
  "City": "Jhon",
  "CustomerName": "John AdamsS",
  "DisplayAccountNumber": "1000000011",
  "EmailAddress": "john@test.com",
  "PaymentGUID": "2a3be945-33e3-42f4-8683-c130701e0534",
  "CustomerGUID": "2a3be945-33e3-42f4-8683-c130701e0534",
  "PaymentType": 2,
  "State": "GA",
  "Zip": "31036"
}
Response
Success: AutoPay status set successfully
Message: User Message



{
    "Success": " AutoPay status set successfully ",
    "	Message": “Success***************”
}
Pay By Text
Data Pump: Pay by Text Enrollment
setPayByText
<xs:complexType name="PayByTextRequest">
<xs:sequence>
<xs:element name="AccountNumber" type="xs:string" minOccurs="0"/>
<xs:element name="PayBytext" type="xs:boolean" minOccurs="0"/>
<xs:element name="PhoneNumber" type="xs:string" minOccurs="0"/>
</xs:sequence>
</xs:complexType>
<xs:complexType name="PayByTextResponse">
<xs:sequence>
<xs:element name="Message" type="xs:string" minOccurs="0"/>
<xs:element name="Status" type="xs:string" minOccurs="0"/>
</xs:sequence>
</xs:complexType>
Pay By Text: True/False Boolean Flag
Phone Number: Phone Number entered for Pay by Text
Pay by Text is an addition to the accelerator that is required to be coded in by the Biller.
Bill Presentment 
(If not used, Mark N/A)
IC Use
Partner API Name
Description
Specifications
Bill Presentment
FetchInvoiceDocument
Content
Acutal PDF/Bill/Statment or Base64 encoded bytes.
BillingID: AccountNumber
InvoiceNumber: IC Invoice Number
Request
Authorization: username:password

Username: {{pending}}

Password: {{pending}}

POST {{URL}}
Response
Content: String

DocumentType: String

MimeType: String - Contains mime type of the document
User Stories
Workflow
Story
Assumptions & Requirements
Steps
Balance Update
Invoice Cloud will update balances in real time when the customer record is accessed.
Integrator webservice is reachable and functioning
Account exists in Invoice Cloud
Customer Record is accessed in Invoice Cloud
Invoice Cloud calls Integrator webservice
Invoice Cloud updates balance (if IC record is different)
Customer Block Flags
Data Pump Payments
Invoice cloud will update the payment status when there is a approval or decline
Data Pump Credits
Data Pump Voids
Data Pump ACH Rejects
Data Pump Paperless Enrollment
Data Pump Autopay Enrollment
Data Pump Customer Changes
Agent Connect
Purpose/Summary: Policy Center
Workflow for AutoPay enrollment from GW Policy Center
Additional Details
Parameter
Required
In Request
AccountNumber
Yes
Yes
DisplayAccountNumber
No
Yes
AccountID
No
Yes
CustomerName
No
Yes
CustomerName2
No
Address1
No
Yes
Address2
No
Yes
City
No
Yes
State
No
Yes
Zip
No
Yes
Phone
No
Yes
EmailAddress
No
Yes
BlockPaymentsCC
No
Yes
BlockPaymentsEFT
No
Yes
CurrentInvoiceNumber
No
Yes
CurrentInvoiceDueDate
No
Yes
CurrentInvoiceDate
No
Yes
CurrentBalanceDue
No
Yes
InvoiceTypeID
No
Yes
AllowPartialPayments
No
Yes
MinimumAmountDue
No
Yes
InvoiceFormatID
No
BillerReference
No
RedirectMode
Yes
AllowSwipe
No
UserType
Yes
Yes
UserLogName
Yes
Yes
LoginGuid
No
Yes
RequireAuthorization
No
RequireEmail
No
Yes
MessagingSettings
No
AccountServices
No
AgentConnectViewMode
No
CssUrl
No
HomeButtonUrl
No
File Mapping
Invoice File
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
1
RowType
Y
TRUE
File Header
2
BillerGuid
Y
TRUE
IC updated
File Header
3
ThirdPartyFileReference
Y
FALSE
IC updated
File Header
4
FileCreationDate
Y
TRUE
systemDate
File Header
5
InvoiceCount
Y
TRUE
IC Updated
File Header
6
TotalInvoiceAmount
Y
TRUE
IC Updated
File Header
7
RowType
Y
TRUE
Invoice Header
8
RecordType
Y
TRUE
N= New  U=Update  if exists
New - Send new if there are new invoices created for subsequent changes (2nd policy or changing pay plan from Full Pay to Monthly/Quaterly - consider record type R if new billed invoice is created)
Update - Update to existing invoice due to new policies/changes 
Deactivate - 1. For cancellations and send only with status as Cancelled or Scheduled 
Cancellation.GW
 should not send for Pending Cancellation. Once deactivated, biller to take payments from insured through collections or late pay.
For Non-Renew if there was a billed invoice for renewal transaction.
Invoice Header
9
InvoiceFormatGuid
Y
TRUE
Based on the configuration in CRM
Invoice Header
10
InvoiceNumber
Y
TRUE
invoice.invoicenumber
Invoice Header
11
InvoiceDate
Y
TRUE
BillingDate
Invoice Header
12
InvoiceDueDate
Y
TRUE
DueDate
Invoice Header
13
TotalAmountDue
Y
TRUE
DueTotal
Invoice Header
14
TotalTaxAmount
FALSE
15
TotalDiscountAmount
FALSE
16
TotalShippingAmount
FALSE
17
TotalDutyAmount
FALSE
18
VATTaxRate
FALSE
19
VATTaxAmount
FALSE
20
AllowPartialPayments
Y
FALSE
21
MinimumAmountDue
Y
FALSE
22
Terms
FALSE
23
FirstNotifyRequestedDate
N
FALSE
24
SecondNotifyRequestedDate
N
FALSE
25
ThirdNotifyRequestedDate
N
FALSE
26
PONumber
FALSE
27
SalesRep
FALSE
28
ShipDate
FALSE
29
TrackingNumber
FALSE
30
ShippingCompanyID
FALSE
Invoice Header
31
CustomerShipName
FALSE
Invoice Header
32
CustomerShipAddress1
FALSE
Invoice Header
33
CustomerShipAddress2
FALSE
Invoice Header
34
CustomerShipCity
FALSE
Invoice Header
35
CustomerShipState
FALSE
Invoice Header
36
CustomerShipZip
FALSE
Invoice Header
37
CustomerShipPhone
FALSE
Invoice Header
38
Custom1
FALSE
Invoice Header
39
Custom2
FALSE
Invoice Header
40
Custom3
FALSE
Invoice Header
41
Custom4
FALSE
Invoice Header
42
Custom5
FALSE
Invoice Header
43
Custom6
FALSE
Invoice Header
44
Custom7
FALSE
Invoice Header
45
Custom8
FALSE
Invoice Header
46
Custom9
FALSE
Invoice Header
47
Custom10
FALSE
Invoice Header
93
BalanceDue
Y
FALSE
Balance due in the GW Billing system
Invoice Header
194
BalanceForward
Y
FALSE
Invoice Header
248
AutoPayCollectionDate
FALSE
Invoice Header
342
InvoiceGroupGUID
FALSE
Invoice Header
345
BillerInstallmentNumber
FALSE
Invoice Header
346
BillerBillYear
FALSE
Invoice Header
347
BillerInvoiceNumber
FALSE
Invoice Header
375
Active
FALSE
Invoice Header
407
PastDue
FALSE
Invoice Header
58
RowType
Y
TRUE
Customer Record
59
AccountNumber
Y
TRUE
Customer Record
60
CustomerName
Y
TRUE
Customer Record
61
Address1
Y
FALSE
Customer Record
62
Address2
Y
FALSE
Customer Record
63
City
Y
FALSE
Customer Record
64
State
Y
FALSE
Customer Record
65
Zip
Y
FALSE
Customer Record
66
Phone
Y
FALSE
Customer Record
67
EmailAddress
Y
FALSE
Customer Record
68
CustomerVATNumber
FALSE
Customer Record
69
RegistrationValue
FALSE
Customer Record
356
BlockPaymentsCC
FALSE
Customer Record
357
BlockPaymentsEFT
FALSE
Customer Record
371
CustomerName2
FALSE
Customer Record
372
Pin
FALSE
Customer Record
373
DisplayAccountNumber
Y
FALSE
Customer Record
409
Active
FALSE
Customer Record
70
RowType
Y
TRUE
Invoice Detail
71
ProductID
FALSE
Invoice Detail
72
Description
FALSE
Invoice Detail
73
Quantity
FALSE
Invoice Detail
74
UnitPrice
FALSE
Invoice Detail
75
ExtendedUnitPrice
FALSE
Invoice Detail
76
UnitDiscount
FALSE
Invoice Detail
77
ExtendedUnitDiscount
FALSE
Invoice Detail
78
UnitTaxAmount
FALSE
Invoice Detail
79
LineItemTotal
FALSE
Invoice Detail
80
CommodityCode
FALSE
Invoice Detail
81
UnitOfMeasure
FALSE
Invoice Detail
82
UnitTaxRate
FALSE
Invoice Detail
Invoice Types
Invoice Types
164 - Guidewire
Virtual Site
Yes
Agent Connect
Yes
Accelerator
GW  OOBT Accelerator V10
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A, in BIF, On Biller Questionnaire - BIF customization
AllowPartialPayments
Yes
AutoPayCollectionDate
No
BalanceForward
Yes
CreditCardServiceFee
No
FirstNotifyRequestedDate
No
InvoiceDate
No
InvoiceDueDate
No
InvoiceFormatGuid
Yes
InvoiceTypeID
No
LateFeeDate
No
LocationReference
No
MinimumAmountDue
No
PaymentExpirationDate
No
PaymentExpirationMessage
No
PromptPayExpirationDate
No
RegistrationValue
No
SecondNotifyRequestedDate
No
ThirdNotifyRequestedDate
No
User Interaction and Design
Data Flow - Invoice
Data Flow - Adjustments
Data Flow - Payment One-time Payment Downpayment
Data Flow - Bill Presentment
Data Flow - Change Log
Data Flow - Void
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
None
None
None
None
None
 URL:/spaces/IM/pages/3928555557/BID+4496+NLC+Insurance+Guidewire+Technical+Design