Page Navigation
Jira  
Release Date
Document status
complete
Green
Document owner
 
 
Solution engineer
 
 
 
Knowledge Transfer
n/a
Background
Zobrio is a payment reconciliation platform. It sits on top of the billing system and is NOT the billing system. A biller can use Zobrio and have varying underlying billing systems. This is the logic for a data pump configuration for Zobrio that will allow IC to post the needed information when a payment is made.
For some QDS billers this may be in replacement to the existing data pump / payment export. For billers using other systems this would be in addition to the existing payment export / data pump process.
Authentication / Test Environment
API Authentication Method: 
OAuth
URL
: https://<BaseURL>/token
Body
 username=?&password=?&grant_type=password
 
Test Information:
URL: 
https://zcmsaassndbx.zobrio.com/wti_g1.api/token
BaseURL: 
https://zcmsaassndbx.zobrio.com/wti_g1.api
username: 
ic.sandbox@zobrio.com
password: iCld^Sand9!
grant_type: password
 
Testing Parameters:
ZcmUserName: 
PlymouthMA.support@zobrio.com
ZcmDeptName: Collector
S
ource/ Whether Assessed Year is needed
IC Excise /  Assessed year needed
IC Water /  No Assessed Year
IC Marriage Certificate / No Assessed Year
IC Zoning Maps /  No Assessed year
API Details
IC Use
Partner API Name
Request
Response
Specifications
Data Pump: Payment
The following values are configurable per biller:
Tenant Name
zcmUserName
zcmDeptName
Year (this value may/may not be included and will depend on the biller.
Request to implement these as an advanced setting 
 PostStandardReceipts
http://<BASEURL>/api/PostStandardReceipts
 
{
"originator": InvoiceCloud,
"jsonReceiptDataId": Generate a GUID to post
"openApiTenantAndReceipts": [
{
"tenantName": This will be the name of the town that is being posted to, but it has to be provided by QDS, usually involves town + State abbreviation. Please code this to set as an advanced setting
"openApiStdReceipts": [
{
"receiptId": PaymentGUID (has to be unique for each post)
"source": Invoice Type Name
"transaction": ReceiptGUID,
"processDate": MM/DD/YYYY without leading 0s (date payment was made),
"amount": payment amount without service fee,
"paymentType": will be set from Invoice Cloud + “PaymentType” + MID=####.
“Invoice Cloud PAYMENT TYPE MID=####“
PAYMENTTYPE - will be one of the following values
V-MC-DISC
AMEX
PAYPAL
VENMO
ACH
"description": Alias Name + “Payment” (For example Real Estate Taxes Payment”,
"zcmUserName": Varies from biller to biller, provided by biller, reviews receipts, please set as advanced setting
"zcmDeptName": Varies from biller to biller, provided by biller, please set as an advanced setting
"payer": Name of payer making payment ““,
"assessedYear": (optional) BillerBillYear (it will vary from biller to biller, QDS will provide if it’s needed for an invoice type or not)
"batchNumber": (optional) IC will set as null
"checkNumber": (optional) IC will set as null,
"email": (optional) IC will set as Payers email address,
“custom_01”: Invoice Type Name (same as source field for now)
"depositId": (optional) IC will set as null,
"depositDate": (optional) IC will set as null,
“bankRoutingNumber”: (optional) IC will set as null,
“bankAcctNumber”: (optional) IC will set as null
} ] } ] }
Example JSON: Note** this example does not include the custom_1 field that will be included
 
Credits & Chargebacks not included
File Mapping
Zobrio Enhancement - Batch
Summary/Purpose: Zobrio is a payment reconciliation tool that has an additional integration with QDS. If the biller has Zobrio, IC can append the following at the end of each detail record for payments. To implement this additional information for payments, put a note in the coding request to include the payment detail records for Zobrio.
Field Mapping
Examples: 
“Invoice Cloud ACH-V-MC-DISC MID=####“ 
"Invoice Cloud AMEX MID=####”
Field
DataType
Character Limits
Format
Clause
Values
Comments
Record Type
Payment Platform
String
13
Text
“Invoice Cloud”
Static value, always the same
Detail
Filler
String
1
Text
Space “ “ 
Static value always the same
Payment Type 
String
13
Text
if ACH, Visa, Discovery or Mastercard then value 1, else value 2
Value 1 = “ACH-V-MC-DISC” 
Value 2 = “AMEX” 
Detail
Filler
String
1
Text
Space “ “ 
Static value always the same
MID
Int
Text
“MID=Value” 
Find the max length of a MID and then make that the size of the string.
Detail
Payment/Lockbox File (Munis)
File Summary/Purpose: The purpose of this file is transfer payment data from IC to the biller
File Extension: .csv or .xlsx
File Naming Convention: ICPayments_YYYYMMDDHHMMSS.txt
Specification:  
We will send one file with tax and utility payments daily. Tax payments include MV Excise, Real Estate, Personal Property and Boat Excise.
Included Payment Types:
Payment Channels (CC, ACH, OBD, etc)   
Yes
ACH Rejects 
(specify if C-Code Rejects included)   
No
Credits    
No
Chargebacks 
(specify any special handling for sending negative values with a dash indicator or other)    
No
Declines    
No
Voids   
No
Sample File:
SFTP File Path: 
File Transfer Frequency: 
Daily
Field Mapping
As part of integration setup, Zobrio professional services will enter all sources and payment types into the Zobrio Cash
Management database. Payment Type entries in the integration file must match one of those.
Field
Data Type
Character Limits
Required (T/F)
Sample
Values
Comments
Software
Alphanumeric
20
TRUE
XYZ Billing
Use “Invoice Cloud”
Name of your software package. Must be identical on every data row.
Source
Alphanumeric
50
TRUE
Personal Property Tax
Real Estate Tax
Motor Vehicle 
Boat Excise Tax
Water/Sewer
InvoiceType Alias as stored in IC
Charge that is getting paid. This can either match the name of an
existing source in Zobrio or it can be a unique code corresponding to
a source.
Date
Date
TRUE
8/18/2012 9:46
PaymentDate as stored in IC
Date of payment
AssessedYear
Integer
FALSE
2012
Four digit fiscal year to which the payment should be applied.
Payer
Alphanumeric
50
TRUE
Mr. Emory James
CustomerName as stored in IC
Name of individual or entity making the payment or the department
recording the payment.
Amount
Decimal
TRUE
3500.93
PaymentAmount as stored in IC
Amount of the payment
PaymentType 
Alphanumeric
256
TRUE
“Invoice Cloud ACH-V-MC-DISC MID=####“ 
"Invoice Cloud AMEX MID=####”
“Invoice Cloud PayPal_Venmo MID=####”
Invoice Cloud OBD MID=####”
Example of Plymouth:
Terminals table in DB
MID = Merchant ID(Full)
For example: Credit Card RE PP Tax MID = 478691
Invoice Cloud + <Payment Type Designation> + MID=####
4 Payment Type Designations:
“ACH-V-MC-DISC“ 
ACH(aka EFT)
Visa Credit Card, Visa Debit Card
Mastercard Credit Card, Mastercard Debit card
Discover Credit Card, Discover Debit Card
"AMEX”
American Express
PayPal_Venmo
PayPal
PayPal Credit
Venmo
OBD
Online Bank Direct
Indicate the method of payment, e.g. cash, check, credit card, EFT.
This information is important for reconciling bank statements. If
credit cards are used and there’s more than one merchant account,
the payment type should indicate which one (e.g. amex vs. visa)
This is a field that currently using in Zobrio integration with QDS(Please check Zobrio Enhancement - Batch).
CheckNumber
Alphanumeric
50
FALSE
2156
If payment by check, the check number
BatchNumber
Alphanumeric
50
FALSE
1356
If receipts are batched, this uniquely identifies the batch. Zobrio can, if desired, collate the batches during import.
TransactionID
Alphanumeric
50
TRUE
e99fc166-9d990-4a99-bb16-99fe155ebf99
PaymentGUID as stored in IC
A unique code or ID that links this record back to the receipting or
billing and collections system, to assist the customer or an auditor.
This is typically a transaction number generated by your system.
Description
Alphanumeric
512
TRUE
Use “Invoice Cloud Payment”
Description of payment
Email
Alphanumeric
50
FALSE
emoryj91@gmail.com
 URL:/spaces/IM/pages/2524545027/Zobrio+Technical+Design