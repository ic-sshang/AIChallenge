Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation
Jira ticket 
NA
ITR
NA
Release Date
NA
Document status
complete
Green
Document owner
 
Solution engineer
 
Knowledge Transfer
NA
File Mapping - Invoice File
Summary: SSI VIP billers call the IC CloudInvoicing webservice UploadInvoiceFile method to upload files to IC.
File Extension: BIF
File Naming Convention: NA
File Delimiter: NA
Specification: 
File Transfer Frequency: Multiple times per day
Sample Call:
1~FH|2~0a605189-8b29-4496-a5f3-d9f101231364|3~Upload|4~09/14/2021|5~1|6~2900.00
7~IH|8~N|9~B3D8E0C6-0A66-4566-BD1F-480C87121EA6|9~b3d8e0c6-0a66-4566-bd1f-480c87121ea6|10~202109-00048|11~09/14/2021|12~09/14/2021|13~2900.00|14~0|15~0|16~0|17~0|18~0|19~0|20~1|20~1|21~0|23~9/15/2021|24~9/6/2021|25~9/13/2021|31~HACKATHORN, PHILLIP|32~1710 FLAUGHER HILL RD|33~LOT 50|34~ABERDEEN|35~OH|36~45101|37~9374163984|40~0|41~0.00|42~0|43~0.0000|44~1710 FLAUGHER HILL, Apt: #49|46~501-01060-00|93~0.0000|97~0.00|98~0|99~0|100~0.00|101~0|102~2900.0000|103~0|104~0|105~0|106~0|107~0.00|186~0.00|188~0|190~0|191~0|192~0|193~0|194~1|194~1|248~9/14/2021|249~0|252~42|319~5fa98aba-5200-4de3-9ab3-f001048b4aac|345~0|346~0|375~1
58~CR|59~09497-001|60~HACKATHORN, PHILLIP|61~1710 FLAUGHER HILL RD|62~LOT 50|63~ABERDEEN|64~OH|65~45101|66~9374163984
70~ID|71~WATER|72~DT FEE - WATER|74~0|75~0|76~0|77~0|78~0|79~1279.41|80~DT |82~0
70~ID|71~SEWER|72~DT FEE - SEWER|74~0|75~0|76~0|77~0|78~0|79~852.94|80~DT |82~0
70~ID|71~TRASH|72~DT FEE - TRASH|74~0|75~0|76~0|77~0|78~0|79~767.65|80~DT |82~0
70~ID|72~PaymentPlanBalance|74~0|75~0|76~0|77~0|78~0|79~2900.0000|80~Payment Plan Balance|82~0
SFTP File Path: NA
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Description
Record Type
1
RowType
Y
TRUE
‘FH’
File Header
2
BillerGuid
Y
TRUE
icSys.BillerGuid
File Header
3
ThirdPartyFileReference
Y
FALSE
BatchId
File Header
4
FileCreationDate
Y
TRUE
BatchDate
File Header
5
InvoiceCount
Y
TRUE
InvoiceCount
File Header
6
TotalInvoiceAmount
Y
TRUE
TotalAmount
File Header
7
RowType
Y
TRUE
‘IH’
Invoice Header
8
RecordType
Y
TRUE
‘N' or 'U’
Invoice Header
9
InvoiceFormatGuid
Y
TRUE
icSys.InvoiceCloudInvoiceFormat
Invoice Header
10
InvoiceNumber
Y
TRUE
arBill.BillNumber
Invoice Header
11
InvoiceDate
Y
TRUE
arBill.BillDate
Invoice Header
12
InvoiceDueDate
Y
TRUE
arBill.DueDate
Invoice Header
13
TotalAmountDue
Y
TRUE
arBill.Amount
Invoice Header
20
AllowPartialPayments
Y
FALSE
1 (true)
Invoice Header
31
CustomerShipName
Y
FALSE
arBillTo.FullName
Invoice Header
32
CustomerShipAddress1
Y
FALSE
commonAddress.Street
Invoice Header
33
CustomerShipAddress2
Y
FALSE
commonAddress.Line2
Invoice Header
34
CustomerShipCity
Y
FALSE
commonAddress.City
Invoice Header
35
CustomerShipState
Y
FALSE
commonAddress.State
Invoice Header
36
CustomerShipZip
Y
FALSE
commonAddress.Zip
Invoice Header
37
CustomerShipPhone
Y
FALSE
Phone
Invoice Header
38
Custom1
Y
FALSE
BillJournal.CycleBeginDate
Invoice Header
39
Custom2
Y
FALSE
BillJournal.CycleEndDate
Invoice Header
40
Custom3
Y
FALSE
0
Invoice Header
41
Custom4
Y
FALSE
arBill.PreviousBalance
Invoice Header
42
Custom5
Y
FALSE
Payment Received: arBill.PostedReceipts + arBillTo.UnpostedReceipts
Invoice Header
43
Custom6
Y
FALSE
arBill.LateAmount
Invoice Header
44
Custom7
Y
FALSE
ubClient.LocationAddress
Invoice Header
46
Custom9
Y
FALSE
Unclear what they are setting here but it is being set, could be phone number
94
Custom11
Y
FALSE
arBillMessage.Messages
Invoice Header
95
Custom12
Y
Notice Message
Invoice Header
93
BalanceDue
Y
FALSE
BillTo (Balance – UnpostRec - CMBal)
Invoice Header
186
LateFeeAmount
Y
FALSE
bill.PenaltyAmount
Invoice Header
194
BalanceForward
Y
FALSE
“TRUE”
Invoice Header
248
AutoPayCollectionDate
Y
FALSE
Invoice Header
252
InvoiceTypeID
Y
FALSE
42 (Utilities)
Invoice Header
319
Echo1
Y
FALSE
arBill.Oid.ToString
Invoice Header
375
Active
Y
FALSE
TRUE
Invoice Header
407
PastDue
Y
FALSE
Invoice Header
58
RowType
Y
TRUE
CR
Customer Record
59
AccountNumber
Y
TRUE
arBillTo.AccountNumber
Customer Record
60
CustomerName
Y
TRUE
arBillTo.FullName
Customer Record
61
Address1
Y
FALSE
LocationAddress.Street
Customer Record
62
Address2
Y
FALSE
LocationAddress.Line2
Customer Record
63
City
Y
FALSE
LocationAddress.City
Customer Record
64
State
Y
FALSE
LocationAddress.State
Customer Record
65
Zip
Y
FALSE
LocationAddress.Zip
Customer Record
66
Phone
Y
FALSE
MainPhone
Customer Record
67
EmailAddress
Y
FALSE
EMailAddress
Customer Record
68
CustomerVATNumber
Y
FALSE
String.Empty
Customer Record
69
RegistrationValue
Y
FALSE
String.Empty
Customer Record
356
BlockPaymentsCC
Y
FALSE
BillTo.DisableWebPortalCreditCard
Customer Record
357
BlockPaymentsEFT
Y
FALSE
BillTo.DisableWebPortalEFT
Customer Record
371
CustomerName2
Y
FALSE
String.Empty
Customer Record
372
Pin
Y
FALSE
String.Empty
Customer Record
70
RowType
Y
TRUE
“ID”
Invoice Detail
71
ProductID
Y
FALSE
arBillLine.ServiceCategory.ServiceCategoryCode
Invoice Detail
72
Description
Y
FALSE
arBillLine.LineDescription
Invoice Detail
79
LineItemTotal
Y
FALSE
arBillLine.Amount/ubBillLine.Amount
Invoice Detail
80
CommodityCode
Y
FALSE
ubBillLine.GetBillPrintDescription(x)
Invoice Detail
81
UnitOfMeasure
Y
FALSE
ubFluidMeter.Registration
Invoice Detail
82
UnitTaxRate
Y
FALSE
Invoice Detail
83
CustomField1
Y
FALSE
ubReading.PreviousReading.Reading
Invoice Detail
84
CustomField2
Y
FALSE
ubReading.Reading
Invoice Detail
85
CustomField3
Y
FALSE
ubReading.Usage
Invoice Detail
86
CustomField4
Y
FALSE
ubBillLine.ServiceRate.RateCode
Invoice Detail
87
CustomField5
Y
FALSE
ubReading.ReadingType
Invoice Detail
88
CustomField6
Y
FALSE
ubReading.Meter.Multiplier
Invoice Detail
172
Custom89
Y
FALSE
ubReading.Usage
173
Custom90
Y
FALSE
ubReading.Usage
174
Custom91
Y
FALSE
ubReading.Usage
175
Custom92
Y
FALSE
ubReading.Usage
Adjustment/Daily Balance File
Summary
:
 SSI VIP billers call the IC CloudInvoicing webservice SetInvoiceBalance method to update balances on IC.
File Transfer Frequency: Multiple Times a Day
Field Mapping
Sa
mple Call:
 <s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
    <s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <SetInvoiceBalance xmlns="https://www.invoicecloud.com/portal/webservices/CloudPayments/">    
      <BillerGUID> ? </BillerGUID>
      <WebServiceKey> ? </WebServiceKey>
      <CustomerAccountNumber>19755-001</CustomerAccountNumber>
      <CustomerInvoiceNumber>000358-11554</CustomerInvoiceNumber>
      <CurrentBalance>106.76</CurrentBalance>
    </SetInvoiceBalance>
  </s:Body>
</s:Envelope>
Sample Response:
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <soap:Body>
        <SetInvoiceBalanceResponse xmlns="https://www.invoicecloud.com/portal/webservices/CloudPayments/">
            <SetInvoiceBalanceResult>BALANCE SET</SetInvoiceBalanceResult>
        </SetInvoiceBalanceResponse>
    </soap:Body>
</soap:Envelope>
Payments
Payments are retrieved using PaymentReportingSOAPWithEchoAndCardTypeFromGMT (once per day)
Field Mapping
Sample Call:
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
    <s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
        <PaymentReportingSOAPWithEchoAndCardTypeFromGMT xmlns="https://www.invoicecloud.com/portal/webservices/CloudReporting/">   
            <BillerGUID> ? </BillerGUID>
            <WebServiceKey> ? </WebServiceKey>
            <LocationReference />
            <LastRequestGMT>2022-08-01T01:00:00</LastRequestGMT>
        </PaymentReportingSOAPWithEchoAndCardTypeFromGMT>
    </s:Body>
</s:Envelope>
Autopay
ChangeLogReportingAutoPayDataSet called once a day to update autopay status
Field Mapping
Sample Call:
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
    <s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
           <ChangeLogReportingAutoPayDataSet xmlns="https://www.invoicecloud.com/portal/webservices/CloudReporting/">
            <BillerGUID> ? </BillerGUID>
            <WebServiceKey> ? </WebServiceKey>
            </ChangeLogReportingAutoPayDataSet>
    </s:Body>
</s:Envelope>
Change Log
ChangeLogReportingDataSet called once day to return other account changes
Field Mapping
Sample Call:
:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
    <s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
            <ChangeLogReportingDataSet xmlns="https://www.invoicecloud.com/portal/webservices/CloudReporting/">
            <BillerGUID> ? </BillerGUID>
            <WebServiceKey> ? </WebServiceKey>
            </ChangeLogReportingDataSet>
    </s:Body>
</s:Envelope>
Advanced Settings
Setting ID
Description
Details and Logic
Value
Is value unique per biller? (Y/N)
131
JSON Configuration
This is used for billers that would like to reflect the sewer SSI Usage graph.
{
 	"SSISewerFlag":true 
}
Y
BIF Customization's
If Invoicing → Advanced Configuration → Apply Global Bif Customizations is turned on, BIF customizations should be attempted to be applied.
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A
AllowPartialPayments
BIF customization, often set to 1 (should be confirmed with biller)
AutoPayCollectionDate
Biller by Biller basis, can be set
BalanceForward
BIF customization, often set to 1 (should be confirmed with biller)
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
Biller by Biller basis, can be set
InvoiceDate
N/A
InvoiceDueDate
N/A
InvoiceFormatGuid
BIF customization
InvoiceTypeID
N/A
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
N/A
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
Biller by Biller basis, can be set
ThirdNotifyRequestedDate
Biller by Biller basis, can be set
User Interaction and Design
Data Flow - Invoice
att2370109508
1982496773
1
Diagram1
IM
att2370240627
att2370764855
0
Data Flow - Adjustments
att2370175043
1982496773
1
Diagram2
IM
att2370895913
att2370142300
0
Data Flow - Payment
att2370371687
1982496773
1
Diagram3
IM
att2370928716
att2370142305
0
Data Flow - Change Log
att2370077137
1982496773
1
Diagram4
IM
att2368962856
att2370371692
0
Payer Experience
Payers will access Invoice Cloud from the Biller website (URL redirect). Payers will use the IC Virtual Site and Customer Portal.
Biller Experience
Biller Portal
Invoice Cloud Web Services
API Name
API Use/Purpose
UploadInvoiceFile
invoices
SetInvoiceBalance
adjustments
PaymentReportingSOAPWithEchoAndCardTypeFromGMTmethod 
Used to pull payment data from IC
Frequency: Once a Day
ChangeLogReportingAutoPayDataSet
Used to pull changelog data from IC
Frequency: Once a Day
ChangeLogReportingDataSet
Used to pull other account changes
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
https://invoicecloud.atlassian.net/browse/ITG-3369
TBD
Only Water and Electricity Consumption Data is being reflected for the customer. Sewer Consumption Data is not available. 
Sewer Consumption Data to be added to match Water and Electricity Consumption Data
 URL:/spaces/IM/pages/1982496773/Software+Solutions+SSI+VIP+-+Technical+Design