1
6
false
default
list
true
7/8/2024
Action Items:
 to research TLS cipher settings in app gateway and update to more secure setting.
 to inspect PSN FW to determine if rules for Cloudflare exist.
 to validate TLS negotiation/cipher in current prod setup. (baseline should it be needed)
Ready for tomorrow:  End2End test in cert environment.
7/9/2024
 to investigate if he can prune off not needed IPs in PSN Firewall
 to drive meeting to investigate the Non Cloudflare IPs listed below
52.188.219.82 
52.186.69.102 
40.114.46.114 
12.91.73.74
52.168.149.199 
137.135.82.40 
13.68.141.91
104.42.13.30
138.91.239.10 
 add NonProd Palo Alto IP Restricting
After 
 makes the Palo Alto IP Restriction, 
 and PSN will test the InvoiceCloud Cert Environment with their Production Environment.  Also they will do full Regression testing against the InvoiceCloud Cert Environment in their Lower Environment.
PSN regressions to cert run every morning and are being monitored.  
PSN has installed the IcgGatewayDiagnostics lib written by 
 on our production .26 box and verified that it could document the connection.
PSN Prod cert testing will be rerun after the cert environment it updated 
7/10/2024
Technical issues arose with the NonProd Palo Alto IP Restricting, 
 has created a Service Ticket with Palo Alto.  Proposed that we remove this change from the 7/14/2024 maintenance window.
 will see if he can get this completed today.  If he cannot, we do not have much other option then to drop this from the 7/14/2024 maintenance window.
Check on the status of traffic capture for the 400 HTTP Status Code observed by PSN for the POST to 
www.invoicecloud.com/agentconnectapi/
PSN Team will follow up with data analysis from their Wireshark collection session.
If PSN Team cannot provide that data, IC will look to see if the 
/agentconnectapi/
 is installed on any NonProd Environments for further debugging and research and if it is, we can propose to see if PSN gets the same issue in a NonProd Environment, if so, we can put Wireshark on the NonProd Server.  
 has informed us we cannot put Wireshark on our Prod Servers during business hours.
Propose that we remove the NewRelic Alert 
AppGW Alerts (prd) - 5XX HTTP Response
 since it will be redundant with the 
Failed Requests
 Alert
Change proposal to remove the Failed Requests Alert since that will comingle App Gateway and Backend Server 5XX’s, and update the 5XX Alert with the following query to limit the Alert Query to only 5XX responses provided by App Gateway and filter out 5XX responses from the Backend Servers, which those get monitored separately.
SELECT count(*) FROM AzureApplicationGatewaySample WHERE entityGuid IN ('MTQ5OTcwNHxJTkZSQXxOQXwtMTA0NjkwMjc0MjMxMjY4ODI4NQ') AND httpStatusGroup = '5xx' and backendServer is NULL FACET httpStatusGroup
Per 
 , likely not all Applications have 5XX Alerts, so using this Networking Plane to Alert on such issues would be useful.
Per 
 It is true that we don't have enough coverage on the systems/apps so if we can split the alerts out so that 
one
 is for 
appgateway layer
 and 
one 
is for the 
application layer
 that would be preferred.  And ideally all of this is in NR for the teams to review as all engineers now have access there so when Application 5XX Alerts go off the Responder can query the App Gateway Access Logs and use the HTTP Status, the hostname and the URL of the Access Events in NewRelic to identify which Application is causing the 5XX Alert.
7/11/2014
 was able to get IP Restriction in the NonProd Palo Alto 
 
 and PSN Team will run these tests:
PSN regressions to cert run every morning and are being monitored.  
 
PSN has installed the IcgGatewayDiagnostics lib written by 
 on our production .26 box and verified that it could document the connection. 
 
PSN Prod cert testing will be rerun after the cert environment it updated 
 
 running Tests to ensure Network Connectivity for NonProd URLs
DevTestN: 
 
Cert: 
 
ICG: 
 
Internal QA: 
 
 will test to ensure Blocking of direct hitting of NonProd Palo IP from a Non Cloudflare Source IP. 
 
 to work on ship App Gateway Access Logs to AlienVault Jira Card 
 
 to review 
icmaintenance.azurewebsites.net
 pointing to Prod Palo IP 
Note 
maintenance.invoicecloud.com
 CNAMES to 
icmaintenance.azurewebsites.net
 put the removal of 
icmaintenance.azurewebsites.net
 pointing to Prod Palo IP in the backlog
Also all 
qaN
 GoDaddy DNS records should be added to removal backlog
 to look into if the Palo Public IP has found its way into any other DNS Zone or hardcoded any where.
 to look into Cloudflare APIs using Powershell with the help of Copilot.
 verify no other domains are not going to Palo Prod IP directly 
 
We will follow up with decision to push the Palo Alto IP Restriction in Prod on Friday to see where 
 got with his analysis 
 
400s, likely related to the observation of 
/portaldev3/
 found in a redirect 
 
 and PSN to work on Wireshark to capture the Request and Response.
 working on HealthCheck.
 to drive the implementation of capturing Request and Responses for Non-200 responses.
 Reseach of where the 
/portaldev3/
 Redirect is coming from
 to reach out to 
 to get IIS Logs and Configuration review.
Follow up with 
 , does he think we can update 
\portaldev3\
 to the latest code and not break PASCO?  Why did we have this difference, is this difference reconcilable?
CSR Connect is Spam and 
 
7/12/2024
Review: Proposal that we remove the NewRelic Alert 
AppGW Alerts (prd) - 5XX HTTP Response
 since it will be redundant with the 
Failed Requests
 Alert 
 
alerts out so that 
one
 is for 
appgateway layer
 and 
one 
is for the 
application layer
 that 
 to fix in NEwRelic UI
 to setup meeting to unblock 
 with Terraform deployment of the same Alerts
Review: 
 verify no other domains are not going to Palo Prod IP directly 
 
Review: 
 and PSN Testing 
 
Review: 400s research and progress 
 
Decision: Do we push the Palo Alto IP Restriction to 7/28/2024 maintenance window? 
 
No
Decision: When can we push updates to AlienVault EventHub for Access Log streaming? 
 
Sunday Maintenance
Proposal: We forgo Load Testing Sunday due to Backend Server Max out during Load Test yesterday which would skew any comparisons between L7 Routers. 
 
Proposal Accepted
Action Items
 to follow up with 
 , does he think we can update 
\portaldev3\
 to the latest code and not break PASCO?  Why did we have this difference, is this difference reconcilable? 
 
 to engage 
 and Spam Team for upgrades to the CSR Connect API Logging and Status Coding. 
 
 to setup meeting with 
 to unblock his TF NewRelic Alert deployment. 
 
 
 URL:/spaces/platform/pages/3380805668/Meetings+App+Gateway+7+8+-+7+12