Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
INT-9432
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Document status
complete
Green
 
Document owner
 
 
 
Solution engineer
 
 
Invoice Stream Information: 
https://docs.guidewire.com/cloud/bc/202302/cloudapibf/cloudAPI/topics/131-BC/22-invoices/c_working_with_invoice_streams.html
 
Texas Farm is a full custom integration that is not repeatable. 
Product Changes for TFB: 
Texas Farm Bureau One Pager (WIP)
 
API Documentation
Base Code for Guidewire: 
Guidewire Accelerator Technical Design
 
SOAP APIs: 
 
 
 
Summary: 
Endpoint: 
https://bc-dev-gwcpdev.txfbins.beta3-andromeda.guidewire.net/ws/tfb/bc/integration/ic/service/inbound/api/ICServiceAPI?WSDL
Username:
 icuser
Password:
 Password$$
Additional Details 
IC Use
Partner API Name
Request
Response
Specifications
Data Pump: Payment
ICPaymentsNotification
 Posts a payment/credit to GW system
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:soap1="http://guidewire.com/ws/soapheaders" xmlns:ics="http://guidewire.com/bc/ws/acc/ic/service/inbound/api/ICServiceAPI" xmlns:dto="http://example.com/tfb/bc/integration/ic/service/inbound/dto">
   <soap:Header>
      <soap1:traceability_id>?</soap1:traceability_id>
      <soap1:gw_locale>?</soap1:gw_locale>
      <soap1:gw_language>?</soap1:gw_language>
      <soap1:authentication>
         <soap1:username>?</soap1:username>
         <soap1:password>?</soap1:password>
      </soap1:authentication>
   </soap:Header>
   <soap:Body>
      <ics:setPaymentNotification>
         <!--Optional:-->
         <ics:request>
            <!--Optional:-->
            <dto:AGFundAddress>?</dto:AGFundAddress>
            <!--Optional:-->
            <dto:AGFundCity>?</dto:AGFundCity>
            <!--Optional:-->
            <dto:AGFundCountry>?</dto:AGFundCountry>
            <!--Optional:-->
            <dto:AGFundName>?</dto:AGFundName>
            <!--Optional:-->
            <dto:AGFundState>?</dto:AGFundState>
            <!--Optional:-->
            <dto:AGFundZip>?</dto:AGFundZip>
            <!--Optional:-->
            <dto:AccountNumber>?</dto:AccountNumber>
            <!--Optional:-->
            <dto:AltPhoneNumber>?</dto:AltPhoneNumber>
            <!--Optional:-->
            <dto:BillingAddress>?</dto:BillingAddress>
            <!--Optional:-->
            <dto:City>?</dto:City>
            <!--Optional:-->
            <dto:CustomerName>?</dto:CustomerName>
            <!--Optional:-->
            <dto:DisplayAccountNumber>?</dto:DisplayAccountNumber>
            <!--Optional:-->
            <dto:EmailAddress>?</dto:EmailAddress>
            <!--Optional:-->
            <dto:InvoiceNumber>?</dto:InvoiceNumber>
            <!--Optional:-->
            <dto:PaymentAmount>?</dto:PaymentAmount>
            <!--Optional:-->
            <dto:PaymentChannel>?</dto:PaymentChannel>
            <!--Optional:-->
            <dto:PaymentDate>?</dto:PaymentDate>
            <!--Optional:-->
            <dto:PaymentGUID>?</dto:PaymentGUID>
            <!--Optional:-->
            <dto:PaymentType>?</dto:PaymentType>
            <!--Optional:-->
            <dto:PhoneNumber>?</dto:PhoneNumber>
            <!--Optional:-->
            <dto:ReversalReason>?</dto:ReversalReason>
            <!--Optional:-->
            <dto:State>?</dto:State>
            <!--Optional:-->
            <dto:UserLogName>?</dto:UserLogName>
            <!--Optional:-->
            <dto:Zip>?</dto:Zip>
         </ics:request>
      </ics:setPaymentNotification>
   </soap:Body>
</soap:Envelope>
PaymentReference
String (PaymentID)
Status
Failed / Success
Message
Same errors as BalanceUpdate
Modifications will be required for the GW Accelerator and the Data Pump to include Membership payment information such as the payment type (membership) and the contributor information if it is not the same as the cardholder. -  
EBPP-16926
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
  - 
https://www.figma.com/file/fKstadK37F3OBAsUfPNa6P/TX-Farm-Virtual-Site-Demo?type=design&node-id=651-879&mode=design&t=Nnalbye5N9xz2aUg-0
 
AGFund fields are currently not being used by TFB
The accelerator will need to be updated to send Agent and Inhouse/Secretary UserID. These fields will be provided to IC through AgentConnect when a payment is made. “UserLogName”
UserLogName = UserLogName field provided in AgentConnect API
PaymentChannel = Payment Source ID - 
INT-10869
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Data Pump: ACH Reject, VOID, Chargeback, Credits/Refunds
ICPaymentsNotification
 Posts a payment/credit to GW system
sent to payment endpoint above with one additional field 
Reason 
with the value of 
returnedcheck
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:soap1="http://guidewire.com/ws/soapheaders" xmlns:ics="http://guidewire.com/bc/ws/acc/ic/service/inbound/api/ICServiceAPI" xmlns:dto="http://example.com/tfb/bc/integration/ic/service/inbound/dto">
   <soap:Header>
      <soap1:traceability_id>?</soap1:traceability_id>
      <soap1:gw_locale>?</soap1:gw_locale>
      <soap1:gw_language>?</soap1:gw_language>
      <soap1:authentication>
         <soap1:username>?</soap1:username>
         <soap1:password>?</soap1:password>
      </soap1:authentication>
   </soap:Header>
   <soap:Body>
      <ics:setPaymentNotification>
         <!--Optional:-->
         <ics:request>
            <!--Optional:-->
            <dto:AGFundAddress>?</dto:AGFundAddress>
            <!--Optional:-->
            <dto:AGFundCity>?</dto:AGFundCity>
            <!--Optional:-->
            <dto:AGFundCountry>?</dto:AGFundCountry>
            <!--Optional:-->
            <dto:AGFundName>?</dto:AGFundName>
            <!--Optional:-->
            <dto:AGFundState>?</dto:AGFundState>
            <!--Optional:-->
            <dto:AGFundZip>?</dto:AGFundZip>
            <!--Optional:-->
            <dto:AccountNumber>?</dto:AccountNumber>
            <!--Optional:-->
            <dto:AltPhoneNumber>?</dto:AltPhoneNumber>
            <!--Optional:-->
            <dto:BillingAddress>?</dto:BillingAddress>
            <!--Optional:-->
            <dto:City>?</dto:City>
            <!--Optional:-->
            <dto:CustomerName>?</dto:CustomerName>
            <!--Optional:-->
            <dto:DisplayAccountNumber>?</dto:DisplayAccountNumber>
            <!--Optional:-->
            <dto:EmailAddress>?</dto:EmailAddress>
            <!--Optional:-->
            <dto:InvoiceNumber>?</dto:InvoiceNumber>
            <!--Optional:-->
            <dto:PaymentAmount>?</dto:PaymentAmount>
            <!--Optional:-->
            <dto:PaymentChannel>?</dto:PaymentChannel>
            <!--Optional:-->
            <dto:PaymentDate>?</dto:PaymentDate>
            <!--Optional:-->
            <dto:PaymentGUID>?</dto:PaymentGUID>
            <!--Optional:-->
            <dto:PaymentType>?</dto:PaymentType>
            <!--Optional:-->
            <dto:PhoneNumber>?</dto:PhoneNumber>
            <!--Optional:-->
            <dto:ReversalReason>?</dto:ReversalReason>
            <!--Optional:-->
            <dto:State>?</dto:State>
            <!--Optional:-->
            <dto:UserLogName>?</dto:UserLogName>
            <!--Optional:-->
            <dto:Zip>?</dto:Zip>
         </ics:request>
      </ics:setPaymentNotification>
   </soap:Body>
</soap:Envelope>
ReversalReason
: 
ACH Rejects = 
IC Universal R Codes
 (R01, R02 etc.)
Voids = “VOID”
Refunds/Credits = “REFUND” 
Chargebacks = “CB”
Data Pump: Pay by Text Enrollment
setPayByText
<xs:complexType name="PayByTextRequest">
<xs:sequence>
<xs:element name="AccountNumber" type="xs:string" minOccurs="0"/>
<xs:element name="PayBytext" type="xs:boolean" minOccurs="0"/>
<xs:element name="PhoneNumber" type="xs:string" minOccurs="0"/>
</xs:sequence>
</xs:complexType>
<xs:complexType name="PayByTextResponse">
<xs:sequence>
<xs:element name="Message" type="xs:string" minOccurs="0"/>
<xs:element name="Status" type="xs:string" minOccurs="0"/>
</xs:sequence>
</xs:complexType>
Pay By Text: True/False Boolean Flag
Phone Number: Phone Number entered for Pay by Text
RTDR: Balance Update
BalanceUpdate 
Returns account balances
 
 
IC AccountNumber
BillingID
IC DisplayAccountNumber
AccountNumber/PolicyNumber
PaymentReference
String
Status
Success / Failure
Message
Failure message
BalanceDue
Due Amount in GW UI
TotalAmountDue
DueTotal Amount in UI
InvoiceNumber [Array]
Invoice Number
PoliciesIncluded
Custom1
AGFundEligibility
Custom3
PoliciesIncluded: Custom1
Update Custom1 on Invoice with the value provided
AGFundEligibility: Custom3
Update Custom3 on Invoice with value provided
Integer – 0 or 1
Amount – IC Total Amount Due
AmountDue – IC Balance Due
Data Pump: Paperless Enrollment
PaperLess
EmailID
DisplayAccountNumber
IC Account Number 
PaperLess
(boolean)
<soapenv:Body>\r
      <ics:setPaperlessPreference>\r
         <!--Optional:-->\r
         <ics:paperlessRequest>\r
            <!--Optional:-->\r
            <dto:DisplayAccountNumber>?</dto:DisplayAccountNumber>\r
            <!--Optional:-->\r
            <dto:EmailID>?</dto:EmailID>\r
            <!--Optional:-->\r
            <dto:PaperLess>?</dto:PaperLess>\r
         </ics:paperlessRequest>\r
      </ics:setPaperlessPreference>\r
   </soapenv:Body>\r
Status
Failed / Success
Message
Successfully Saved
Throws exception when fails to update or not meeting the mandatory conditions
method: setPaperlessPreference
DisplayAccountNumber = IC Account Number
Data Pump: AutoPay Enrollment and Auto Pay Payment Method Changes and Auto Pay Method Detail Changes
AutoPay
CustomerName 
string(100)
Email ID
AccountNumber 
string (10)
BillingID
DisplayAccountNumber 
string (10)
Policy ID
AutoPay (boolean)
PaymentType
0 - (No Payment Type) 
1- CC
2- ACH
PaymentGuid
Payment Instrument GUID
Bank AccountNumber 
String(14) 
Masked Value
CC Card 
string(19)
Masked Value
AddressLine1 
String(50)
Payment Instrument Address
City 
String(50)
Payment Instrument City
State 
String(50)
Payment Instrument State
Zip 
String(50)
Payment Instrument Zip
Autopay Enrollment Request:
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:soap1="http://guidewire.com/ws/soapheaders" xmlns:ics="http://guidewire.com/bc/ws/acc/ic/service/inbound/api/ICServiceAPI" xmlns:dto="http://example.com/tfb/bc/integration/ic/service/inbound/dto">
   <soap:Header>
      <soap1:authentication>
         <soap1:username>icuser</soap1:username>
         <soap1:password>Password$$</soap1:password>
      </soap1:authentication>
   </soap:Header>
   <soap:Body>
      <ics:setAutoPay>
         <!--Optional:-->
         <ics:autopayRequest>
            <!--Optional:-->
            <dto:AccountNumber>MBR00000055-02</dto:AccountNumber>
            <!--Optional:-->
            <dto:AddressLine1>5804 Beckon Fls</dto:AddressLine1>
            <!--Optional:-->
            <dto:AutoPay>1</dto:AutoPay>
            <!--Optional:-->
            <dto:BankAccountNumber></dto:BankAccountNumber>
            <!--Optional:-->
            <dto:CardNumber>4111XXXXXXXX1111</dto:CardNumber>
            <!--Optional:-->
            <dto:City>Waco</dto:City>
            <!--Optional:-->
            <dto:CustomerName>Rick Franklin</dto:CustomerName>
            <!--Optional:-->
            <dto:DisplayAccountNumber>MBR00000055</dto:DisplayAccountNumber>
            <!--Optional:-->
            <dto:EmailAddress>test@test.com</dto:EmailAddress>
            <!--Optional:-->
            <dto:PaymentGUID>2a017c2c-bab7-4f74-aea0-c735f4c3b913</dto:PaymentGUID>
            <!--Optional:-->
            <dto:PaymentType>1</dto:PaymentType>
            <!--Optional:-->
            <dto:State>TX</dto:State>
            <!--Optional:-->
            <dto:Zip>76708</dto:Zip>
         </ics:autopayRequest>
      </ics:setAutoPay>
   </soap:Body>
</soap:Envelope>
 
Autopay UnEnrollment Request:
<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" xmlns:soap1="http://guidewire.com/ws/soapheaders" xmlns:ics="http://guidewire.com/bc/ws/acc/ic/service/inbound/api/ICServiceAPI" xmlns:dto="http://example.com/tfb/bc/integration/ic/service/inbound/dto">
   <soap:Header>
      <soap1:authentication>
         <soap1:username>icuser</soap1:username>
         <soap1:password>Password$$</soap1:password>
      </soap1:authentication>
   </soap:Header>
   <soap:Body>
      <ics:setAutoPay>
         <!--Optional:-->
         <ics:autopayRequest>
            <!--Optional:-->
            <dto:AccountNumber>MBR00000055-02</dto:AccountNumber>
            <!--Optional:-->
            <dto:AddressLine1></dto:AddressLine1>
            <!--Optional:-->
            <dto:AutoPay>0</dto:AutoPay>
            <!--Optional:-->
            <dto:BankAccountNumber></dto:BankAccountNumber>
            <!--Optional:-->
            <dto:CardNumber></dto:CardNumber>
            <!--Optional:-->
            <dto:City></dto:City>
            <!--Optional:-->
            <dto:CustomerName></dto:CustomerName>
            <!--Optional:-->
            <dto:DisplayAccountNumber>MBR00000055</dto:DisplayAccountNumber>
            <!--Optional:-->
            <dto:EmailAddress>test@test.com</dto:EmailAddress>
            <!--Optional:-->
            <dto:PaymentGUID></dto:PaymentGUID>
            <!--Optional:-->
            <dto:PaymentType>0</dto:PaymentType>
            <!--Optional:-->
            <dto:State></dto:State>
            <!--Optional:-->
            <dto:Zip></dto:Zip>
         </ics:autopayRequest>
      </ics:setAutoPay>
   </soap:Body>
</soap:Envelope>
Status
Failed / Success
Message
success - successfully Received /Saved
Failure - list of errors
 
Bill Presentment - PDF Linking
fetchInvoiceDocument
Endpoint URL: 
bc/ws/acc/invoicecloud/service/ICServiceAPI
 
IC AccountNumber
BillingID
InvoiceNumber
AccountNumber/PolicyNumber
Content
Acutal PDF/Bill/Statment or Base64 encoded bytes.
DocumentName
filename
MimeType
string
File Mapping
Invoice File
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Specs: 
 
Sample File: 
File Transfer Frequency: 
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Record Type
1
RowType
Y
TRUE
 
 
 
File Header
2
BillerGuid
Y
TRUE
 
 
 
File Header
3
ThirdPartyFileReference
 
FALSE
 
 
 
File Header
4
FileCreationDate
Y
TRUE
sysdate
 
 
File Header
5
InvoiceCount
Y
TRUE
 
 
 
File Header
6
TotalInvoiceAmount
Y
TRUE
invoice.amount
 
 
File Header
7
RowType
Y
TRUE
 
 
 
Invoice Header
8
RecordType
Y
TRUE
N= New D=Deactivate U=Update R=Rewrite if exists
New - Send new if there are new invoices created for subsequent changes (2nd policy or changing pay plan from Full Pay to Monthly/Quaterly - consider record type R if new billed invoice is created)
Update - Update to existing invoice due to new policies/changes
Rewrite - GW rewrite/reinstate
Deactivate - 1. For cancellations and send only with status as Cancelled or Scheduled 
Cancellation.GW
 should not send for Pending Cancellation. Once deactivated, biller to take payments from insured through collections or late pay.
For Non-Renew if there was a billed invoice for renewal transaction.
 
 
Invoice Header
9
InvoiceFormatGuid
 
TRUE
 
 
 
Invoice Header
10
InvoiceNumber
Y
TRUE
invoice.invoicenumber
 
*Downpayments have temp invoice numbers
Invoice Header
11
InvoiceDate
Y
TRUE
BillingDate
 
 
Invoice Header
12
InvoiceDueDate
Y
TRUE
DueDate
 
We do not show cancellation effective date/reinstatement date.
Invoice Header
13
TotalAmountDue
Y
TRUE
DueTotal
 
 
Invoice Header
20
AllowPartialPayments
Y
FALSE
 
Membership = 0
Insurance = 1
 
Invoice Header
21
MinimumAmountDue
 
FALSE
 
 
 
Invoice Header
23
FirstNotifyRequestedDate
 
FALSE
 
 
 
Invoice Header
24
SecondNotifyRequestedDate
 
FALSE
 
 
 
Invoice Header
25
ThirdNotifyRequestedDate
 
FALSE
 
 
 
Invoice Header
38
Custom1
Y
FALSE
Policy Number
Invoice Header
93
BalanceDue
Y
FALSE
Due Amount in UI
 
 
Invoice Header
194
BalanceForward
 
FALSE
 
 
 
Invoice Header
248
AutoPayCollectionDate
 
FALSE
 
 
 
Invoice Header
252
InvoiceTypeID
 
TRUE
 
 
 
Invoice Header
317
PaymentExpirationDate
 
FALSE
 
 
 
Invoice Header
318
PaymentExpirationMessage
 
FALSE
 
 
 
Invoice Header
345
BillerInstallmentNumber
Y
FALSE
 
 
Indicating the priority between billed invoice vs adhoc invoice.
Scheduled billed Invoice to be series 1,2,3,4,X
Adhoc invoices to be incremented
 
375
Active
 
FALSE
 
 
 
Invoice Header
407
PastDue
 
FALSE
 
 
 
Invoice Header
59
AccountNumber
Y
TRUE
InvoiceStreamID or Submission Number
 
 
Customer Record
60
CustomerName
Y
TRUE
Direct BIll - Billing Contactname
Agency Bill - AgencyName/OrganizationName
 
 
Customer Record
61
Address1
Y
FALSE
 
Full Address is one field in GW
 
Customer Record
62
Address2
Y
FALSE
 
 
 
Customer Record
63
City
Y
FALSE
 
 
 
Customer Record
64
State
Y
FALSE
 
 
 
Customer Record
65
Zip
Y
FALSE
 
 
 
Customer Record
66
Phone
Y
FALSE
 
 
 
Customer Record
67
EmailAddress
Y
FALSE
 
 
 
Customer Record
356
BlockPaymentsCC
 
FALSE
 
 
 
Customer Record
357
BlockPaymentsEFT
 
FALSE
 
 
 
Customer Record
40
Custom3
Y
FALSE
AGFUND Eligibility 
1 or 0 (1 for true and 0 for false)
Invoice Header
373
DisplayAccountNumber
Y
FALSE
Account Number
 
 
Customer Record
70
RowType
Y
TRUE
 
 
 
Invoice Detail
Advanced Settings
Setting ID
Description
Details and Logic
Value
Is value unique per biller? (Y/N)
8
RTDR EndPoint/WebService URL	
Y
9
RTDR Username if Applicable	
Y
10
RTDR Key or Password if Applicable	
Y
11
DataPump Payments EndPoint/WebService URL	
Y
12
DataPump Payments EndPoint/WebService Username
Y
13
DataPump Payments EndPoint/WebService Password
Y
14
DataPump Paperless EndPoint/WebService URL	
Y
15
DataPump Paperless EndPoint/WebService Username
Y
16
DataPump Paperless EndPoint/WebService Password
Y
17
DataPump AutoPay EndPoint/WebService URL	
Y
18
DataPump AutoPay EndPoint/WebService Username
Y
19
DataPump AutoPay EndPoint/WebService Password
Y
20
Remote PDF EndPoint/WebService URL	
Y
21
Remote PDF EndPoint/WebService Username
Y
22
Remote PDF EndPoint/WebService Password
Y
101
DataPump ACH Rejects EndPoint/WebService URL
Y
102
DataPump ACH Rejects EndPoint/WebService Username
Y
103
DataPump ACH Rejects EndPoint/WebService Password	
Y
135
DataPump PayByText Endpoint	
Y
136
DataPump PayByText Username
Y
137
DataPump PayByText Password	
Y
Site configuration 
The information in the Invoice Cloud Web Services section reflects the information given to Invoice Cloud at the time of Discovery and Design. It is possible for this information to be updated at any time by a biller or CIS Vendor without notifying Invoice Cloud.
SSO Integration
Purpose/Summary: SAML SSO is Invoice Cloud’s Implementation of a Single Sign On into the Invoice Cloud portal. This feature allows Billers and/or Partners to create a seamless experience for the Customer between Partner/Biller and Invoice Cloud systems, while keeping the scope of PCI compliance at a minimum for Partners and Billers.
sAML SSO integration has been completed for TFB’s Insurance Payment Portal. 
Demo: 
 
SSOConnect Values
Field
Required
Comments
Partner Specification
ViewMode
Yes
Value is required to identify how the Customer is accessing the Invoice Cloud pages.
Always 
0
 = Redirect
RedirectID
Yes
Value is required to be able to redirect the Customer to the requested page. See full list: 
How to setup Cloud SSO Connect (REST) | Field Definitions
1
 = Customer Portal Recent Bill Listing
2
 = Customer Portal Paperless Settings
3
 = Customer Portal AutoPay Settings
5
 = Customer Portal Payment Options
9
 = Customer Portal Pay by Text Enrollment
CSSUrl
No
ReturnUrl
No
When this value is provided, the customer will be redirected to the provided url after clicking the sign out button.
N/A
Workflow
Workflow
Story
Assumptions & Requirements
Steps
Web Services 
Sample 
User Registration
User navigates to TFB portal and registers through the TFB member and insurance portal. After registration, logged in user makes a payment. 
Assumptions:
TFB does not know if a Payer is registered with InvoiceCloud
TFB stores Remote Authentication Token (per session) for use in 
CloudSSO Redirect User using the pre-defined URL
Requirement:
LogintypeID (REST- Remote Authentication- Register Accounts) is always = 1
Check to see if account exists in invoice cloud and if it is registered.
If account does not exist:
Create Customer Record
SAML SSO Redirect
If account does exist and is not registered:
SAML SSO Redirect
If account does exist and is registered:
SAML SSO Redirect
REST- Remote Authentication- Retrieve Users
If account does not exist:
REST- Customers- Create Customer Record
SAML SSO Redirect
If account does exist and is not registered:
SAML SSO Redirect
If account does exist and is registered:
SAML SSO Redirect
Managed Scheduled Payments
A registered user is logged in to TFB portal and navigates to IC screen to  update or cancel a scheduled payment.
Assumption:
User is already registered and authenticated
TFB redirects (Redirect) to Scheduled Payments screen
SAMLSSO (redirect 9 = Customer Portal Scheduled Payments Listing)
Paperless Enrollment
A registered user is logged in to TFB portal and navigates to IC screen to enroll or unenroll paperless option
Assumption:
User is already registered and authenticated
TFB redirects (Redirect) to Customer Portal Paperless Settings screen
SAMLSSO (redirect 2 = Customer Portal Paperless Settings
)
AutoPay Enrollment
A registered user is logged in to TFB portal and navigates to IC screen to enroll or unenroll autopay option
Assumption:
User is already registered and authenticated
TFB redirects (Redirect) to Customer Portal AutoPay Settings screen
CloudSSOConnect (redirect 3 = Customer Portal AutoPay Settings
)
Manage Payment Methods
A registered user is logged in to TFB portal and navigates to IC screen to store, update or remove payment methods.
Assumption:
User is already registered and authenticated
TFB redirects (Redirect) to Payment Methods screen
SAMLSSO (redirect 5 = Customer Portal Payment Options)
Pay by Text
A registered user is logged in to TFB portal and navigates to IC screen to enroll or unenroll pay by text option
Assumption:
User is already registered and authenticated
TFB redirects (Redirect) to Payment Methods screen
SAMLSSO (redirect 11 = Customer Portal Pay by Text Enrollment)
Invoice Types
Invoice Types
164 - 
Premium Collections and 165 - Membership Payments
Virtual Site
One Time/Guest Payments for Premiums and Memberships 
Required Options
Input required integration options below.
ID
Option Description
Details
52
Customer Portal - Display Paperless Settings for Non-Registered Customers
By default, the Customer Portal will only display Paperless settings for Registered customers. Some Billers may want those same Paperless settings displayed for Non-registered customers as well. Turning this option ON will enable this functionality.
This option is 
Off
 by default
On
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A
AllowPartialPayments
BIF
AutoPayCollectionDate
BIF
BalanceForward
BIF
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
BIF
InvoiceDate
BIF
InvoiceDueDate
BIF
InvoiceFormatGuid
BIF
InvoiceTypeID
BIF
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
BIF
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
BIF
ThirdNotifyRequestedDate
BIF
User Interaction and Design
Guidewire/Agent Experience Testing Recordings
https://us-21061.app.gong.io/e/c-share/?tkn=1ok8wbke2dujoelv46gs1k8fi
https://us-21061.app.gong.io/e/c-share/?tkn=f1btuc62z3y6mnw74ur1b0la
Data Flow - Invoice
UploadInvoice SOAP API is used with the Guidewire Accelerator to upload Invoices to Invoice Cloud in Real Time from Guidewire Billing Center. 
Data Flow - Adjustments
RTDR is used with the Guidewire Accelerator to upload invoice balances on Invoice Cloud in Real Time from Guidewire Billing Center. 
Data Flow - Payment
Data Pump is used with the Guidewire Accelerator to send payment information from Invoice Cloud in Real Time to Guidewire Billing Center. 
Data Flow - Inline Donation Payments
Inline Donations are supported to be sent through Data Pump to Guidewire Billing Center. Guidewire Integration will need to be customized to apply the Donations sent by Invoice Cloud accordingly. 
Data Flow - Void
Payments will be voided on Invoice Cloud. Data Pump is used with the Guidewire Accelerator to send Voided Payment information from Invoice Cloud in Real Time to Guidewire Billing Center. 
Data Flow - ACH Reject
Data Pump is used with the Guidewire Accelerator to send ACH Reject information from Invoice Cloud in Real Time to Guidewire Billing Center. 
Data Flow - Change Log
Autopay, Paperless, PaybyText customer changes will use Data Pump to send enrollment information to Guidewire Billing Center through the Guidewire Accelerator. 
Data Flow - Bill Presentment
PDF Remote Linking is used with the Guidewire Accelerator to send PDF information to Invoice Cloud in Real Time from Guidewire Billing Center so Invoice Cloud can reflect the Bill Images/PDFs. 
Payer Experience
Payers/Insured will access Invoice Cloud from the Biller website by using IC Cloud Pay v2 for one time payment transactions and SSOConnect for login experience. Mortgagee and Membership payers will use the IC Virtual Site for one time/guest payments. SSOConnect will be included in phase 2 for membership payments. 
Membership registered web payments – SSOConnect - Phase 2 
Registered web payments on IC for memberships. - Phase 2
Members are sent directly to IC’s Virtual Site where they must look up their account to make a payment.
Membership guest payments
Members are sent directly to IC’s Virtual Site where they must look up their account to make a payment.
Insurance registered web payments - SSOConnect
Insurance guest payments - CloudPayv2
Agent Experience
Agents will process payments and update account settings (stored payment method, autopay, paperless, pay by text) through Guidewire Billing Center and Policy Center using AgentConnect
Redirects from BC/PC for payments - AgentConnect
Redirects from ProducerEngage for payments - AgentConnect
Invoice Cloud Web Services
The information in the Invoice Cloud Web Services section reflects the information given to Invoice Cloud at the time of Discovery and Design. It is possible for this information to be updated at any time by a biller or CIS Vendor without notifying Invoice Cloud.
API Name
API Use/Purpose
UpdateCustomerEmailSubscription
Used to unsubscribe accounts from email notifications. All linked accounts will be unsubscribed with one webservice call.  
Retrieve CustomerGUID
Used to retrieve the CustomerGUID required in the UpdateCustomerEmailSubscription webservice.
AgentConnect 
Used for all deposit/down payments through Policy Center, Billing Center and Producer Center
The will use an AgentConnect listener to tell when a payment has successfully been made to move to the next task/page in their policy issuance. They will look for PaymentGUID and Payment Method to confirm approval of payment. 
Cloud Pay v2
Used for one time insurance payments 
CustomerRenewal API
Used to move Submission Account settings (autopay, paperless, paybytext) to the newly created Membership Account/InvoiceStream
UploadInvoice
Used to upload all invoices from Guidewire Billing Center to IC
CustomerRecord
Used to create the main Membership account on Invoice Cloud. This account will be used as the main account all other invoice streams will be linked to
LinkAccounts
Used to link all membership invoice streams together so Users can see all invoice streams available through one login account
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
 URL:/spaces/IM/pages/3089334273/BID+4037+Texas+Farm+Bureau+Insurance+TFB+Technical+Design