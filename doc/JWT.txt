JWT (JSON Web Token) authentication is widely used for securing APIs and web applications due to its simplicity, efficiency, and security features. Here are some key reasons to use JWT authentication:
1. 
Statelessness
JWTs are stateless, meaning the server does not need to store session information. All the necessary information is contained within the token itself, which simplifies the server-side logic and improves scalability
2. 
Compact and Self-Contained
JWTs are compact and self-contained, making them easy to transmit over HTTP headers, query parameters, or cookies. They contain all the information needed for authentication and authorization, reducing the need for multiple database lookups
3. 
Security
JWTs are signed using a secret key or a public/private key pair, ensuring the integrity and authenticity of the token. This means that any tampering with the token can be detected by the server.  
We use public/private key pair and the RS256 algorithm for signing.
4. 
Interoperability
JWTs are language-agnostic and can be used across different platforms and technologies. This makes them ideal for microservices architectures and distributed systems where different services might be implemented in different languages
5. 
Ease of Use
JWTs are easy to implement and use. They can be generated and verified using standard libraries available in most programming languages. This simplicity makes them a popular choice for developers
6. 
Flexibility
JWTs can carry any type of information, such as user roles, permissions, and other metadata. This flexibility allows for fine-grained access control and customization based on the application's needs.
Use Case
We use JWT authentication for internal applications and APIs.  Example, Biller Portal and our reporting APIs. 
Biller Portal â†’ APIs
JWT (JSON Web Token) with RS256 is used for transmitting information between the Biller Portal and the APIs.  RS256 stands for RSA Signature with SHA-256, which is a cryptographic algorithm used to sign the token.
Claims
Claim
Required
Description
urn:invoicecloud:billerguid
Required
Biller GUID
urn:invoicecloud:usertype
Required
Biller
The user type of the subject principal.
obo
Optional
On-Behalf-Of (OBO) claim in a is used to indicate that one principal is allowed to act on behalf of another principal.
The biller user GUID (only used if the the subject is a user operating on behalf of another user)
sub
Required
The biller user GUID or the Invoice Cloud employee GUID if they are operating on behalf of the biller user
jti
Required
The 
jti
 (JWT ID) claim provides a unique identifier for the token.
exp
Required
The 
exp
 (expiration time) claim specifies the exact time after which the token is considered invalid.
iat
Required
The 
iat
 (issued at) claim  indicates the exact time at which the token was issued.
iss
Required
www.invoicecloud.com
The 
iss
 (issuer) claim identifies the principal that issued the token.
aud
Required
www.invoicecloud.com
The 
aud
 (audience) claim  identifies the intended recipient(s) of the token.
k8s Biller Cluster JWT Signing Certificate
Key Vault: 
kv-pri-biller0-dev
, 
kv-pri-biller0-iat
,
kv-pri-biller0-qar
,
kv-pri-biller0-xat
, 
kv-pri-biller0-prd
Secret Name: 
Jwt-SigningCertificate
Azure VM Signing Certificate
Key Vault: 
icappsettingsdevtest
, 
icappsettings
Secret Name: 
JwtSigningCertificate
Example JWT Decoded Payload
{
  "urn:invoicecloud:billerguid": "A6DD4047-A077-4FBD-B718-XXXXXXXXXXXX",
  "urn:invoicecloud:usertype": "Biller",
  "sub": "DD5094D5-12F1-4CE1-B45C-XXXXXXXXXXXX",
  "jti": "2c12abd5-f71e-446d-ae7d-996e84e092a8",
  "nbf": 1736459275,
  "exp": 1736462875,
  "iat": 1736459275,
  "iss": "https://www.invoicecloud.com",
  "aud": "https://www.invoicecloud.com"
}
Resources
https://jwt.io/
 
 URL:/spaces/EA/pages/3376185583/JWT