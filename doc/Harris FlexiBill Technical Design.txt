Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation
Jira ticket 
INT-4411
ITR
Release Date
Document status
In Review
Blue
Document owner
 
Solution engineer
 
Salesforce SOW
Knowledge Transfer
API Documentation
NA. This is a batch based software partner.
Bill Presentment (Template Detail)
NA. This partner does not have a standard template.
File Mapping
Invoice File
Note* 
Invoices are broken up into blocks. Each new invoice starts with "HDR" and every subsequent "D" line that follows is to be part of the invoice block.
Utility_Invoices_Base
File Summary/Purpose: BIF supplied by the software partner
File Extension: BIF
File Delimiter: NA
StratusInvoiceFileTypeDesc: IF_Flexibill Utility Base
StratusInvoiceFileTypeID: 437
Code Repository: StratusWebServices
FileName/ClassName: Utility_Invoices_Base.vb
Sample File:  
Mapping Reference:
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Notes
Partner Field Character Limit
Record Type
8
RecordType
N
TRUE
IC Generated Field: Always “N”
Invoice Header
10
InvoiceNumber
Y
TRUE
Account+CoDiv+BillID
Account+Co Div: 20
BillID: 10
Invoice Header
11
InvoiceDate
Y
TRUE
BillDate
10
Invoice Header
12
InvoiceDueDate
Y
TRUE
DueDate
10
Invoice Header
13
TotalAmountDue
Y
TRUE
Amount
15
Invoice Header
38
Custom1
Y
FALSE
LineID
3
Invoice Header
39
Custom2
Y
FALSE
Account
Invoice Header
40
Custom3
Y
FALSE
Location
40
Invoice Header
41
Custom4
Y
FALSE
BillDate
10
Invoice Header
42
Custom5
Y
FALSE
DueDate
10
Invoice Header
43
Custom6
Y
FALSE
From
10
Invoice Header
44
Custom7
Y
FALSE
To
10
Invoice Header
45
Custom8
Y
FALSE
Amount
15
Invoice Header
46
Custom9
Y
FALSE
PriorDue
15
Invoice Header
47
Custom10
Y
FALSE
TotalDue
15
Invoice Header
93
BalanceDue
Y
FALSE
BalanceDue
15
Invoice Header
94
Custom11
Y
FALSE
DueAfterAmt
15
Invoice Header
95
Custom12
Y
FALSE
NumOfDaysService
5
Invoice Header
96
Custom13
Y
FALSE
BillToName
35
Invoice Header
97
Custom14
Y
FALSE
BillAddress1
30
Invoice Header
98
Custom15
Y
FALSE
BillAddress2
30
Invoice Header
99
Custom16
Y
FALSE
City
25
Invoice Header
100
Custom17
Y
FALSE
State
2
Invoice Header
101
Custom18
Y
FALSE
Zip
10
Invoice Header
102
Custom19
Y
FALSE
AutoPayMessage
50
Invoice Header
103
Custom20
Y
FALSE
BillMessage1
30
Invoice Header
104
Custom21
Y
FALSE
BillMessage2
30
Invoice Header
105
Custom22
Y
FALSE
BillMessage3
30
Invoice Header
106
Custom23
Y
FALSE
BillMessage4
30
Invoice Header
107
Custom24
Y
FALSE
BillMemoMsg
50
Invoice Header
108
Custom25
Y
FALSE
BillToName2
35
Invoice Header
109
Custom26
Y
FALSE
BudgetBillIfOnBB
8
Invoice Header
110
Custom27
Y
FALSE
AlternateID
22
Invoice Header
111
Custom28
Y
FALSE
MailGroup
4
Invoice Header
112
Custom29
Y
FALSE
AutoPayCustomer
7
Invoice Header
113
Custom30
Y
FALSE
Class
4
Invoice Header
114
Custom31
Y
FALSE
UserDefined1
30
Invoice Header
115
Custom32
Y
FALSE
UserDefined2
30
Invoice Header
116
Custom33
Y
FALSE
UserDefined3
30
Invoice Header
117
Custom34
Y
FALSE
UserDefined4
30
Invoice Header
118
Custom35
Y
FALSE
UserDefined5
30
Invoice Header
119
Custom36
Y
FALSE
UserDefined6
30
Invoice Header
120
Custom37
Y
FALSE
UserDefined7
30
Invoice Header
121
Custom38
Y
FALSE
UserDefined8
15
Invoice Header
122
Custom39
Y
FALSE
UserDefined9
15
Invoice Header
123
Custom40
Y
FALSE
UserDefined10
15
Invoice Header
124
Custom41
Y
FALSE
LastPaymentDate
10
Invoice Header
125
Custom42
Y
FALSE
LastPaymentAmount
15
Invoice Header
126
Custom43
Y
FALSE
ACHSettlementDate
10
Invoice Header
127
Custom44
Y
FALSE
PenaltySinceLastBill
15
Invoice Header
128
Custom45
Y
FALSE
YTDVariance
15
Invoice Header
129
Custom46
Y
FALSE
ActualAmount
15
Invoice Header
130
Custom47
Y
FALSE
TaxCode1
2
Invoice Header
131
Custom48
Y
FALSE
TaxAmount1
7
Invoice Header
132
Custom49
Y
FALSE
TaxCode2
2
Invoice Header
133
Custom50
Y
FALSE
TaxAmount2
7
Invoice Header
134
Custom51
Y
FALSE
TaxCode3
2
Invoice Header
135
Custom52
Y
FALSE
TaxAmount3
7
Invoice Header
136
Custom53
Y
FALSE
TaxCode4
2
Invoice Header
137
Custom54
Y
FALSE
TaxAmount4
7
Invoice Header
138
Custom55
Y
FALSE
TaxCode5
2
Invoice Header
139
Custom56
Y
FALSE
TaxAmount5
7
Invoice Header
140
Custom57
Y
FALSE
TaxCode6
2
Invoice Header
141
Custom58
Y
FALSE
TaxAmount6
7
Invoice Header
142
Custom59
Y
FALSE
LinkedID
10
Invoice Header
143
Custom60
Y
FALSE
DelinquentMessage
30
Invoice Header
249
PromptPayDiscountAmount
Y
FALSE
DiscountAmount
Conditional Logic
If DiscountAmount is 0
Then this field is empty.  
15
Invoice Header
250
PromptPayExpirationDate
Y
FALSE
DiscountDate
Conditional Logic
If DiscountAmount is 0
Then this field is empty.  
10
Invoice Header
252
InvoiceTypeID
N
TRUE
I
C Generated Always 42
345
BillerInstallmentNumber
N
FALSE
BillDate("yyMMdd")
Invoice Header
346
BillerBillYear
N
FALSE
BillDate("yyyy")
Invoice Header
347
BillerInvoiceNumber
Y
FALSE
Account
Conditional Logic
If Account is all zeroes 
Then BillerInvoiceNumber won't be saved.
Else all leading zeroes will be trimmed.
Invoice Header
375
Active
Y
FALSE
Invoice Header
59
AccountNumber
Y
TRUE
Account
+CoDiv
Customer Record
60
CustomerName
Y
TRUE
BillToName
Conditional Logic
If BillToName is empty  
Then CustomerName = "BillToName2"
Customer Record
61
Address1
Y
FALSE
BillAddress1
Customer Record
62
Address2
Y
FALSE
BillAddress2
Customer Record
63
City
Y
FALSE
City
Customer Record
64
State
Y
FALSE
State
Customer Record
65
Zip
Y
FALSE
Zip
Customer Record
67
EmailAddress
Y
FALSE
EmailAddress
Customer Record
371
CustomerName2
N
FALSE
BillToName2
Conditional Logic
If BillToName is not empty
Then CustomerName2 = "BillToName2"
Customer Record
373
DisplayAccountNumber
N
FALSE
Account
83
CustomField1
Y
FALSE
LineID
Invoice Detail
84
CustomField2
Y
FALSE
Account
Invoice Detail
85
CustomField3
Y
FALSE
Service
Invoice Detail
86
CustomField4
Y
FALSE
Rate
Invoice Detail
87
CustomField5
Y
FALSE
MeterNo
Invoice Detail
88
CustomField6
Y
FALSE
Current
Invoice Detail
89
CustomField7
Y
FALSE
Previous
Invoice Detail
90
CustomField8
Y
FALSE
Multiplier
Invoice Detail
91
CustomField9
Y
FALSE
Consumption
Invoice Detail
92
CustomField10
Y
FALSE
Amount
Invoice Detail
208
CustomField11
Y
FALSE
ActualAmount(ForBudgetBilling)
Invoice Detail
209
CustomField12
Y
FALSE
VarianceAmount(ForBudgetBilling)
Invoice Detail
210
CustomField13
Y
FALSE
RateDiscount
Invoice Detail
211
CustomField14
Y
FALSE
PreviousConsumption1
Invoice Detail
212
CustomField15
Y
FALSE
PreviousReadDate1
Invoice Detail
213
CustomField16
Y
FALSE
PreviousConsumption2
Invoice Detail
214
CustomField17
Y
FALSE
PreviousReadDate2
Invoice Detail
215
CustomField18
Y
FALSE
PreviousConsumption3
Invoice Detail
216
CustomField19
Y
FALSE
PreviousReadDate3
Invoice Detail
208
CustomField20
Y
FALSE
PreviousConsumption4
Invoice Detail
209
CustomField21
Y
FALSE
PreviousReadDate4
Invoice Detail
210
CustomField22
Y
FALSE
PreviousConsumption5
Invoice Detail
211
CustomField23
Y
FALSE
PreviousReadDate5
Invoice Detail
212
CustomField24
Y
FALSE
PreviousConsumption6
Invoice Detail
213
CustomField25
Y
FALSE
PreviousReadDate6
Invoice Detail
214
CustomField26
Y
FALSE
PreviousConsumption7
Invoice Detail
215
CustomField27
Y
FALSE
PreviousReadDate7
Invoice Detail
216
CustomField28
Y
FALSE
PreviousConsumption8
Invoice Detail
217
CustomField29
Y
FALSE
PreviousReadDate8
Invoice Detail
218
CustomField30
Y
FALSE
PreviousConsumption9
Invoice Detail
219
CustomField31
Y
FALSE
PreviousReadDate9
Invoice Detail
220
CustomField32
Y
FALSE
PreviousConsumption10
Invoice Detail
230
CustomField33
Y
FALSE
PreviousReadDate10
Invoice Detail
231
CustomField34
Y
FALSE
PreviousConsumption11
Invoice Detail
232
CustomField35
Y
FALSE
PreviousReadDate11
Invoice Detail
233
CustomField36
Y
FALSE
PreviousConsumption12
Invoice Detail
234
CustomField37
Y
FALSE
PreviousReadDate12
Invoice Detail
235
CustomField38
Y
FALSE
PreviousConsumption13
Invoice Detail
236
CustomField39
Y
FALSE
PreviousReadDate12
Invoice Detail
237
CustomField40
Y
FALSE
MeterReadingCode
Invoice Detail
238
CustomField41
Y
FALSE
ServiceFromDate
Invoice Detail
240
CustomField43
Y
FALSE
ServiceToDate
Invoice Detail
241
CustomField44
Y
FALSE
BaseRate
Invoice Detail
242
CustomField45
Y
FALSE
BaseConsumption
Invoice Detail
243
CustomField46
Y
FALSE
RateStep1Rate
Invoice Detail
244
CustomField47
Y
FALSE
RateStep1Cons
Invoice Detail
245
CustomField48
Y
FALSE
RateStep2Rate
Invoice Detail
246
CustomField49
Y
FALSE
RateStep2Cons
Invoice Detail
247
CustomField50
Y
FALSE
RateStep3Rate
Invoice Detail
255
CustomField51
Y
FALSE
RateStep3Cons
Invoice Detail
256
CustomField52
Y
FALSE
RateStep4Rate
Invoice Detail
257
CustomField53
Y
FALSE
RateStep4Cons
Invoice Detail
258
CustomField54
Y
FALSE
RateStep5Rate
Invoice Detail
259
CustomField55
Y
FALSE
RateStep5Cons
Invoice Detail
260
CustomField56
Y
FALSE
RateStep6Rate
Invoice Detail
261
CustomField57
Y
FALSE
RateStep6Cons
Invoice Detail
262
CustomField58
Y
FALSE
RateStep7Rate
Invoice Detail
263
CustomField59
Y
FALSE
RateStep7Cons
Invoice Detail
264
CustomField60
Y
FALSE
RateStep8Rate
Invoice Detail
265
CustomField61
Y
FALSE
RateStep8Cons
Invoice Detail
266
CustomField62
Y
FALSE
Adj(IfAdjustment)
Invoice Detail
267
CustomField63
Y
FALSE
TaxCode1
Invoice Detail
268
CustomField64
Y
FALSE
TaxAmount1
Invoice Detail
269
CustomField65
Y
FALSE
TaxCode2
Invoice Detail
270
CustomField66
Y
FALSE
TaxAmount2
Invoice Detail
271
CustomField67
Y
FALSE
TaxCode3
Invoice Detail
272
CustomField68
Y
FALSE
TaxAmount3
Invoice Detail
273
CustomField69
Y
FALSE
TaxCode4
Invoice Detail
274
CustomField70
Y
FALSE
TaxAmount4
Invoice Detail
275
CustomField71
Y
FALSE
TaxCode5
Invoice Detail
276
CustomField72
Y
FALSE
TaxAmount5
Invoice Detail
277
CustomField73
Y
FALSE
TaxCode6
Invoice Detail
278
CustomField74
Y
FALSE
TaxAmount6
Invoice Detail
279
CustomField75
Y
FALSE
MeterNo2
Invoice Detail
280
CustomField76
Y
FALSE
CurrentReadMeterNo2
Invoice Detail
281
CustomField77
Y
FALSE
PreviousReadMeterNo2
Invoice Detail
282
CustomField78
Y
FALSE
ConsumptionMeterNo2
Invoice Detail
283
CustomField79
Y
FALSE
MeterNo3
Invoice Detail
284
CustomField80
Y
FALSE
CurrentReadMeterNo3
Invoice Detail
285
CustomField81
Y
FALSE
PreviousReadMeterNo3
Invoice Detail
286
CustomField82
Y
FALSE
ConsumptionMeterNo3
Invoice Detail
287
CustomField83
Y
FALSE
Units
Invoice Detail
288
CustomField84
Y
False
PriorDue
Invoice Detail
IF Flexibill Utility Replacement Base
File Summary/Purpose: BRF supplied by the software partner
File Extension: BRF
File Delimiter: NA
StratusInvoiceFileTypeDesc: IF_Flexibill Utility Replacement Base
StratusInvoiceFileTypeID: 440
Code Repository: StratusWebServices
FileName/ClassName: Utility_Replacement_Invoices_Base.vb
Sample File:  
SFTP File Path: NA
File Transfer Frequency:  Quarterly
All other fields are the same as 
IF_Flexibill Utility Base
Strikethrough
 Strikethrough means that it is excluded from this file. 
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Record Type
8
RecordType
N
FALSE
IC Generated Field: Always “R”
Invoice Header
288
CustomField84
Y
FALSE
PriorDue
Invoice Detail
Adjustment/Daily Balance File
Flexibill Daily Balance
File Summary/Purpose: The purpose of this file is transfer bill/invoice updated balance data to IC from the biller
File Extension: .BAF
File Delimiter: “|”
StratusAdustmentFileTypeDesc: IF_Flexibill Daily Balance Base
StratusAdjustmentFileTypeID: 150
Code Repository: StratusWebServices
FileName/ClassName: Utility_DailyBalance_Base.vb
Sample File: 
Field
Description
InvoiceTypeID
IC Generated Always 42
AdjustmentTypeID
BalanceDifferential (Always 2) 
AccountNumber
First Column
InvoiceNumber
Second Column
AdjustmentAmount
Third Column
Conditional Logic
If AdjustmentAmount is Negative value
Then convert to a Positive value.  
AdjustmentDate
Now: current CST date and time
Payment/Lockbox File
Utility Payment 
File Summary/Purpose: The purpose of this file is transfer payment data from IC to the biller
File Extension: .mcs
File Naming Convention: ICPayments_YYYYMMDDSSSSSS.mcs  *
NOTE:
 Payment files are separated by the CoDiv in the customer's account number (Last three characters) and the extension (ex. ".mcs") is the file identifier.
File Delimiter:  space delimited
StratusPaymentFileTypeDesc: IF_Flexibill Payment Export Base
StratusPaymentFileTypeID: 202
Repo: StratusWebServices
File Name: Utility_Payment_Export_Base.vb
ACH Reject Requirements:
C-Code Rejects included?
No
Include Credits & Chargebacks?
Credits?
No
Chargebacks?
No
Sent a Negative value, using dash indicator?
No
Sample File: (All values are left justified | padded to the right with with Spaces, except for Amount and ConvenienceFee. They are padded with 0’s and are right justified.)
Field
Data Type
Character Limits
Fields
Notes
AccountNumber
String
30
Custom2
Amount
String
8
PaymentAmount - ConvenienceFee
TenderType
String
1
Credit Card
Visa=V
Mastercard=M
Discover=D
American Express=A
ACH = C
Other = X
Description
String
24
Always “Invoice Cloud Payment”
Authorization
String
20
PaymentMessage
PaymentDate
String
14
PaymentDate
Formatted 
yyyyMMddhhmmss
CheckNum
String
10
CheckNumber
Last 10 Chars
ConvenienceFee
String
8
ConvenienceFee
Change Log File
Utility Autopay Changelogs 
File Summary/Purpose: The purpose of this file is transfer change log data from IC to the biller
File Extension: .txt
File Naming Convention: ICAutoPayChangeReport_YYYYMMDDSSSSSS.txt
File Delimiter: “|”
Specification: 
StratusChangeLogFileTypeDesc: IF_Harris Flexibill Autopay Change Logs
StratusChangeLogFileTypeID: 23
Code Repository: StratusWebServices
FileName/ClassName: Utility_Autopay_ChangeLogs_Export_Base.vb
Known Billers with this file type enabled: 
Sample File: 
Field
Data Type
Description
CustomerName
String
Customer Name from IC database
AccountNumber
String
Account Number from IC database - Invoice Field: Custom2
InvoiceType,Autopay(Yes/No)
String
InvoiceType is pulled from IC database - InvoiceTypeDesc
Condition
If NewValue = 1
Then Autopay = "Yes"
Else Autopay = "No"
Autopay change date
Datetime
Date Autopay was changed on IC (Format: MMDDYYYYHHMMSS)
Miscellaneous File
Utility Email Change Logs
File Summary/Purpose: The purpose of this file is transfer change log data from IC to the biller
File Extension: .txt
File Naming Convention: 
 ICEmailChangesReport_YYYYMMDDSSSSSS.txt
File Delimiter: “|”
Specification: 
StratusMiscFileTypeDesc: Flexibill Email Change Logs
StratusMiscFileTypeID: 14
Code Repository: StratusWebServices
FileName/ClassName:  Utility_Email_ChangeLogs_Export_Base.vb
Sample File: 
Field
Data Type
Description
CustomerName
String
Customer Name from IC database
AccountNumber
String
Account Number from IC database - Invoice Field: Custom2
OldValue
String
OldValue from IC database - ChangeLogs Field: OldValue
NewValue
String
NewValuefrom IC database - ChangeLogs Field: NewValue
Email change date
Datetime
Date email address was changed on IC
Utility Paperless Change Logs
File Summary/Purpose: The purpose of this file is transfer change log data from IC to the biller
File Extension: .txt
File Naming Convention: ICPaperlessChangesReport_YYYYMMDDSSSSSS.txt
File Delimiter: “|”
Specification: 
StratusMiscFileTypeDesc: Flexibill Paperless Change Logs
StratusMiscFileTypeID: 15
Code Repository: StratusWebServices
FileName/ClassName: Utility_Paperless_ChangeLogs_Export_Base.vb
Sample File: 
Field
Data Type
Description
CustomerName
String
Customer Name from IC database
AccountNumber
String
Account Number from IC database - Invoice Field: Custom2
InvoiceType,Paperless(Yes/No)
String
InvoiceType is pulled from IC database - InvoiceTypeDesc
Condition
If NewValue = 1
Then Paperless = "Yes"
Else Paperless = "No"
Paperless change date
Datetime
Date Paperless setting was changed on IC
Flexibill Payment Expiration File
File Summary/Purpose: The purpose of this file is transfer expire payments. We receive this from the biller to IC. 
File Extension: .SPF
File Naming Convention:  _MCS_MMDDYYYYSSSSSS.SPF
File Delimiter: “|”
Specification: 
StratusMiscFileTypeDesc: Flexibill Payment Expiration File
StratusMiscFileTypeID: 25
Code Repository: StratusWebServices
FileName/ClassName: Utility_PaymentExpiration_Base.vb
Sample File: 
Field
Data Type
Description
AccountNumber
String
Column 1
InvoiceNumber
String
Column 1 + Column 2 (concatenated)
PaymentExpirationDate
String
Column 3 - 1 day
PaymentExpirationMessage
String
Column 4
Advanced Settings
NA
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AllowPartialPayments
Refer to Biller Questionnaire
AutoPayCollectionDate
Refer to Biller Questionnaire
BalanceForward
Refer to Biller Questionnaire
FirstNotifyRequestedDate
Refer to Biller Questionnaire
InvoiceFormatGuid
Refer to Biller Questionnaire
SecondNotifyRequestedDate
Refer to Biller Questionnaire
ThirdNotifyRequestedDate
Refer to Biller Questionnaire
User Interaction and Design
Data Flow - Invoice
att2432598123
2366669033
1
Flexibill Invoices
IM
att2432598118
att2433744996
0
Data Flow - Adjustments
att2432598133
2366669033
1
FlexiBill Adjustments
IM
att2432598128
att2433745004
0
Data Flow - Payment
att2432664074
2366669033
1
FlexiBill Payments
IM
att2431647908
att2431647903
0
Data Flow - Void
Voids are manually processed in the biller portal.
Data Flow - ACH Reject
ACH Rejects are Manually processed in FlexiBill
Data Flow - Change Log
att2432664069
2366669033
1
FlexiBill Changelogs
IM
att2434138176
att2433745011
0
Data Flow - Bill Presentment
Billers may have Template or PDF.
Payer Experience
Payers will access Invoice Cloud from the Biller website (URL redirect). Payers will use the IC Virtual Site and Customer Portal.
Biller Experience
Billers will access Invoice Cloud through the Biller Portal.
User Stories
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
 URL:/spaces/IM/pages/2366669033/Harris+FlexiBill+Technical+Design