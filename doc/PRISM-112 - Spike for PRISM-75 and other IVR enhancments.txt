Objective:
Enhance Customer Experience and Optimize Payment & Authorization Processes
Streamline Customer Authentication:
Reduce the number of authentication steps while maintaining security and compliance.
Implement smarter verification methods to minimize redundant identity checks.
Optimize Payment Options:
Automatically disable the credit card payment option for billers that do not accept credit card transactions.
We Need Clarification on these:
When the Authorization process take place in the IVR workflow. Based on our analysis we are not sure whether it is in our scope of it is taking care by IVR tech.
No clarity on weather we need to enhance our API to perform authentication or working with IVR tech to improve it before endpoint consumptions.
What is the scope of work as we can see another independent requirement to remove the credit card option.
1) Current Implementation on Each IVR endpoint:
In summary, each web service method typically verifies the identity of the customer by validating the partner and biller information using the ValidateIvrPartner and ValidateBillerAndProduct functions. The SendWebLink method also checks if the invoice exists for the given customer using the InvoiceExists function.
Most likely the Authorization has taking place on the IVR Tech side. Before processing the Any of the Endpoint Customer Authorization has been taken.
2) Remove the credit card option from the payment options:
To remove the credit card option from the payment options available for the customer when the billers do not accept credit card payments, we need to modify the logic where the payment options are determined. Specifically, you need to check the BlockPaymentsCC property of the clsBillers class and ensure that the credit card option is not included if this property is set to True.
Here is how you can modify the SetSearchReturnValues and SetAdvancedSearchReturnValues methods in the IVRTechV1 and CloudIVR class to achieve this.
Exposed endpoints are AdvancedIVRSearch, UtilitySearch1, UtilitySearch2, UtilitySearch3 and TaxSearch1 and TaxSearch2
Current implementation: 
If myInvoice.BalanceDue > 0 Or InvoiceOptionCheck = True Then
    'Allow Payment
    If myCustomer.BlockPaymentsCC = False Then
        RETVAL.AllowCCPayment = True
        RETVAL.CCServiceFee = clsUtilities.CalculateServiceFee(MyBiller, myInvoice, True, "999999", RETVAL.BalanceDue, 10, Nothing)
        RETVAL.CCServiceFee = RETVAL.CCServiceFee + IvrSurcharge
    End If
    If myCustomer.BlockPaymentsEFT = False Then
        RETVAL.AllowACHPayment = True
        RETVAL.ACHServiceFee = clsUtilities.CalculateServiceFee(MyBiller, myInvoice, False, "", RETVAL.BalanceDue, 10, Nothing)
        RETVAL.ACHServiceFee = RETVAL.ACHServiceFee + IvrSurcharge
    End If



    'Adjust Balance Due for Discount
    If myInvoice.PromptPayDiscountAmount > 0 Then
        If Convert.ToDateTime(myInvoice.PromptPayExpirationDate) >= Now Then
            If RETVAL.BalanceDue - myInvoice.PromptPayDiscountAmount > 0 Then
                RETVAL.BalanceDue = RETVAL.BalanceDue - myInvoice.PromptPayDiscountAmount
            End If
        End If
    End If
Else
    'Block Payment, Reporting Only
    RETVAL.AllowACHPayment = False
    RETVAL.ACHServiceFee = 0
    RETVAL.AllowCCPayment = False
    RETVAL.CCServiceFee = 0
End If
New implementation: 
This will fix CC and ACH as well.
If myInvoice.BalanceDue > 0 Or InvoiceOptionCheck = True Then
    'Allow Payment
    If myCustomer.BlockPaymentsCC = False Then
        RETVAL.AllowCCPayment = True
        RETVAL.CCServiceFee = clsUtilities.CalculateServiceFee(MyBiller, myInvoice, True, "999999", RETVAL.BalanceDue, 10, Nothing)
        RETVAL.CCServiceFee = RETVAL.CCServiceFee + IvrSurcharge
    Else
      'Disable the credit card payment option for billers who has disabled the credit card transactions.
      RETVAL.BlockPaymentsCC = False
    End If
    If myCustomer.BlockPaymentsEFT = False Then
        RETVAL.AllowACHPayment = True
        RETVAL.ACHServiceFee = clsUtilities.CalculateServiceFee(MyBiller, myInvoice, False, "", RETVAL.BalanceDue, 10, Nothing)
        RETVAL.ACHServiceFee = RETVAL.ACHServiceFee + IvrSurcharge
    Else
      'Disable the EFT payment option for billers who has disabled the EFT transactions.
      'This has to be discussed before implemeted
      RETVAL.AllowACHPayment = False
    End If

    'Adjust Balance Due for Discount
    If myInvoice.PromptPayDiscountAmount > 0 Then
        If Convert.ToDateTime(myInvoice.PromptPayExpirationDate) >= Now Then
            If RETVAL.BalanceDue - myInvoice.PromptPayDiscountAmount > 0 Then
                RETVAL.BalanceDue = RETVAL.BalanceDue - myInvoice.PromptPayDiscountAmount
            End If
        End If
    End If
Else
    'Block Payment, Reporting Only
    RETVAL.AllowACHPayment = False
    RETVAL.ACHServiceFee = 0
    RETVAL.AllowCCPayment = False
    RETVAL.CCServiceFee = 0
End If
Confluence Links for better understanding on IVR
IVR - Engineering Documentation - Confluence
IVR Setup - Implementations - Confluence
IVR Line - Sara Goff - Confluence
IVR Call Validation - Delivery - Confluence
Outbound IVR - Delivery - Confluence
IVR Outbound Campaign - Delivery - Confluence
CloudIVRConnect (CloudIVR/IVR) - Development Support - Confluence
 URL:/spaces/PE/pages/4037902415/PRISM-112+-+Spike+for+PRISM-75+and+other+IVR+enhancments