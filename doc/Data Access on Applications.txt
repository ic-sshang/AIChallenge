Overview
This document is to provide information on how to connect to our database(s) through an application.
One of the recent changes to our process is the introduction of Managed Identities. 
With the addition of Managed Identities, we can trace at the SQL level what application executed what SQL with precision.
The previous iteration was not the best and utilized a centralized credential. 
Definitions
Here are some definitions of key components that will be referenced further in the document. 
Managed Identity - An Azure Active Directory (AAD) resource that can be used to authenticate with Azure services. 
Types: 
System Managed Identity: 
This is a specific identity assigned to the Azure resource. This can be an Azure Function, Virtual Machine, etc. 
User Managed Identity: 
This is a user-created Managed Identity. This can be bound to more than one resource. 
ClientId 
This is the client id for an Azure Active Directory resource. This can be anything from a user, user/system-managed identity, or enterprise application.
If the value is empty, then it will take the "Default" identity.  Usually, this means the system managed identity for a resource. 
What happens if this is empty in the Term Servers? 
A: It will take the identity you used to sign in with Visual Studio. 
VaultName 
This is simply the name of the vault you are going to be retrieving the keys from. 
What key vaults are available? 
DevTest: icappsettingsdevtest
Production: ExternalAppSettings
UseManagedIdentity
This field is used to toggle between using Managed Identities or switching over to connection string connectivity. 
TokenExpirationOffset
This field is used to define when we want to request a new token and remove the existing one from the cache. 
Architecture
We do not use entity framework or ADO.NET on our main applications. 
We want to abstract that layer from our applications. 
Related
Data Access on Azure Functions
 
Using The Database Service
 
Using the IC.Database Nuget Package
 
See Also
 URL:/spaces/ED/pages/2806349859/Data+Access+on+Applications