Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation
Jira ticket 
INT-5782
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System JIRA
INT-5783
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System JIRA
Release Date
Document status
DRAFT
Document owner
 
 
Solution engineer
 
Salesforce SOW
Knowledge Transfer
https://us-21061.app.gong.io/call?id=6185818859225539756
 
API Documentation
Unique Biller Integration Values (will be provided on the Integration Coding Form):
Balance Update Endpoint
Details
IC Use
Partner API Name
Description
Request
Response
Specifications
RTDR: Balance Update
N/A
Used to update balances of the account in real time.
GET 
https://apidev.gemsnt.com/131/api.php?acctID=
"06M20563"
{
    "acctID": "06M20563",
    "amount": "116.46",
    "owner_name": "BARRIGA TAMARA M ",
    "year": "2006",
    "property_full_address": "76 D W HILL RD  NEW BEDFORD MA 2740"
}
The acctID will only accept actual matches or you'll get a 500 error.
Amount = IC Balance Due
AcctID = IC Account Number
Bill Presentment (Template Detail)
Sample Template: Biller might have a bill presentment they use themselves. This is the template available to them by Gemni
Mapping: IC fields in red.
DisplayAccountNumber has been changed to AccountNumber.
File Mapping
Invoice File
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Extension: .csv
File Naming Convention: Webtax_TownCode.csv (the file name does not change)
Specification: File will need to be converted to IC BIF. 
Sample File: Webtax_131.csv
SFTP will be used to upload Invoice Files. Path provided with coding completion. 
File Transfer Frequency: Every billing cycle (Currently twice a year)
Invoice Type IDs for each taxes will be provided to Gemni to use for Cloud Pay V2. Oldest bill/installment will need to be paid first. 
MV Linking required.  - 
https://app.getguru.com/card/TKxnnqMc/Understanding-the-Invoicing-Motor-Vehicle-Linking-Configuration-Tab
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
1
RowType
N
TRUE
Set by IC - Always ‘FH’
File Header
2
BillerGuid
N
TRUE
Set by IC
File Header
4
FileCreationDate
N
TRUE
Set by IC
Date we receive the file
File Header
5
InvoiceCount
Y
TRUE
itemID
int(7) NOT NULL
the last row will have the value for the invoice count
File Header
6
TotalInvoiceAmount
N
TRUE
Set by IC
Calculated by adding the TotalAmountDue of each row/invoice
File Header
7
RowType
N
TRUE
Set by IC
Invoice Header
8
RecordType
N
TRUE
Set by IC - N
Invoice Header
9
InvoiceFormatGuid
N
TRUE
Set by IC
Invoice Header
10
InvoiceNumber
N
TRUE
Set by IC
AcctID
Invoice Header
11
InvoiceDate
N
TRUE
Set by IC - date we receive the invoice
Date we receive the invoice
Invoice Header
12
InvoiceDueDate
Y
TRUE
1STDATE
varchar(10) NOT NULL,
Invoice Header
13
TotalAmountDue
Y
TRUE
AMTD
decimal(11,2) NOT NULL DEFAULT '0.00'
Amount Due
Invoice Header
93
BalanceDue
Y
FALSE
TOTDUE
decimal(11,2) NOT NULL DEFAULT '0.00'
Total Due
Invoice Header
346
BillerBillYear
Y
FALSE
YEAR
int(4) NOT NULL DEFAULT '0',
tax year of the bill
4
Invoice Header
58
RowType
N
TRUE
Set by IC Always 'CR”
59
AccountNumber
Y
TRUE
acctID
varchar(12) NOT NULL,
List Number (2 Digit Year/Type/List#)
12
Customer Record
60
CustomerName
Y
TRUE
“NAME” and “SNAME”
varchar(35) NOT NULL DEFAULT ''
35
Customer Record
61
Address1
Y
FALSE
ADD1
varchar(35) NOT NULL DEFAULT '',
35
Customer Record
62
Address2
Y
FALSE
ADD2
varchar(35) NOT NULL DEFAULT '',
35
Customer Record
63
City
Y
FALSE
CITY 
varchar(25) NOT NULL DEFAULT '',
25
Customer Record
64
State
Y
FALSE
STATE
char(2) NOT NULL DEFAULT '',
2
Customer Record
65
Zip
Y
FALSE
“ZIP5” and “ZIP4”
int(5) or int(4) NOT NULL DEFAULT '',
For any zip that is 4 digits, we will add a leading 0 to represent the correct zip code. 
4 or 5
Customer Record
373
DisplayAccountNumber
Y
FALSE
LISTNUM
int(6) NOT NULL DEFAULT '0',
List Number without characters
6
Customer Record
70
RowType
N
TRUE
Set by IC
Invoice Detail
38
Custom1
Y
FALSE
TOWNBR
int(3) NOT NULL DEFAULT '0',
Town Number unique to each biller
3
Invoice Detail
252
InvoiceTypeID
Y
TRUE
TYPE
varchar(1) NOT NULL
type of the bill; PDF attached with all examples (A,M,P,R,S,T,U,X)
'A' SEWER ASSESSMENT - Invoice Type ID 18
'M' MOTOR VEHICLE - Invoice Type ID 33
'P' PERSONAL PROPERTY - Invoice Type ID 7
'R' REAL ESTATE - Invoice Type ID 8
'S' SUPPLEMENTAL MVD - Invoice Type ID 9
'T' TRASH - Invoice Type ID 15 
'U' SEWER USAGE - Invoice Type ID 3
'X' PRO-RATE - Invoice Type ID 0
1
Invoice Detail
40
Custom2
Y
FALSE
IMVREG
varchar(8) NOT NULL DEFAULT '',
motor vehicle registration/motor vehicle plate number
8
Invoice Detail
41
Custom3
Y
FALSE
PAMTD
decimal(11,2) NOT NULL DEFAULT '0.00'
Principal Due
13
Invoice Detail
42
Custom4
Y
FALSE
IAMTD
decimal(7,2) NOT NULL DEFAULT '0.00'
Interest Due
9
Invoice Detail
43
Custom5
Y
FALSE
FEESD
decimal(9,2) NOT NULL
Fees Due
11
Invoice Detail
44
Custom6
Y
FALSE
LAMTD
decimal(5,2) NOT NULL DEFAULT
Lien Due
7
Invoice Detail
45
Custom7
Y
FALSE
PCAMTD
decimal(9,2) NOT NULL DEFAULT
Penalty Due
11
Invoice Detail
46
Custom8
Y
FALSE
TYPEDS
varchar(25) NOT NULL,
type of the bill; ex. Personal Property or Motor Vehicle
25
Invoice Detail
47
Custom9
Y
FALSE
DESCRIPTION
varchar(30) NOT NULL DEFAULT '',
Ex: Type of car or location of taxes 
Invoice Detail
48
Custom10
Y
FALSE
GROSS
int(9) NOT NULL DEFAULT '0',
Invoice Detail
49
Custom11
Y
FALSE
EXAM
int(9) NOT NULL DEFAULT '0',
Exemption Amount
Invoice Detail
50
Custom12
Y
FALSE
NET
int(9) NOT NULL DEFAULT '0',
Invoice Detail
51
Custom13
Y
FALSE
ELDBEN
decimal(9,2) NOT NULL DEFAULT '0.00',
Elderly Benefit
Invoice Detail
52
Custom14
Y
FALSE
TWNBEN
decimal(9,2) NOT NULL DEFAULT '0.00',
Town Benefit
Invoice Detail
53
Custom15
Y
FALSE
LienMsg
varchar(50) NOT NULL,
Lien Message
Invoice Detail
Payment/Lockbox File
File Summary/Purpose: The purpose of this file is transfer payment data from IC to the biller
File Extension: 
File Naming Convention: N/A
File Delimiter: 
Specification: 
ACH Reject Requirements: Not included (Send Standard ACH Reject Report separately) 
C-Code Rejects not included
Credits & Chargebacks: Not included
Sample File: layout.pdf
SFTP File Path: SFTP or Lockbox Email 
File Transfer Frequency: Daily (When Payments are made)
Payment File should include Cloud Payments as well. 
NOTE: Numeric fields can only have numbers 0-9 in them.
IE: Length =6, Dec Pos = 2 should be set to 123456 (1,234.56)
Field Mapping
Field
Data Type
Character Limits
Values
Specifications
List (List Number)
Numeric
6
Begin Position: 2
Decimal Positions: 0
This is IC DisplayAccountNumber - Will need to be set as left justified
Year (Grand List Year)
Numeric
2
Begin Position: 8
Decimal Positions: 0
Tax Year - IC Field 346
Type (Tax Type)
Alpha
1
Begin Position: 10
Decimal Positions: 0
Tax Type -
 Letter that corresponds to our Invoice Type ID
(A,M,P,R,S,T,U,X)
'A' SEWER ASSESSMENT - Invoice Type ID 18
'M' MOTOR VEHICLE - Invoice Type ID 33
'P' PERSONAL PROPERTY - Invoice Type ID 7
'R' REAL ESTATE - Invoice Type ID 8
'S' SUPPLEMENTAL MVD - Invoice Type ID 9
'T' TRASH - Invoice Type ID 15
'U' SEWER USAGE - Invoice Type ID 3
'X' PRO-RATE - Invoice Type ID 0
Paid (Amount Paid)
Numeric
11
Begin Position: 11
Decimal Positions: 2
Amount paid without service fees
Interest (Interest Paid)
Numeric
9
Begin Position: 22
Decimal Positions: 2
Not Required - Can fill with 0s
Lien (Lien Paid)
Numeric
5
Begin Position: 31
Decimal Positions: 2
Not Required - Can fill with 0s
Date (Date Paid (MMDDYYYY)) 
Numeric
8
Begin Position: 36
Decimal Positions: 0
Payment Date - Date the Payment has been processed 
Ref (Reference) 
Alpha
11
Begin Position: 50
Decimal Positions: 0
Last 11 characters of Auth Order Number
AcctID (Account ID)
Alpha
9
Begin Position: 2
Decimal Positions: 0
This is IC AccountNumber - Exact Account Number will be provided
Advanced Settings
Setting ID
Description
Value
Is value unique per biller? (Y/N)
8
RTDR EndPoint/WebService URL	
Endpoint by Gemni
Y
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AllowPartialPayments
BIF Customization
AutoPayCollectionDate
BIF Customization
BalanceForward
BIF Customization
FirstNotifyRequestedDate
BIF Customization
InvoiceDate
in BIF
InvoiceDueDate
in BIF
InvoiceFormatGuid
BIF Customization
InvoiceTypeID
in BIF
MinimumAmountDue
BIF Customization
PaymentExpirationDate
BIF Customization
PaymentExpirationMessage
BIF Customization
PromptPayExpirationDate
BIF Customization
SecondNotifyRequestedDate
BIF Customization
ThirdNotifyRequestedDate
BIF Customization
User Interaction and Design
Data Flow - Invoice
att2537816101
2472051405
1
Invoice Upload
IM
att2538242049
att2538143750
0
Data Flow - Adjustments
att2538143756
2472051405
1
RTDR
IM
att2537521247
att2537816107
0
Data Flow - Payment
att2537717777
2472051405
1
Payment File
IM
att2537488442
att2538045454
0
Data Flow - Bill Presentment
Biller can use their bill print vendor to choose between PDF Extraction or PDF Linking. Otherwise, they can use Gemni’s Standard HTML Template. 
Payer Experience
https://www.figma.com/file/yu3Bi54CscasQVuG0SBlxV/Gemni---Guest-Pay?type=design&node-id=0%3A1&t=m8vq40ORLiQvxll1-1
 
Payers will access Invoice Cloud from the Biller website (URL redirect). Payers will use the IC Customer Portal. Customers will make OTP through the Gemni User interface via Cloud Pay v2. 
Screenshots below are provided for the Cloud Pay v2 Guest Pay/OTP experience through Bi-Tek. 
Biller Experience
Biller will use their Bi-Tek Internal Software for the Biller experience. Biller Portal is available for further reports. 
Invoice Cloud Web Services
API Name
API Use/Purpose
Cloud Pay V2 
Used for Guest Payments and Clerk/InPerson Payments
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
N/A
 URL:/spaces/IM/pages/2472051405/Gemni+Technical+Design