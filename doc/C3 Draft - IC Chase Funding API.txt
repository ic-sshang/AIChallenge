none
Component Diagrams
ICChaseFundingAPI- JPM Treasury
2
1
0
0
4469031103
4469030964
1
Untitled Diagram-1751432477716.drawio
1
1
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1751432477716.drawio
0
821
931
IC Chase Funding API - OpenAPI Spec
openapi: 3.0.3
info:
  title: IC Chase Funding API
  description: API for creating, retrieving, and updating funding instructions to generate NACHA files for CCD entries, secured with HMAC-based authentication.
  version: 1.0.0
servers:
  - url: https://api.icchasefunding.com/v1 (pending url, haven't been deployed)
    description: Production server
paths:
  /funding-instructions:
    get:
      summary: Retrieve funding instructions by payout date
      description: Retrieves a list of funding instructions for a specific payout date, filtered by status, to populate NACHA Entry Detail Records. Supports pagination with page and limit parameters.
      operationId: getFundingInstructions
      parameters:
        - name: payoutDate
          in: query
          description: The effective entry date for the funding instructions (ISO 8601 format, e.g., 2025-08-08).
          required: true
          schema:
            type: string
            format: date
            example: 2025-08-08
        - name: status
          in: query
          description: Filter by instruction status (e.g., pending). Defaults to pending.
          required: false
          schema:
            type: string
            enum: [pending,processed]
            default: pending
        - name: page
          in: query
          description: Page number for pagination (e.g., 1 for first page, 2 for next).
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          description: Number of instructions per page (max 100).
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 100
      responses:
        '200':
          description: Successfully retrieved funding instructions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FundingInstructionsResponse'
              example:
                status: success
                data:
                  totalInstructions: 150
                  fundingInstructions:
                    - instructionId: F12345
                      bankAccountType: "Checking"
                      receivingDfiRoutingNumber: "12345678"
                      receiverAccountNumber: "98765432101234567"
                      amount: 100.50
                      effectiveEntryDate: 2025-08-08
                      status: pending
                      individualId: "ABCDEFGHIJKLMNO"
                      individualName: "MerchantDBA1"
                      instructionType: "Credit"
                    - instructionId: F12346
                      bankAccountType: "Savings"
                      receivingDfiRoutingNumber: "87654321"
                      receiverAccountNumber: "12345678901234567"
                      amount: 200.25
                      effectiveEntryDate: 2025-08-08
                      status: pending
                      individualId: "123DEFGHIJKLMNO"
                      individualName: "MerchantDBA2"
                      instructionType: "Credit"
        '400':
          description: Invalid query parameters (e.g., invalid payoutDate format).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized due to invalid or missing HMAC APIKey.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: No funding instructions found for the specified payoutDate and status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      summary: Create funding instructions
      description: Stores new funding instructions for NACHA file generation. The server generates a unique instructionId (auto-incremented primary key) and sets status to pending if not specified.
      operationId: createFundingInstructions
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateFundingInstructionsRequest'
            example:
              instructions:
                - bankAccountType: "Checking"
                  receivingDfiRoutingNumber: "12345678"
                  receiverAccountNumber: "98765432101234567"
                  amount: 100.50
                  effectiveEntryDate: 2025-08-08
                  status: pending
                  individualId: "ABCDEFGHIJKLMNO"
                  individualName: "MerchantDBA1"
                  instructionType: "Credit"
                - bankAccountType: "Savings"
                  receivingDfiRoutingNumber: "87654321"
                  receiverAccountNumber: "12345678901234567"
                  amount: 200.25
                  effectiveEntryDate: 2025-08-08
                  individualId: "123DEFGHIJKLMNO"
                  individualName: "MerchantDBA2"
                  instructionType: "Credit"
      responses:
        '201':
          description: Successfully created funding instructions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateFundingInstructionsResponse'
              example:
                status: success
                data:
                  createdInstructions: ["F12345", "F12346"]
        '400':
          description: Invalid request (e.g., invalid transactionCode, routing number, or amount).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized due to invalid or missing HMAC APIKey.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
        - hmacApiKey: []
  /funding-instructions/status:
    patch:
      summary: Update funding instruction status
      description: Updates the status of a set of funding instructions to a single status (e.g., processed after NACHA file generation). The update is performed atomically if possible to ensure consistency.
      operationId: updateFundingInstructionStatus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateStatusRequest'
            example:
              instructionIds: ["F12345", "F12346"]
              status: processed
      responses:
        '200':
          description: Successfully updated funding instruction statuses.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateStatusResponse'
              example:
                status: success
                data:
                  updatedInstructions: ["F12345", "F12346"]
        '400':
          description: Invalid request (e.g., invalid instructionIds or status).
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '401':
          description: Unauthorized due to invalid or missing HMAC APIKey.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: One or more instructionIds not found.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '500':
          description: Server error.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      security:
        - hmacApiKey: []
components:
  schemas:
    FundingInstructionsResponse:
      type: object
      properties:
        status:
          type: string
          enum: [success]
          example: success
        data:
          type: object
          properties:
            totalInstructions:
              type: integer
              description: Total number of funding instructions for the specified payoutDate and status.
              example: 150
            fundingInstructions:
              type: array
              items:
                $ref: '#/components/schemas/FundingInstruction'
      required:
        - status
        - data
    FundingInstruction:
      type: object
      properties:
        instructionId:
          type: string
          description: Unique identifier for the funding instruction, auto-incremented by the database.
          example: F12345
        bankAccountType:
          type: string
          description: Bank Account Type Ex. Checking, Savings, Commercial 
          pattern: ^\d{2}$
          example: "Checking, Savings, Commercial"
        receivingDfiRoutingNumber:
          type: string
          description: 8-digit ABA routing number of the receiving financial institution.
          pattern: ^\d{8}$
          example: 12345678
        receiverAccountNumber:
          type: string
          description: Receiver's account number (up to 17 characters).
          maxLength: 17
          example: 98765432101234567
        amount:
          type: number
          format: double
          description: Transaction amount in dollars (to be formatted as 10-digit right-justified for NACHA).
          minimum: 0
          example: 100.50
        effectiveEntryDate:
          type: string
          format: date
          description: Effective entry date for the transaction (ISO 8601).
          example: 2025-08-08
        status:
          type: string
          enum: [pending, processed]
          description: Current status of the funding instruction.
          example: pending
        instructionType:
          type: string
          description: Funding Instruction Type Credit or Debit
          example : Credit
      required:
        - instructionId
        - transactionCode
        - receivingDfiRoutingNumber
        - receiverAccountNumber
        - amount
        - effectiveEntryDate
        - status
        - bankAccountType
        - instructionType
    CreateFundingInstructionsRequest:
      type: object
      properties:
        instructions:
          type: array
          items:
            type: object
            properties:
              bankAccountType:
                type: string
                description: Bank Account Type Description
                pattern: ^\d{2}$
                example: Checking, Savings, Commercial
              receivingDfiRoutingNumber:
                type: string
                description: 8-digit ABA routing number of the receiving financial institution.
                pattern: ^\d{8}$
                example: 12345678
              receiverAccountNumber:
                type: string
                description: Receiver's account number (up to 17 characters).
                maxLength: 17
                example: 98765432101234567
              amount:
                type: number
                format: double
                description: Transaction amount in dollars (to be formatted as 10-digit right-justified for NACHA).
                minimum: 0
                example: 100.50
              effectiveEntryDate:
                type: string
                format: date
                description: Effective entry date for the transaction (ISO 8601).
                example: 2025-08-08
              status:
                type: string
                enum: [pending, processed]
                description: Status of the funding instruction (defaults to pending if not provided).
                example: pending
              instructionType: 
                type: string
                enum: [Credit, Debit]
                description: Type of funding instruction (credit or debit)
            required:
              - bankAccountType
              - receivingDfiRoutingNumber
              - receiverAccountNumber
              - amount
              - effectiveEntryDate
              - instructionType
      required:
        - instructions
    CreateFundingInstructionsResponse:
      type: object
      properties:
        status:
          type: string
          enum: [success]
          example: success
        data:
          type: object
          properties:
            createdInstructions:
              type: array
              items:
                type: string
              description: List of instructionIds for successfully created funding instructions.
              example: ["F12345", "F12346"]
      required:
        - status
        - data
    UpdateStatusRequest:
      type: object
      properties:
        instructions:
          type: array
          items:
            type: object
            properties:
              instructionId:
                type: string
                description: Unique identifier of the funding instruction to update.
                example: F12345
              status:
                type: string
                enum: [pending, processed]
                description: New status for the funding instruction.
                example: processed
            required:
              - instructionId
              - status
      required:
        - instructions
    UpdateStatusResponse:
      type: object
      properties:
        status:
          type: string
          enum: [success]
          example: success
        data:
          type: object
          properties:
            updatedInstructions:
              type: array
              items:
                type: string
              description: List of instructionIds that were successfully updated.
              example: ["F12345", "F12346"]
      required:
        - status
        - data
    ErrorResponse:
      type: object
      properties:
        status:
          type: string
          enum: [error]
          example: error
        message:
          type: string
          description: Description of the error.
          example: Invalid transactionCode
      required:
        - status
        - message
  securitySchemes:
    hmacApiKey:
      type: apiKey
      in: header
      name: APIKey
      description: HMAC-based authentication key (e.g., HMAC-SHA256 of request URL, body, and timestamp) for securing API requests.
 URL:/spaces/EA/pages/4469030964/C3+Draft+-+IC+Chase+Funding+API