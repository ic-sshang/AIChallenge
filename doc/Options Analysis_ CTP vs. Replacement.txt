About CTP
CTP 
(CloudTransactionProcessing) can be described as the InvoiceCloud payment engine.  It holds integrations for all payment processors (Chase, Paya/Sage, Braintree, WellsFargo, Bluefin, Bridgepay, NCR, etc) while also being the layer that validates requests (supported payment types, amounts, risk parameters, etc) and responses. All requests to process payment transactions eventually go through the CTP engine.  For example:
a request sent to ICRestAPI to process a transaction is packaged up internally and sent to CTP for processing
a Payer clicks the Process Payment button on MyIIS, the transaction is processed through CTP
when Autopay is ready to process a transaction, it sends it directly to CTP.
About ICChasePaymentProcessingAPI
ICChasePaymentProcessingAPI 
is a new API application that can be described as holding the new integration to Chase through the new Chase Commerce APIs.  It is Chase-specific, called by CTP when there is a need to process a transaction through Chase.  It essentially replaces 
clsPaymentech.vb
 in CTP which holds the integration to Chase Orbital. 
Analysis
As part of the project to integrate to the new Chase Commerce APIs, two options were considered as it relates to how CTP and ICChasePaymentProcessingAPI will work together.
Use CTP and “plug in” ICChasePaymentProcessingAPI
 – Retain CTP as the central entry point for upstream applications and introduce ICChasePaymentProcessingAPI as the backend API to process transactions through the new Chase Commerce APIs, similar to how Braintree/PayPal transactions are sent to CTP but behind the scenes, after validation, CTP sends it to the backend API named “ICGateway”.  
Build a new “CTP” and “plug in” ICChasePaymentProcessingAPI
 
 
– Build a new payment processing engine to replace CTP entirely and migrate all upstream applications to the new integration.  This would then route the Chase transaction requests to ICChasePaymentProcessingAPI.
The following table outlines the tradeoffs between these options across business logic, application impact, technical considerations, risk, and level of effort.
CTP vs. Replacement Approach – Comparison
Category
Use CTP and “plug in” ICChasePaymentProcessingAPI
 
Build a new “CTP” and “plug in” ICChasePaymentProcessingAPI
 
Business Logic
Preserves existing business rules and functions currently built into CTP, including: 
Support for Sales, Refunds, and Voids 
ACH and Credit Card validations (data validation, terminal configuration, payment amount, payer info) 
Risk checks (risk assessments, customer blocked status, duplicate transaction detection) 
Business-specific logic (splitting transactions between submitter vs. non-submitter) 
Inserting payment records into system of record 
Recalculating invoice balances post-payment 
Queueing email notifications (receipts, confirmations) 
Queueing DataPump records for reporting and reconciliation
All business logic must be re-documented, re-implemented, and validated.  All other payment processor integrations will need to be migrated. High risk of gaps or inconsistencies, including: 
Rebuilding transaction type handling 
Recreating ACH/CC validation flows 
Redesigning risk assessments and duplicate detection 
Re-implementing business-specific transaction splitting 
Rebuilding invoice, email, and DataPump processes 
Extensive regression testing required to match current functionality
Upstream Applications Impact
Minimal/no changes to upstream applications. All current integrations remain intact since CTP stays the single entry point. Only CTP’s downstream integration changes. 
Currently serves multiple upstream systems, including: 
Web Applications
: MyIIS, ICRestAPI, Various SOAP APIs, SMS API 
Scheduled Jobs
: Autopay, Scheduled Payments, HighVolumeAutoPay, CloudConnect
Significant changes required for all upstream applications. Each integration must be migrated to a new API, requiring coordinated rollout across multiple development teams. Higher risk of disruption if migration is incomplete or inconsistent.
Time to Market
Faster — focus on building ICChasePaymentProcessingAPI integration only.
Longer — requires discovery, rewrite, testing, and coordinated rollout.
Tech Debt
Continues reliance on older practices and  .NET Framework 4.8.  Progress is being made to improve state.
Opportunity to move to modern stack (REST/JSON, .NET 8+, cloud-native).
Testability & Quality Assurance
Limited testability. CTP can be difficult to unit test and automate due to its beginnings as a SOAP web service project. Limited existing automated coverage.  
High testability potential. A new API could be designed with automated testing in mind (unit, integration, end-to-end), enabling CI/CD pipelines, higher code coverage, and faster regression detection.
Scalability & Extensibility
Limited by CTP’s legacy design (e.g., SOAP overhead, constrained scaling model).
Flexible, modern architecture designed for cloud scaling and extensibility for future processors.
Operational Effort
Maintain legacy CTP plus new ICChasePaymentProcessingAPI.
Maintain all new payment engine
Risk
Low–Medium (incremental change, stable entry point maintained).
Extra Large (large rewrite, regression risk, broad application migration effort).
Level of Effort (LOE)
Medium (build ICChasePaymentProcessingAPI, regression test, ongoing support for CTP).
Extra Large (business logic discovery, rebuild, regression validation, app migrations, certification, compliance re-checks).
Decision
The risk to the business integrating to Chase’s all new Commerce APIs is high.  Chase is by far our largest payment processor.  This risk isn’t taking into account the PayFac piece, bringing the risk to the highest level.  Replacing the core of our payment processing when it is not a requirement for this project is not in our best interests at this time.  Our approach balances modernization while being pragmatic.  A new “CTP” can be re-visited in a future project.
 URL:/spaces/EA/pages/4608032824/Options+Analysis+CTP+vs.+Replacement