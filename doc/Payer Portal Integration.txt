The Payer Portal is a React SPA served by a 
ASP.Net
 MVC application.  This application will host the 1.5 newer UX views with enhanced user experience and additional features where applicable.  The application will support a URL GET integration to allow the legacy applications to easily hook the new views and architecture (separate UI and API backends) into their existing UI flows. 
Legacy Application Requirements
The legacy application will need to implement a RESTful API that will be called by the React SPA via the web browser to exchange the Session ID for a API Bearer Token.  This API will need to ensure the user session is valid on the server side and POST the authentication payload (Biller GUID, Payer User GUID, Timestamp, and HMAC) to the OTP token endpoint.  The token provided by the OTP token endpoint response is to be returned in the response.
Legacy API Request
GET /portal/2/ReactCustomerAuth.aspx HTTP/1.1
Host: www.invoicecloud.com
OTP Request
POST /payer/otp/api/v1/payertokens HTTP/1.1
Host: apibeta.invoicecloud.com

{
"billerGuid": "",
"userGuid": "",
"timestamp": "",
"hmac": ""
}
OTP Response
{
"token": "asdkads9eroifae893498efnef89d89n23489efghweierv0n345iefg0ndbvnoi349ef="
}
Legacy API Response
{
"token": "asdkads9eroifae893498efnef89d89n23489efghweierv0n345iefg0ndbvnoi349ef="
}
URL Specification
The URL specification requires the legacy application to pass the current Session ID and the desired target SPA page view.
URL Template
{REACT_ENV_BASE_URL}
/home/index/
{MY_IIS_SESSION_ID}
/
{REACT_PAGE}
Sandbox React Host URL
http://payer-ui-v2.sbx.invoicecloud.com/payer/pyrprtl0/home/index/(S(asdf43u9e8dn2e9dj)/paybytext
Dev React Host URL
http://payer-ui-v2.dev.invoicecloud.com/payer/pyrprtl0/home/index/(S(asdf43u9e8dn2e9dj)/paybytext
Production
TBD
IFRAME
The payer portal support being iframed.  The new UI 1.5 will need to support this integration.
https://devtest2.invoicecloud.com/Documentation/FileSpecifications/CloudSSOConnect.aspx?path=Specifications%2FCloudSSOConnect
 URL:/spaces/EN/pages/2708897829/Payer+Portal+Integration