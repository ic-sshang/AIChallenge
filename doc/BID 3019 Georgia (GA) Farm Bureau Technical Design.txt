Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
INT-2197
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
*All product requests and related Jira items for the biller are linked to INT-2197
Document status
complete
Green
 
Document owner
 
Solution engineer
 
API Documentation
Summary: The integration uses Data Pump to pass payments and ‘email unsubscribe' information to the biller.
Additional Details 
IC Use
Partner API Name
Description
Request
Response
Specifications
DataPump - Payment
 Payments API
Endpoints for our existing real-time remittance API (currently secured via IP whitelisting and client certificate authentication):
Test: 
https://tstpayments.gfbinsurance.com/paymentbrokerbasic/payment
Model(UAT): 
https://mdlpayments.gfbinsurance.com/PaymentBroker/Payment
Production: 
https://payments.gfbinsurance.com/PaymentBroker/Payment
 
Example:
{
       "UniqueID": "a12b7f65-3e12-48b1-bd64-1c4286bf32a5",
       "PaymentID": "8348600498",
       "VendorID": "FISERV",
       "PaymentDate": "2/17/2021 11:41:10 AM",
       "ReportDate": "2/17/2021",
       "AccountNumber": "05042857",
       "PaymentAmount": "204.00",
       "PaymentMethod": "VISA",
       "ConfCode": "8348600498",
       "PaymentNumber": "10009364",
       "PayStatus": "Approved",
       "InterfaceID": "W",
       "PaymentBatch": "202102170722182124310006042857",
       "EmailAddress": "
jwgarrison@gfbinsurance.com
",
       "Last4DigitsofPayAcct": "3210"
       “PaymentType”: “POL”
}
Response Code Field:
ResponseCode
00 - Success
Do Not Repost
01 - Failed
Repost
02 - Duplicate Payment
Do Not Repost
NO CODE - No response is received (SOAP exception error, NULL values, empty string, timeout, etc.). 
Repost
Example:
{
       "UniqueID": "a12b7f65-3e12-48b1-bd64-1c4286bf32a5",
       "ResponseCode": "00"
       "ResponseDescription": "Success"
}
 POST Request Fields:
UniqueID - 
Hardcoded value - 
String Length: inclusive between 0 and 50 = N/A (not an IC field)
PaymentID
 - Required - String Length: inclusive between 0 and 12 = IC Payment Message (numeric portion only)
VendorID - Required - String Length: inclusive between 0 and 50 = INVOICE CLOUD
PaymentDate - Required - Data Type: DateTime = IC Payment Date
ReportDate - Required - Data Type: Date = IC Payment Date
AccountNumber - Required - String Length: inclusive between 0 and 50 = Custom1 (if paid via MAM/Invoice data) or 
AccountNumber
 (if paid via CloudPay or CloudPayV2 - NOTE: Do not include data to the right of the hyphen or the 3 digit prefix for this value)
Example: POL123456-01 passed as 123456
Example: MBR123456 passed as 123456
PaymentAmount
 - Required:
If Payment = IC Payment Amount (excluding service fee)
If Chargeback = IC Chargeback Amount
If ACH Reject = IC ACH Reject Amount
PaymentMethod - Required: AMEX, Discover, MC, VISA, and ACH - String Length: inclusive between 0 and 50 = IC Payment Method
Always ‘PayPal’ for paypal payments
ConfCode - Required - String length: inclusive between 0 and 12 = IC Payment Message (numeric portion only)
PaymentNumber
 - String length: inclusive between 0 and 50 =IC 
DisplayAccountNumber 
(NOTE: without ‘-XX’ at the end of the value, if paid via MAM/Invoice data),
 
send IC InvoiceNumber if CloudPay or CloudPayV2
PayStatus - Required - String Length: inclusive between 0 and 25 = IC Approval Status and/or Payment Type
Approved
ACH Reject
 (This case will never be used unless we implement separate ACH Reject functionality.)
Void
Reversal (Credit)
Chargeback
 
InterfaceID
 - Required = mapping below:
C - CloudPay
B - AutoPay payments
V - IVR payments
D - New Membership Customer Website Payments
New membership payments will be utilizing a hardcoded (D) value in the biller_reference parameter via CloudPayments to identify New Membership so that we can pass recognize/identify it in DataPump.
2 - Biller Portal   Member services (CSR payment)
W - Customer Portal
X - Express Payments
7 - Online Bank Direct
Q - Shopping Cart
P - Scheduled Payment
Z - Mobile Express Payments
N - Recurring Scheduled Payment
T - Pay By Text
PaymentBatch - String length: inclusive between 0 and 50 - Match what is sent via MAM file = IC Custom 2
EmailAddress = IC Email Address
Last4DigitsofPayAcct = IC Last 4 Digits of Pay Acct (for all transactions that are not paypal - Blank for paypal payments)
PaymentType - Required - String length: 3 = IC Invoice Type
POL = Policy Payment
MBR = Membership Payment
DataPump - Email Unsubscribe
Purpose: When a customer unsubscribes from IC email notifications, IC passes this information to GFB so they can ensure the customer is no longer enrolled in paperless.
Email Preference API
IC will use an existing ‘change log’ report to trigger a call to unsubscribe. Triggers include any changes to the customer record. Example: phone number is updated - IC will send EmailOptOut = True or False (while there may have been no change to this status, a call was triggered based on the phone number change)
When a payer unsubscribes from email notifications, IC will pass this information to GFB. GFB will change the payers paperless status to FALSE and pass the back to IC using IC APIs (see API details for more information)
 
Example:
{
       "EmailAddress": "
test@test.com
",
       “EmailOptOut”: “True”
}
Samples:
Test: 
https://tstpayments.gfbinsurance.com/paymentbrokerbasic/payment
Model(UAT): 
https://mdlpayments.gfbinsurance.com/PaymentBroker/Member/{memberNumber}/EmailPreference
Production: 
https://payments.gfbinsurance.com/PaymentBroker/Member/{memberNumber}/EmailPreference
IC Custom1 is used for MemberNumber
Response Code Field:
ResponseCode
00 - Success
Do Not Repost
01 - Failed
Repost
02 - Duplicate Payment
Do Not Repost
NO CODE - No response is received (SOAP exception error, NULL values, empty string, timeout, etc.). 
Repost
Example:
{
       "UniqueID": "a12b7f65-3e12-48b1-bd64-1c4286bf32a5",
       "ResponseCode": "00"
       "ResponseDescription": "Success"
}
POST Request Fields:
EmailAddress - Required = IC EmailAddress of the user
EmailOptOut - Required = True or False
Data Pump- Agent Connect (NOT LIVE)
 Payments API
Endpoints for our existing real-time remittance API (currently secured via IP whitelisting and client certificate authentication):
Test: 
https://tstpayments.gfbinsurance.com/paymentbrokerbasic/payment
Model(UAT): 
https://mdlpayments.gfbinsurance.com/PaymentBroker/Payment
Production: 
https://payments.gfbinsurance.com/PaymentBroker/Payment
 
Example:
{
       "UniqueID": "a12b7f65-3e12-48b1-bd64-1c4286bf32a5",
       "PaymentID": "8348600498",
       "VendorID": "FISERV",
       "PaymentDate": "2/17/2021 11:41:10 AM",
       "ReportDate": "2/17/2021",
       "AccountNumber": "05042857",
       "PaymentAmount": "204.00",
       "PaymentMethod": "VISA",
       "ConfCode": "8348600498",
       "PaymentNumber": "10009364",
       "PayStatus": "Approved",
       "InterfaceID": "W",
       "PaymentBatch": "202102170722182124310006042857",
       "EmailAddress": "
jwgarrison@gfbinsurance.com
",
       "Last4DigitsofPayAcct": "3210"
       “PaymentType”: “POL”
}
Response Code Field:
ResponseCode
00 - Success
Do Not Repost
01 - Failed
Repost
02 - Duplicate Payment
Do Not Repost
NO CODE - No response is received (SOAP exception error, NULL values, empty string, timeout, etc.). 
Repost
Example:
{
       "UniqueID": "a12b7f65-3e12-48b1-bd64-1c4286bf32a5",
       "ResponseCode": "00"
       "ResponseDescription": "Success"
}
 POST Request Fields:
UniqueID - 
Hardcoded value - 
String Length: inclusive between 0 and 50 = N/A (not an IC field)
PaymentID
 - Required - String Length: inclusive between 0 and 12 = IC Payment Message (numeric portion only)
VendorID - Required - String Length: inclusive between 0 and 50 = INVOICE CLOUD
PaymentDate - Required - Data Type: DateTime = IC Payment Date
ReportDate - Required - Data Type: Date = IC Payment Date
AccountNumber - Required - String Length: inclusive between 0 and 50 = 1st part of Biller Reference. Anything before first pipe.
PaymentAmount
 - Required:
If Payment = IC Payment Amount (excluding service fee)
If Chargeback = IC Chargeback Amount
If ACH Reject = IC ACH Reject Amount
PaymentMethod - Required: AMEX, Discover, MC, VISA, and ACH - String Length: inclusive between 0 and 50 = IC Payment Method
Always ‘PayPal’ for paypal payments
ConfCode - Required - String length: inclusive between 0 and 12 = IC Payment Message (numeric portion only)
PaymentNumber
 - String length: inclusive between 0 and 50 = 2nd field in Biller Reference Number. Anything after the pipe
PayStatus - Required - String Length: inclusive between 0 and 25 = IC Approval Status and/or Payment Type
Approved
ACH Reject
 (This case will never be used unless we implement separate ACH Reject functionality.)
Void
Reversal (Credit)
Chargeback
 
InterfaceID
 - Required = mapping below:
C - Agent Connect (Also used for Cloud Pay)
PaymentBatch - String length: inclusive between 0 and 50 - Match what is sent via MAM file = IC Custom 2
EmailAddress = IC Email Address
Last4DigitsofPayAcct = IC Last 4 Digits of Pay Acct (for all transactions that are not paypal - Blank for paypal payments)
PaymentType - Required - String length: 3 = IC Invoice Type
POL = Policy Payment
MBR = Membership Payment
File Mapping
Invoice File
File Purpose: GFB provides IC a ‘MAM’ file that IC uses to create an invoice file (and other files documented below - adjustments and customer updates). The GA Farm Bureau ‘MAM’ file (daily file) will contain information for IC to create new invoice records and update existing. New records will be created by doing a lookup on invoice number (MemberNumber (DisplayAccountNumber) + DueDate). If the ‘invoice’ does not exist, IC will create a 'N' record
 (see Field Mapping section for additional details on how invoice headers and invoice details are created.
File Extension: .txt
File Naming Convention: mamlayout.txt
File Delimiter: Fixed Width
Specification:
 
Sample File: 
File Frequency: Daily
SFTP File Paths: GFB drops the file in to 
ToInvoiceCloud\Invoices
 and IC splits the file into 
ToInvoiceCloud\Invoices\New
 (for invoices), 
ToInvoiceCloud\Invoices\Updates
 (for adjustments) and 
ToInvoiceCloud\InvoiceUpdates
 (for invoice updates)
NOTES: 
IC engineering receives an alert if daily MAM/invoice file is not received by 8AM EST/7AM CST
The raw MAM file the GFB provides IC daily is available in the CRM file search
Field Mapping
Biller file split runs twice to process the file. On the first run, it picks up the MAM file and sorts it by that payment type number. It writes the results to a new file that has 
ICPreProcessed_
 prepended to the filename. The original MAM is backed up and moved out. On the next run for biller file split, it checks for the 
ICPreProcessed_
 prepended filename, if it finds a matching file, then runs the split like it did before. That file is then backed up and moved out.
Class is: 
...\Integrations\Billers\GeorgiaFarmBureau\GeorgiaFarmBureau_Insurance_Split.vb
Examples to help provide additional context on how records are created:
PayableIndicator=Y on ‘BILLING ACCOUNT’
 record: Below is an example where the ‘group’ of records s (grouped by ‘PYMNT TYPE NBR’) has the payable indicator is set to ‘Y' on the ‘BILLING ACCOUNT’ record and the payable indicator is set to ‘N' on the subsequent record (defined as 
not ‘BILLING ACCOUNT’ record). 
In this example, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to import the invoice with the balance from the 'BILLING ACCOUNT’ record and add the information from the subsequent record to the invoice detail for template display.
MBR NBR MBR PAYOR NAME    MPTMBR PAYMENT DESCRIPTION   MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN   PAYMENT BATCH                 PAADDRESS 1       ADDRESS 2   ADDRESS 3         ZIP
00000240Billy Bob         ACCUMBRELLA POLICY           UMB5008495-00        ACC10013506     00000002030000000002030020211217FULL       202112150722526128200000000240N1234 Main St S               Tifton    ,GA     31794
00000240Billy Bob         ACCBILLING ACCOUNT           10013506             ACC10013506     00000002030000000002030020211217FULL       202112150722526128200000000240Y1234 Main St S               Tifton    ,GA     31794
PayableIndicator=N on ‘BILLING ACCOUNT’
 record: Below is an example where the ‘group’ of records (grouped by ‘PYMNT TYPE NBR’) has the payable indicator is set to ‘N' on both records. 
In this example, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to import the invoice with an expiration date=current date -1. The additional line item in the group will be ignored (Administrative Fee). If the PayableIndicator changes after invoice record creation, IC will create an Invoice Update File to update the expiration date.
MBR NBR MBR PAYOR NAME      MPTMBR PAYMENT DESCRIPTION  MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN  PAYMENT BATCH                 PAADDRESS 1       ADDRESS 2    ADDRESS 3        ZIP
00000240Deyondra Robertson  ACCBILLING ACCOUNT          50048847             ACC50048847     00000000000000000000150020211021          202112150722526128200000000240N1321       Madeline Pl        Macon     ,GA    31211
00000240Deyondra Robertson  ACCAdministrative Fee       50048847             ACC50048847     00000000150000000000150020211021          202112150722526128200000000240N1321       Madeline Pl        Macon     ,GA    31211
No group (‘PYMNT TYPE NBR’) and PayableIndicator=Y or N, the record will be imported as an individual record. If PayableIndicator =N,
 IC will import the record with the payment expiration date=current date -1 (If PayableIndicator = Y, IC will import the record with a blank expiration date). If the PayableIndicator changes after invoice record creation, IC will create an Invoice Update File to update the expiration date.
MBR NBR MBR PAYOR NAME       MPTMBR PAYMENT DESCRIPTION   MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN   PAYMENT BATCH                 PAADDRESS 1    ADDRESS 2     ADDRESS 3          ZIP
01290741JERRY F COMPTON      MBRMEMBERSHIP DUES           01290741             MBR01290741     00000000000000000000000020110618           202112290852492264670001290741N14254 LEXINGTON RD          WASHINGTON    ,GA  30673
01290808MARY E BELK          MBRMEMBERSHIP DUES           01290808             MBR01290808     00000000000000000000000020110723           202112290852492264670001290808N11762 WESLEY CHAPEL RD      DANIELSVILLE  ,GA  30633
01290840CHARLES SULLIVAN     MBRMEMBERSHIP DUES           01290840             MBR01290840     00000000000000000000000020110712           202112290852492264670001290840N1PO BOX 67                  HOMER         ,GA  30547
01290840KIM SIEBENMORGAN     POL2006 CHEV SILVERADO       ACV2457021-01        POLACV2457021   00000007970000000007970020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
01290840KIM SIEBENMORGAN     POL2002 FORD F-250           ACV2457022-01        POLACV2457022   00000007750000000007750020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
01290840KIM SIEBENMORGAN     POL2003 CHEV SILVERADO       ACV2457024-01        POLACV2457024   00000007600000000007600020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Biller Field Name
Partner Field Description
Biller Field Format
Biller Field Start Position
Biller Field Character Limit
Record Type
1
RowType
 N
TRUE
N/A - Always ‘FH’
N/A
N/A
N/A
File Header
2
BillerGuid
 N
TRUE
N/A - IC generated value
N/A
N/A
N/A
File Header
4
FileCreationDate
 N
TRUE
N/A - IC uses current date
N/A
N/A
N/A
File Header
5
InvoiceCount
 N
TRUE
N/A - IC uses number of invoices in the file
N/A
N/A
N/A
File Header
6
TotalInvoiceAmount
 N
TRUE
N/A - IC uses number of invoice amounts in the file
N/A
N/A
N/A
File Header
7
RowType
 N
TRUE
N/A - Always ‘IH’
N/A
N/A
N/A
Invoice Header
8
RecordType
 N
TRUE
N/A - Always 'N'
If the invoice does not exist (lookup to check invoice number), create N records using the following logic:
3ce1fdb8-007f-46d6-85fb-1d52dce85566
957a45b4-2038-4847-b64e-e9b50d11db44
DECIDED
If Custom5 (DTL-PAYABLE) = Y on Custom3 (BILLING ACCOUNT) item, import all records in group
0d5ccbc9-dfa8-4907-8a7e-3ed6dcbe2a50
DECIDED
If Custom5 (DTL-PAYABLE) = N on Custom3 (BILLING ACCOUNT) item, import header record only ($0 balance invoice)
If Custom5 (DTL-PAYABLE) = Y on Custom3 (BILLING ACCOUNT) item, import all records in group
If Custom5 (DTL-PAYABLE) = N on Custom3 (BILLING ACCOUNT) item, import header record only ($0 balance invoice)
Additional detail: Balance Due should be taken from ‘ACCBILLING ACCOUNT’ record - unless DTL-PAYABLE/PayableIndicator=N, ignore detail records in 'group’ and import 0 balance invoice
Invoice Header
9
InvoiceFormatGuid
 N
TRUE
N/A - IC generated value
N/A
N/A
N/A
Invoice Header
10
Invoice Number
 N
TRUE
N/A - IC to create InvoiceNumber by combining ‘Custom1 - 
AccountNumber 
- DueDate’
N/A
N/A
N/A
Invoice Header
11
InvoiceDate
 
TRUE
N/A - IC generated value
N/A
N/A
N/A
Invoice Header
70
RowType
N 
TRUE
N/A - Always ‘ID’
N/A
N/A
N/A
Invoice Detail
58
RowType
N 
TRUE
N/A - Always ‘CR’
N/A
N/A
N/A
Customer Record
373
DisplayAccountNumber
Y
FALSE
DTL-MBR-PAYMENT-NBR
Payment Number
Alphanumeric
162 
30
Invoice Detail
60
CustomerName
Y
TRUE
DTL-MBR-NAME
If there is no name in that field, we set the customer name to “Not Listed”.
Member_Name
Alphanumeric
9
100
Invoice Detail
252
InvoiceType
ID
Y
TRUE
DTL-MBR-PAYMENT-TYPE
164 = ACC & POL
166 = MBR
Payment_Type
Alphanumeric
109
3
Invoice Detail
59
AccountNumber
Y
TRUE
DTL-MBR-PYMNT-TYPE-NBR
*Invoices will be grounded into blocks, using this field. One record will contain invoice header detail and subsequent records will be used for invoice detail information.
InvoiceCloud will sort the file by this value to group records for import. Records with a PayableIndicator (Custom5) set to Y in a group will be the record header and subsequent records (PayableIndicator -Custom5 set to N in a group) will be imported as invoice detail information for display on the template.
Payment_Item
Alphanumeric
192
30
Invoice Detail
93
BalanceDue
Y
FALSE
DTL-MBR-DUEAMT
*IC will divide the value by 100 to account for the implied decimal. 
Amount_Due
Amount
208
12
Invoice Detail
13
TotalAmountDue
Y
TRUE
DTL-FULL-BALANCE
*IC will divide the value by 100 to account for the implied decimal.
Full_Balance_Due
Amount
220
12
Invoice Detail
12
InvoiceDueDate
Y
TRUE
DTL-MBR-DUEDATE
Due_Date
Date
232
8
Invoice Detail
38
Custom1
Y
FALSE
DTL-MBR-NBR
Member Number
Alphanumeric
1
8
Invoice Detail
39
Custom2
Y
FALSE
DTL-MBR-PAYMENT-BATCH
Payment_Batch
Alphanumeric
260
30
Invoice Header
40
Custom3
Y
FALSE
DTL-MBR-PAYMENT-DESC  
Payment_Description
Alphanumeric
112
50
Invoice Header
41
Custom4
Y
FALSE
DTL-PAY-PLAN
Pay_Plan
Alphanumeric
240
20
Invoice Header
42
Custom5
Y
FALSE
DTL-PAYABLE
Y/N
290
1
Invoice Header
43
Custom6
Y
FALSE
DTL-ACTIVE-IND
Active_Indicator
Y/N
291
1
Invoice Header
44
Custom7 
Y
FALSE
DTL-MBR-PAYMENT-TYPE (Example: ACC, POL or MBR)
Payment_Type
109
3
Invoice Header
61
Address1
Y
TRUE
DTL-ADDR-1            
Street_Address
Alphanumeric
292
50
Customer Record
62
Address2
Y
FALSE
DTL-ADDR-2            
Street_Address2
Alphanumeric
342
40
Customer Record
63
City
Y
TRUE
CITY
Alphanumeric
382
31
Customer Record
64
State
Y
TRUE
STATE
Alphanumeric
414
18
Customer Record
65
ZIP
Y
TRUE
DTL-ZIP               
Zip_Code
Alphanumeric
433
10
Customer Record
83
CustomField1 
Y
FALSE
DTL-MBR-NBR
Member Number
Alphanumeric
1
8
Invoice Detail
84
CustomField2
Y
FALSE
DTL-MBR-PAYMENT-BATCH
Payment_Batch
Alphanumeric
260
30
Invoice Detail
85
CustomField3 
Y
FALSE
DTL-MBR-PAYMENT-DESC  
Payment_Description
Alphanumeric
112
50
Invoice Detail
86
CustomField4 
Y
FALSE
DTL-PAY-PLAN
Pay_Plan
Alphanumeric
240
20
Invoice Detail
87
CustomField5
Y
FALSE
DTL-PAYABLE
Y/N 
290
1
Invoice Detail
88
CustomField6
Y
FALSE
DTL-ACTIVE-IND
Active_Indicator 
Y/N 
291
 1
Invoice Detail
89
CustomField7
Y
FALSE
DTL-MBR-PAYMENT-TYPE (ACC, POL or MBR)
Payment_Type 
109
3
Invoice Detail
90
CustomField8
Y
FALSE
DTL-MBR-PYMNT-TYPE-NBR
Payment_Item
Alphanumeric
192
30
Invoice Detail
91
CustomField
9
Y
FALSE
DTL-MBR-PAYMENT-NBR (also mapped to DisplayAccountNumber)
Payment Number
Alphanumeric
162 
30
Invoice Detail
92
CustomField
10
Y
FALSE
DTL-MBR-DUEAMT 
(also mapped to BalanceDue)
Amount_Due
Amount
208
12
Invoice Detail
MODIFICATIONS - Field Mapping
Biller file split runs twice to process the file. On the first run, it picks up the MAM file and sorts it by that payment type number. It writes the results to a new file that has 
ICPreProcessed_
 prepended to the filename. The original MAM is backed up and moved out. On the next run for biller file split, it checks for the 
ICPreProcessed_
 prepended filename, if it finds a matching file, then runs the split like it did before. That file is then backed up and moved out.
Class is: 
...\Integrations\Billers\GeorgiaFarmBureau\GeorgiaFarmBureau_Insurance_Split.vb
Examples to help provide additional context on how records are created:
PayableIndicator=Y on ‘BILLING ACCOUNT’
 record: Below is an example where the ‘group’ of records s (grouped by ‘PYMNT TYPE NBR’) has the payable indicator is set to ‘Y' on the ‘BILLING ACCOUNT’ record and the payable indicator is set to ‘N' on the subsequent record (defined as 
not ‘BILLING ACCOUNT’ record). 
In this example, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to import the invoice with the balance from the 'BILLING ACCOUNT’ record and add the information from the subsequent record to the invoice detail for template display.
MBR NBR MBR PAYOR NAME    MPTMBR PAYMENT DESCRIPTION   MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN   PAYMENT BATCH                 PAADDRESS 1       ADDRESS 2   ADDRESS 3         ZIP
00000240Billy Bob         ACCUMBRELLA POLICY           UMB5008495-00        ACC10013506     00000002030000000002030020211217FULL       202112150722526128200000000240N1234 Main St S               Tifton    ,GA     31794
00000240Billy Bob         ACCBILLING ACCOUNT           10013506             ACC10013506     00000002030000000002030020211217FULL       202112150722526128200000000240Y1234 Main St S               Tifton    ,GA     31794
PayableIndicator=N on ‘BILLING ACCOUNT’
 record: Below is an example where the ‘group’ of records (grouped by ‘PYMNT TYPE NBR’) has the payable indicator is set to ‘N' on both records. 
In this example, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to import the invoice with an expiration date=current date -1. The additional line item in the group will be ignored (Administrative Fee). If the PayableIndicator changes after invoice record creation, IC will create an Invoice Update File to update the expiration date.
MBR NBR MBR PAYOR NAME      MPTMBR PAYMENT DESCRIPTION  MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN  PAYMENT BATCH                 PAADDRESS 1       ADDRESS 2    ADDRESS 3        ZIP
00000240Deyondra Robertson  ACCBILLING ACCOUNT          50048847             ACC50048847     00000000000000000000150020211021          202112150722526128200000000240N1321       Madeline Pl        Macon     ,GA    31211
00000240Deyondra Robertson  ACCAdministrative Fee       50048847             ACC50048847     00000000150000000000150020211021          202112150722526128200000000240N1321       Madeline Pl        Macon     ,GA    31211
No group (‘PYMNT TYPE NBR’) and PayableIndicator=Y or N, the record will be imported as an individual record. If PayableIndicator =N,
 IC will import the record with the payment expiration date=current date -1 (If PayableIndicator = Y, IC will import the record with a blank expiration date). If the PayableIndicator changes after invoice record creation, IC will create an Invoice Update File to update the expiration date.
MBR NBR MBR PAYOR NAME       MPTMBR PAYMENT DESCRIPTION   MBR PAYMENT NUMBER   PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN   PAYMENT BATCH                 PAADDRESS 1    ADDRESS 2     ADDRESS 3          ZIP
01290741JERRY F COMPTON      MBRMEMBERSHIP DUES           01290741             MBR01290741     00000000000000000000000020110618           202112290852492264670001290741N14254 LEXINGTON RD          WASHINGTON    ,GA  30673
01290808MARY E BELK          MBRMEMBERSHIP DUES           01290808             MBR01290808     00000000000000000000000020110723           202112290852492264670001290808N11762 WESLEY CHAPEL RD      DANIELSVILLE  ,GA  30633
01290840CHARLES SULLIVAN     MBRMEMBERSHIP DUES           01290840             MBR01290840     00000000000000000000000020110712           202112290852492264670001290840N1PO BOX 67                  HOMER         ,GA  30547
01290840KIM SIEBENMORGAN     POL2006 CHEV SILVERADO       ACV2457021-01        POLACV2457021   00000007970000000007970020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
01290840KIM SIEBENMORGAN     POL2002 FORD F-250           ACV2457022-01        POLACV2457022   00000007750000000007750020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
01290840KIM SIEBENMORGAN     POL2003 CHEV SILVERADO       ACV2457024-01        POLACV2457024   00000007600000000007600020220120FULLPAY    202112290852492264670001290840Y11114 N HOUSTON LAKE BLVD   WARNER ROBINS ,GA  31093
ONLY FOR 
ACC Premium 
Invoices
InvoiceNumber Generation: Invoice Cloud will continue creating the InvoiceNumber by combining: DTL-MBR-NBR + DTL-MBR-PYMNT-TYPE-NBR + DTL-MBR-DUEDATE
InvoiceDueDate: Will always equal the date provided in the DTL-MBR-DUEDISP column. It will no longer use DTL-MBR-DUEDATE.
MBR NBR MBR PAYOR NAME                                                                                      MPTMBR PAYMENT DESCRIPTION                           MBR PAYMENT NUMBER            PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN            PAYMENT BATCH                 PAADDRESS 1                                         ADDRESS 2                               ADDRESS 3                                         ZIP       DISPLAYDUE
13006648Liam Gresham                                                                                        ACCBILLING ACCOUNT                                   10033578                      ACC10033578     00000015890000000015890020250204                    202505080717520363830013006648Y1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637     20250104
13006648Liam Gresham                                                                                        ACCAdministrative Fee                                10033578                      ACC10033578     00000000150000000000150020250104                    202505080717520363830013006648N1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCNSF Fee                                           10033578                      ACC10033578     00000000350000000000350020250104                    202505080717520363830013006648N1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCUMBRELLA POLICY                                   UMB5012102-00                 ACC10033578     00000010390000000010390020250104FULL                202505080717520363830013006648N0577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCPersonal Lines Auto                               PPA5010708-00                 ACC10033578     00000005000000000005000020250204FULL                202505080717520363830013006648N0577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648ERIN GAINES                                                                                         MBRMEMBERSHIP DUES                                   13006648                      MBR13006648     00000000000000000000000020100813                    202505080717520363830013006648Y1843 TY TY OMEGA RD                                                                        TIFTON                         ,GA                31793

IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Biller Field Name
Partner Field Description
Biller Field Format
Biller Field Start Position
Biller Field Character Limit
Record Type
1
RowType
 N
TRUE
N/A - Always ‘FH’
N/A
N/A
N/A
File Header
2
BillerGuid
 N
TRUE
N/A - IC generated value
N/A
N/A
N/A
File Header
4
FileCreationDate
 N
TRUE
N/A - IC uses current date
N/A
N/A
N/A
File Header
5
InvoiceCount
 N
TRUE
N/A - IC uses number of invoices in the file
N/A
N/A
N/A
File Header
6
TotalInvoiceAmount
 N
TRUE
N/A - IC uses number of invoice amounts in the file
N/A
N/A
N/A
File Header
7
RowType
 N
TRUE
N/A - Always ‘IH’
N/A
N/A
N/A
Invoice Header
8
RecordType
 N
TRUE
N/A - Always 'N'
If the invoice does not exist (lookup to check invoice number), create N records using the following logic:
6d1f0bf4-1071-4402-a6d2-a8c4284b80fe
1cedd3d6-4f50-41b7-9798-0228f803e61f
DECIDED
If Custom5 (DTL-PAYABLE) = Y on Custom3 (BILLING ACCOUNT) item, import all records in group
0de5dac8-e869-49d6-b375-9ae61cdb14d0
DECIDED
If Custom5 (DTL-PAYABLE) = N on Custom3 (BILLING ACCOUNT) item, import header record only ($0 balance invoice)
If Custom5 (DTL-PAYABLE) = Y on Custom3 (BILLING ACCOUNT) item, import all records in group
If Custom5 (DTL-PAYABLE) = N on Custom3 (BILLING ACCOUNT) item, import header record only ($0 balance invoice)
Additional detail: Balance Due should be taken from ‘ACCBILLING ACCOUNT’ record - unless DTL-PAYABLE/PayableIndicator=N, ignore detail records in 'group’ and import 0 balance invoice
Invoice Header
9
InvoiceFormatGuid
 N
TRUE
N/A - IC generated value
N/A
N/A
N/A
Invoice Header
10
Invoice Number
 N
TRUE
N/A - IC to create InvoiceNumber by combining ‘Custom1 - 
AccountNumber 
- DueDate’
N/A
N/A
N/A
Invoice Header
11
InvoiceDate
 
TRUE
N/A - IC generated value
N/A
N/A
N/A
Invoice Header
12
InvoiceDueDate
Y
TRUE
DTL-MBR-DUEDATE
ACC Invoices only use 
DTL-MBR-DUEDISP
Due_Date
ACC
: DISPLAYDUE
Date
ACC
: Date
232
ACC
: 442
8
ACC
: 8
Invoice Header
70
RowType
N 
TRUE
N/A - Always ‘ID’
N/A
N/A
N/A
Invoice Detail
58
RowType
N 
TRUE
N/A - Always ‘CR’
N/A
N/A
N/A
Customer Record
373
DisplayAccountNumber
Y
FALSE
DTL-MBR-PAYMENT-NBR
Payment Number
Alphanumeric
162 
30
Invoice Detail
60
CustomerName
Y
TRUE
DTL-MBR-NAME
If there is no name in that field, we set the customer name to “Not Listed”.
Member_Name
Alphanumeric
9
100
Invoice Detail
252
InvoiceType
ID
Y
TRUE
DTL-MBR-PAYMENT-TYPE
164 = ACC & POL
166 = MBR
Payment_Type
Alphanumeric
109
3
Invoice Detail
59
AccountNumber
Y
TRUE
DTL-MBR-PYMNT-TYPE-NBR
*Invoices will be grounded into blocks, using this field. One record will contain invoice header detail and subsequent records will be used for invoice detail information.
InvoiceCloud will sort the file by this value to group records for import. Records with a PayableIndicator (Custom5) set to Y in a group will be the record header and subsequent records (PayableIndicator -Custom5 set to N in a group) will be imported as invoice detail information for display on the template.
Payment_Item
Alphanumeric
192
30
Invoice Detail
93
BalanceDue
Y
FALSE
DTL-MBR-DUEAMT
*IC will divide the value by 100 to account for the implied decimal. 
Amount_Due
Amount
208
12
Invoice Detail
13
TotalAmountDue
Y
TRUE
DTL-FULL-BALANCE
*IC will divide the value by 100 to account for the implied decimal.
Full_Balance_Due
Amount
220
12
Invoice Detail
38
Custom1
Y
FALSE
DTL-MBR-NBR
Member Number
Alphanumeric
1
8
Invoice Detail
39
Custom2
Y
FALSE
DTL-MBR-PAYMENT-BATCH
Payment_Batch
Alphanumeric
260
30
Invoice Header
40
Custom3
Y
FALSE
DTL-MBR-PAYMENT-DESC  
Payment_Description
Alphanumeric
112
50
Invoice Header
41
Custom4
Y
FALSE
DTL-PAY-PLAN
Pay_Plan
Alphanumeric
240
20
Invoice Header
42
Custom5
Y
FALSE
DTL-PAYABLE
Y/N
290
1
Invoice Header
43
Custom6
Y
FALSE
DTL-ACTIVE-IND
Active_Indicator
Y/N
291
1
Invoice Header
44
Custom7 
Y
FALSE
DTL-MBR-PAYMENT-TYPE (Example: ACC, POL or MBR)
Payment_Type
109
3
Invoice Header
45
Custom8
Y
TRUE
DTL-MBR-DUEDATE
Due_Date
Date
232
8
Invoice Header
61
Address1
Y
TRUE
DTL-ADDR-1            
Street_Address
Alphanumeric
292
50
Customer Record
62
Address2
Y
FALSE
DTL-ADDR-2            
Street_Address2
Alphanumeric
342
40
Customer Record
63
City
Y
TRUE
CITY
Alphanumeric
382
31
Customer Record
64
State
Y
TRUE
STATE
Alphanumeric
414
18
Customer Record
65
ZIP
Y
TRUE
DTL-ZIP               
Zip_Code
Alphanumeric
433
10
Customer Record
83
CustomField1 
Y
FALSE
DTL-MBR-NBR
Member Number
Alphanumeric
1
8
Invoice Detail
84
CustomField2
Y
FALSE
DTL-MBR-PAYMENT-BATCH
Payment_Batch
Alphanumeric
260
30
Invoice Detail
85
CustomField3 
Y
FALSE
DTL-MBR-PAYMENT-DESC  
Payment_Description
Alphanumeric
112
50
Invoice Detail
86
CustomField4 
Y
FALSE
DTL-PAY-PLAN
Pay_Plan
Alphanumeric
240
20
Invoice Detail
87
CustomField5
Y
FALSE
DTL-PAYABLE
Y/N 
290
1
Invoice Detail
88
CustomField6
Y
FALSE
DTL-ACTIVE-IND
Active_Indicator 
Y/N 
291
 1
Invoice Detail
89
CustomField7
Y
FALSE
DTL-MBR-PAYMENT-TYPE (ACC, POL or MBR)
Payment_Type 
109
3
Invoice Detail
90
CustomField8
Y
FALSE
DTL-MBR-PYMNT-TYPE-NBR
Payment_Item
Alphanumeric
192
30
Invoice Detail
91
CustomField
9
Y
FALSE
DTL-MBR-PAYMENT-NBR (also mapped to DisplayAccountNumber)
Payment Number
Alphanumeric
162 
30
Invoice Detail
92
CustomField
10
Y
FALSE
DTL-MBR-DUEAMT 
(also mapped to BalanceDue)
Amount_Due
Amount
208
12
Invoice Detail
208
CustomField
11
Y
TRUE
DTL-MBR-DUEDATE
Due_Date
Date
232
8
Invoice Detail
Modifications
MBR NBR MBR PAYOR NAME                                                                                      MPTMBR PAYMENT DESCRIPTION                           MBR PAYMENT NUMBER            PYMNT TYPE NBR  DUE AMT     FULL BAL DUEDUE DATEPAY PLAN            PAYMENT BATCH                 PAADDRESS 1                                         ADDRESS 2                               ADDRESS 3                                         ZIP       DISPLAYDUE
13006648Liam Gresham                                                                                        ACCBILLING ACCOUNT                                   10033578                      ACC10033578     00000015890000000015890020250204                    202505080717520363830013006648Y1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637     20250104
13006648Liam Gresham                                                                                        ACCAdministrative Fee                                10033578                      ACC10033578     00000000150000000000150020250104                    202505080717520363830013006648N1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCNSF Fee                                           10033578                      ACC10033578     00000000350000000000350020250104                    202505080717520363830013006648N1577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCUMBRELLA POLICY                                   UMB5012102-00                 ACC10033578     00000010390000000010390020250104FULL                202505080717520363830013006648N0577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648Liam Gresham                                                                                        ACCPersonal Lines Auto                               PPA5010708-00                 ACC10033578     00000005000000000005000020250204FULL                202505080717520363830013006648N0577 Vickers Church Rd                                                                     Lenox                          ,GA                31637
13006648ERIN GAINES                                                                                         MBRMEMBERSHIP DUES                                   13006648                      MBR13006648     00000000000000000000000020100813                    202505080717520363830013006648Y1843 TY TY OMEGA RD                                                                        TIFTON                         ,GA                31793

Invoice Update File
 
File Purpose: This file is created by IC to update the ‘Payment_Batch’ (IC Custom2) value for GFB.
File Extension: txt - JSON
File Naming Convention: IUF_YYYYMMDDHHMMSS_ICPreProcessed_MMDDHHMMSS_MAM_FILE.txt_1.split
Sample File: 
File Delimiter: n/a
SFTP File Path: ToInvoiceCloud\InvoiceUpdate
File Frequency: Daily
File Mapping
One record should be created according to the BIF grouping logic - using the ‘header’ ACCBILLING ACCOUNT to create the invoice
IC Field
In File (Y/N)
Required (T/F)
Biller Field Name
Partner Field Description
AccountNumber
Y
TRUE
DTL-MBR-PYMNT-TYPE-NBR
InvoiceNumber
Y
TRUE
Same value that’s generated for BIF (combination of Custom1-AccountNumber-DueDate). See below for exact mapping from biller’s MAM file
‘DTL-MBR-NBR’ 
- 
'
DTL-MBR-PYMNT-TYPE-NBR
' 
- 
'DTL-MBR-DUEDATE'
Custom2
Y
FALSE
DTL-MBR-PAYMENT-BATCH
Payment_Batch
PaymentExpiration
Y
FALSE
If the PayableIndicator=N on ‘BILLING ACCOUNT’ record, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to update the invoice with payment expiration date = current date -1.
If the PayableIndicator=Y on ‘BILLING ACCOUNT' record, IC will use the line item with ‘BILLING ACCOUNT’ in the ‘MBR PAYMENT DESCRIPTION’ field to update the invoice with payment expiration date = 12/31/9999.
Adjustment File
File Purpose: File created by IC. The purpose of this file is to update invoice balances. InvoiceCloud will create the daily adjustment file by splitting the billers ‘MAM’ file to use for importing new invoices and for importing balance adjustments. If the invoice exists in IC (match on the invoice number that IC is creating by combining ‘Custom1 - AccountNumber - DueDate’), IC will add the record to the adjustment file. 
File Extension: BAF
File Naming Convention: ADJ_YYYYMMDDHHMMSS_ICPreProcessed_MMDDHHMMSS_MAM_FILE.txt_1.split
Sample File: 
File Delimiter: Pipe “|”
SFTP File Path: ToInvoiceCloud\Invoices\Updates
File Frequency: Daily
Field Mapping
IC FileSpecID
IC Field Name
In File (Y/N)
Required (T/F)
Biller Field Name
Partner Field Description
Record Type
305
RowType
Y
TRUE
N/A - Always ‘AH’
N/A
File Header
306
BillerGuid
Y
TRUE
N/A - Value assigned by IC
N/A
File Header
308
FileCreationDate
Y
TRUE
N/A - IC to use current date
N/A
File Header
309
AdjustmentCount
Y
TRUE
N/A - IC to populate total number of payments included in payment file
N/A
File Header
310
TotalAdjustmentAmount
Y
TRUE
N/A - IC to populate sum of all the payments in the file
N/A
File Header
311
RowType
Y
TRUE
N/A - Always ‘AR’
N/A
Adjustment Record
312
InvoiceNumber
Y
FALSE
N/A - IC to create InvoiceNumber by combining ‘Custom1 - AccountNumber - DueDate’
N/A
Adjustment Record
313
AccountNumber
Y
TRUE
DTL-MBR-PYMNT-TYPE-NBR
Payment_Item
Adjustment Record
314
AdjustmentAmount
Y
TRUE
DTL-MBR-DUEAMT
*IC will divide the value by 100 to account for the implied decimal.
Amount_Due
Adjustment Record
316
AdjustmentTypeID
Y
TRUE
N/A - Always '2' = Balance Differential
N/A
Adjustment Record
Conveyance File
File Summary: File provided by the biller. This file will be used when a policy down payment is made and GFB transitions the quote into a policy. As part of this transition, the account/policy number changes in the GFB system and the update needs to be made in IC. The biller will send this file to IC via SFTP on an as-needed basis.
File Extension: CCF
File Naming Convention: n/a
Sample File: Biller uses standard IC CCF format
File Delimiter: Pipe “|”
Frequency: Daily
SFTP File Path: /ToInvoiceCloud/Conveyance
Field Mapping
IC File Spec ID
IC Field
Required (T/F)
Biller Field Name
Biller Field Description
Record Type
358
RowType
TRUE
N/A - Always ‘CH’
N/A
Conveyance File Header (CH)
359
BillerGUID
TRUE
N/A - IC generated value
N/A
Conveyance File Header (CH)
360
ThirdPartyFileReference
FALSE
Filename
8.3 Filename on disk
Conveyance File Header (CH)
361
FileCreationDate
TRUE
N/A - IC generated using current date
N/A
Conveyance File Header (CH)
362
ConveyanceCount
TRUE
N/A - IC generated using Record Count in file
N/A
Conveyance File Header (CH)
363
RowType
TRUE
N/A - Always ‘CC’
N/A
Conveyance Record (CC)
364
CurrentAccountNumber
TRUE
Policy Number
 
Conveyance Record (CC)
365
NewAccountNumber
FALSE
New Policy Number
 
Conveyance Record (CC)
411
LinkNewAccount
FALSE
IC Defined - Always ‘1’ 
1 for Yes, 0 for No - New customer record will be created for the new account number provided.  If Login exists we will link and copy AutoPay/Paperless settings to new customer.  If Login does not exist one will be created and link both old and new customers together.  When this option is used all CC fields ignored except CurrentICAccountNumber and NewAccountNumber.
N/A
Conveyance Record (CC)
Payment/Lockbox File
File Extension: .txt
File Naming Convention: TBD
File Delimiter: Fixed Width
Specification: 
Sample File: 
File Frequency: Once per day
SFTP File Path: FromInvoiceCloud\Payments
Field Mapping
Biller Field Name
Biller Field Format
Biller Field Description
Biller Field Character Limit
IC Field
Record Type
RECORD-TYPE
Hardcoded 'H'
1
N/A - Hardcoded 'H'
Header Record
SETTLEMENT-DATE
MMDDYYYY 
Date File Created
8
N/A - Date File Created
Header Record
FILE-SOURCE
Hardcoded ‘INVOICE CLOUD’
16
N/A - Hardcoded ‘INVOICE CLOUD’
Header Record
BLANK
260
N/A - Blank
Header Record
RECORD-TYPE
Hardcoded 'D'
1
N/A - Hardcoded 'D'
Detail Record
GFB-MEMBER-NUMBER
AccountNumber
14
Custom1 (if paid via MAM/Invoice data)
AccountNumber
 (if paid via CloudPay or CloudPayV2 
(NOTE: Do not include data to the right of the hyphen or the 3 digit prefix for this value)
Example: POL123456-01 passed as 123456
Example: MBR123456 passed as 123456
Detail Record
PAYMENT-DATE
MMDDYYYY HHMMSS
 
15
If Payment = IC Payment Date 
If Chargeback = IC Chargeback Date
If ACH Reject = IC ACH Reject Date
Detail Record
PAYMENT-AMT
Payment Amount Minus Fees
12
If Payment = IC Payment Amount (excluding service fee)
If Chargeback = IC Chargeback Amount
If ACH Reject = IC ACH Reject Amount
Detail Record
PAYMENT-SOURCE
Same as InterfaceID in DataPump
1
InterfaceID
 - Required = mapping below:
C - CloudPay
B - AutoPay payments
V - IVR payments
D - New Membership Customer Website Payments
New membership payments will be utilizing a hardcoded (D) value in the biller_reference parameter via CloudPayments to identify New Membership so that we can pass recognize/identify it in DataPump.
2 - Biller Portal   Member services (CSR payment)
W - Customer Portal
X - Express Payments
7 - Online Bank Direct
Q - Shopping Cart
P - Scheduled Payment
Z - Mobile Express Payments
N - Recurring Scheduled Payment
T - Pay By Text
Detail Record
MEMBER-NAME
Payor Name
100
CustomerName entered during payment route
Detail Record
CONFIRMATION-NUMBER
Unique Payment Confirmation Number 
(Same as PaymentID in DataPump)
36
IC Payment Message (numeric portion only)
Detail Record
PAYMENT-ITEM
MEMBER, ACCOUNT, POLICY, OR ORDERID
36
Custom1 (if paid via MAM/Invoice data)
AccountNumber
 (if paid via CloudPay or CloudPayV2 
(NOTE: Do not include data to the right of the hyphen or the 3 digit prefix for this value)
Example: POL123456-01 passed as 123456
Example: MBR123456 passed as 123456
Detail Record
PAYMENT-BATCH
Same Value From MAM File
Pulled from Invoice File - Custom2
30
Invoice Record Custom2
Detail Record
MERCHANT-NUMBER
Premium = 1, Membership = 2
1
Invoice type IDs 164/165 = 1
Invoice type ID 166 = 2
Detail Record
EMAIL-ADDRESS
50
EmailAddress
Detail Record
PAYMENT-STATUS
Same as PayStatus in DataPump
10
PayStatus - Required - String Length: inclusive between 0 and 25 = IC Approval Status and/or Payment Type
Approved
ACH Reject
 
Void
Reversal (Credit)
Chargeback
 
Detail Record
PAYMENT-METHOD
Same as PaymentMethod in DataPump
8
PaymentMethod (AMEX, Discover, MC, VISA, ACH and PayPal)
Detail Record
PAYMENT-ID
Required, unique payment related value. Should match that of DataPump 
PaymentID
. 
10
IC Payment Message (numeric portion only)
Detail Record
RECORD-TYPE
Hardcoded 'T'
1
N/A - Hardcoded 'T'
Trailer Record
RECORD-COUNTY
Blank
8
N/A - Blank
Trailer Record
PAYMENT-TOTAL
With Decimal
12
N/A - Total payment amount for all payments in the file (service fees not included)
Trailer Record
BLANK
264
N/A - Blank
Trailer Record
Bill Presentment (Template Detail)
Template: 
INT-2422
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Mapping (Sample bill images can be found on the Bill Image tab and mapping of red text values can be found on the Invoice File (MAM-BIF) tab):
Details: All logos/text that do not have red text next to them are standardized and can be hardcoded. GAFB has 2 invoice types and will have 3 template designs:
To differentiate between Premium & Legacy, IT is storing the DTL-MBR-PAYMENT-TYPE in Custom7 (FileSpecID 44).
The field mapping on the templates is the same, only the text on the bottom half of the page differs.
164 = ACC Account Numbers
164 =  POL Account Numbers
166 = Membership
SSO Integration
Integration Detail
SAML SSO Integration
Biller provides InvoiceCloud a public certificate once per year. The certificate expires on Jan 16 each year.
Invoice Cloud SSO - Remote Authentication
Integration
Steps
SSO - Remote Authentication
Steps 1.a, 1.b, and 1.c only occur if the member is not already registered
Make GET request to "user/RetrieveUsers?AccountNumber={MemberNumber}" to retrieve LoginGuid
              *If no user returned or blank email, return empty string
              *If e-mail address does not match the registered user's email address, throw exception and notify GFB
       1.a. If no LoginGuid is returned, register the user with POST request to "user/RegisterAccountsForUser"
                      Email address is set to the e-mail address of the member from our site
                      Password is a GUID we generate as a temporary password
                      Accounts is a list of the accounts related to the member number from the MAM (LoginTypeID is defaulted to 1)
       1.b. Make GET request to "user/RetrieveUsers?AccountNumber={MemberNumber}" to retrieve LoginGuid
                      If no user is returned, throw exception
       1.c. Make POST request to "user/UpdateUserPassword"
                       AccountNumber is the member number
                       CurrentPassword is the temporary password from 1.a.
                       NewPassword is the LoginGuid from 1.b.
                       SystemReset is defaulted to False
                       EmailAddress is the e-mail address of the member from our site
Make POST request to "user/RemoteAuthentication"
              Password is the LoginGuid value retrieved above (either newly registered or retrieved)
              EmailAddress is the e-mail address of the member from our site
Make POST request to "user/refreshauthenticationtoken"
              RemoteAuthenticationToken is the token retrieved from step 2.
IC Portal Configuration
There are four portals setup for the different GFB SSO environments - described below:
Name
BID
Purpose
Identity Provider Entity ID
Redirect
DEV
3008
Debugging SAML issues occurring on our side of the connection on our local development machines.
in CRM
in CRM
TEST
 (QA)
3018
Integration testing our SAML configurations in a server environment to verify the login process is working as expected and that basic site functionality works as expected (e.g.: cookie and icon behavior).
in CRM
in CRM
MODEL
 (UAT)
2408
Full integration and UAT/QA testing
in CRM
in CRM
PROD
3019
Production
in CRM
in CRM
Required Options
NOTE: The following settings should not be changed because they could negatively impact the integration design.
Invoice Types - Option ID
Option Description
Details
1
Allow Paperless Registration
Disabled - Paperless is handled in the GFB system
2
Allow Customer to Request Paper
Disabled - Paperless is handled in the GFB system
14
Allow Customers to Submit Payment Greater than Invoice Balance Due
Disabled - Payers should not be able to ‘overpay’ on invoices
15
Allow Customers to Submit Payments on 0 Balance and Negative Balance Invoices
Disabled - Payers should not be able to ‘overpay’ on invoices
18
Allow Scheduled Payments to Process on 0 or Negative Balance Invoice
Disabled - Payers should not be able to ‘overpay’ on invoices
27
Customer Portal - Block Customers from scheduling payments on invoices past their invoice due date
Enabled - Payers should not be able to pay past the due date 
38
Block Customers from paying more than the Invoice Total Amount Due
Enabled - Payers should not be able to ‘overpay’ on invoices
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A
AllowPartialPayments
on biller questionnaire - BIF customization
AutoPayCollectionDate
on biller questionnaire - BIF customization
BalanceForward
required - BIF customization
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
on biller questionnaire - BIF customization
InvoiceDate
in invoice file
InvoiceDueDate
in invoice file
InvoiceFormatGuid
N/A
InvoiceTypeID
in invoice file (logic to be used to pull from MAM/Invoice file) 
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
N/A
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
on biller questionnaire - BIF customization
ThirdNotifyRequestedDate
on biller questionnaire - BIF customization 
User Interaction and Design
Data Flow - Invoices, Adjustments, Customer Updates
Invoice Cloud biller file split the data in the GFB MAM file to generate the Invoices, Adjustment, & Customer Updates.
Data Flow - Conveyance
Nightly GFB uploads a file with new accounts to link to existing accounts. Their existing AutoPay settings will be copied to the new account.
Data Flow - Payment/Recon
Payments remits are updated to the GFB system through both Data Pump and a night Recon file
Data Flow - AutoPay
Biller allows agents to opt customers into paperless from their CIS
Agent Experience - CloudPayV1
There are two agent experiences that utilize CloudPayV1:
ARTIS: When agent selects Accept Payment when Pay by Credit Card is checked, Invoice Cloud window is opened.
MEMBERSHIP: When agent selects Accept Payment when Payment Method = Credit, Invoice Cloud window is opened.
Claims Agent Experience - CloudPayV1
There is one experience for CC payments for the Claims Group:
When user selects Accept Payment, Invoice Cloud window is opened.
Payer Experience (New Member) - CloudPayV2
There is one experience for Website New Membership payments:
Through the GFB Insurance website, member selects to Join Now and enters all information to create new membership. 
Member confirms all information entered is correct, select Confirm & Pay.
Member selects Pay, Invoice Cloud window is opened. 
Payer Experience - One-Time Pay (IC virtual site)
Standard IC Virtual Site:
Payer Experience - SSO Customer Portal
GFB Portal Login:
My Account Home Page: Upon clicking ‘Make a Payment’, the user is redirected to the IC ‘Recent Bill Listing' Screen. The toolbar on the right side of the screen is where users will navigate to the IC screens.
GFB is using the following IC SSO redirects:
1 = Customer Portal Recent Bill Listing
3 = Custom Portal AutoPay Settings
5 = Customer Portal Payment Options
6 = Customer Portal Payment History
9 = Customer Portal Scheduled Payments Listing
11 = Custom Portal Pay By Text Enrollment 
Invoice Cloud Web Services
Integration Point
API Name
API Use/Purpose
Frequency
AutoPay On/Off
ViewCustomerAutoPaySettings
GAFB to call ViewCustomerAutoPayStatus to pull in customer AutoPay settings
Daily
Paperless On/Off
Retrieve Customer GUID
API used to retrieve a CustomerGUID for use on subsequent AutoPay and Paperless APIs (this value is required for use in the reporting APIs)
Change in API for GAFB use: Allow CustomerGUID to be retrievable without a password: 
EBPP-1719
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Daily
Payments
CloudPayV1
Internal GFB systems facing different audiences - agents, in-house payments, existing members. These systems are used when someone is F2F with a bureau office and/or on the phone with a GFB employee or agent.
ARTIS - Agent Payments 
Member (existing members) - Agent Payments 
CC Payments - Claims Group
On demand
Payments 
CloudPayV2
GAFB Website - New Membership payments
On demand
Cloud Invoicing
GetFileImportErrors
GAFB will use the GetFileImportErrors web service to get the file GUID needed in the ListLast25Imports web service (see below).
Daily
Cloud Invoicing
ListLast25Imports
GAFB will use the ListLast25Imports web service to confirm that the daily MAM file has been converted to an invoice file and loaded into IC. The file won't show in this service until Biller File split completes which takes 30-60 minutes once the FTP process picks it up.
Daily
SSO Account Linking
remoteauthenticationapi/user/linkaccounts
GAFB will use the remoteauthenticationapi/user/linkaccounts web service to link accounts after the daily MAM/invoice file has processed. This allows users to log into the GAFB portal and see all accounts with invoices in IC.
Daily
SSO Email Updates
remoteauthenticationapi/user/UpdateUserEmailAddress
GAFB will use the remoteauthenticationapi/user/UpdateUserEmailAddress web service to update email addresses on customer accounts.
On demand
CloudPayments
TransactionResultByBillerReference
GAFB will use this web service to search for inline donations by unique billerReferenceNumber to capture inline donation details 
On demand
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
[INT-12884] Georgia Farm Bureau- Integration Refactor - File Processing - Alignment mismatch regarding balances and balance forward. - JIRA
Records with Payable Indicator C would balance forward
Records with Payable Indicator C need to be its own Invoice Type with Open Billing
GFB wants to separate invoice records if an account is in cancel pending status. 
ITG-1805
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Accounts in Cancel Pending status are having their due date switched to a later date on the second invoice sent from IC. The second invoice includes both the outstanding balance and an administrative/late fee, which has a later due date.
If the PayableIndicator=C on ‘BILLING ACCOUNT’ record, the invoice to stay active but not be included on the next invoice sent by IC.
To prevent due date of the outstanding balance to be changed to the due date of the administrative/late fee on the second invoice sent by IC.
INT-4558
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
10/18/2022
Use block ACH and block CC to prevent customers from making payments on non-payable items.
Use payment expiration to block customers for payment instead of block ACH and block CC
Insurance policies are past due and non-payable 
INT-4232
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
8/17/2022
No updates to Payment Batch (Custom2) were being made
Update Payment Batch (Custom2) everyday with the value in the daily MAM file
This value is used to by GFB to post payments and changes every 45 days for each payable item
 URL:/spaces/IM/pages/1240006699/BID+3019+Georgia+GA+Farm+Bureau+Technical+Design