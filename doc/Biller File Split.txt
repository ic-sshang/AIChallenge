1
7
Biller File Split (BFS) Definition
Biller File Split is a service provided by Invoice Cloud that splits a raw (A.K.A “pre-split”) file into 2 or more file types. The most common configuration for this process is a raw file split into an invoice file and an adjustments file. These resulting files will then go through the normal conversion process via StratusWebServices (see the 
Invoice File Processing and Conversion Page
 for more information on the invoice file conversion process). 
Triaging Biller File Split will require retrieving the raw/pre-split file, navigating the 
BillerFileSplit Repository
, and potentially running StratusWebServices. 
How to Know If a Biller Uses BFS
Biller File Split only works for billers that use FTP to send their files, so you can find out if they use BFS by navigating to the FTP Management tab of the CRM. From here, search for an FTP task where the Path column contains a “Split” directory. These Split tasks usually have the File Type column set to “Invoices Files to IC”, but this is just a placeholder. 
Common T-SQL Queries
For the following queries, anything in [ ] is referencing a context-sensitive value (E.g. [CustomerID] is referencing the CustomerID of the Customer in question)
-- IC_Perflogging
SELECT * FROM StratusFileProcessor WHERE BillerID = XXXXX

Searching the Code Repository
The Biller File Split product uses the 
BillerFileSplit Repository
. From here, navigate to the Module1.vb and search for the GetBillerList() and GetCustomBillerList() methods. In these methods, there are lines of code for each biller that are setup to split their raw file into the necessary post-split format. Search these methods for the biller in question. 
Tip:
 
Every instance of list.Add() in the GetBillerList() and GetCustomBillerList() methods requires a BillerConfig object. This object takes in several parameters for its constructor method. The first 4 parameters are the Biller DBA, BillerID, Integrator ID, and File LookupDirectory in this order. Use This knowledge to easily search for the Biller ID in question. 
Take note of the Integrator ID and navigate to the GetCustomFileSplit() method. Search this method for a case statement using the Integrator ID. Each case statement is handled differently regarding Advanced Setting configurations and potential custom biller logic, so make sure to always review the code before identifying the base Class used for the splitting. Search for the definition of base class and [to be continued]
Tips
Ipsom lorem
Running Biller File Split
Open the Project [BillerFileSplit], and pull from Main for new updates
Open Module1.vb look for the function [GetDebugBillerList()] and modify the Root folder and verify the folder includes the expected folder
and uncomment the Biller you intend on testing from the commented tests below
Open properties for the project [BillerFileSplit] and under [Debug] include BillerID = XXXX
Note to run custom processes use the Custom Tag as well
Put the files in question at the root and Run
Training and Knowledge Materials
Guru Cards:
 URL:/spaces/DS/pages/2597158916/Biller+File+Split