 done
 not doing
 doing
Change Teams
Server Patching
K8s Cluster Node Image Upgrades
 
Pipeline Approvers
Release Manager: 
 
Platform Approver: 
 
VM Diagnostic Settings Maintenance
 
Update MaxSocket Count on Production Servers
 
Pre work
All times are in Eastern Time
Saturday Evening at 7 PM est run the Reschedule Jobs Stage of the 
Preparation Pipeline
, the Stage Name is 
Pre-Maintenance
 
 
 
 Saturday Evening at 6:00 PM - 7:30PM est pull web servers IC-Web1 - 5 out of the App Gateway (agw-pri-appgateway0-prd) pool, and kick off updates manually. Turn off alerting for those servers. Notify platform-int channel when putting them back in. Then post a message in engineering-maintenance to have 
 run tests. 
 or 
Sunday morning 4:30 AM IC-Web6 - 10 - kick off updates manually on servers 
 
 & 
Sunday Morning at 4:45 AM run the second stage of the Preparation Pipeline, the Stage Name is 
Starting Maintenance
 
 
Day of:
Notify dailyops and maintenance slack channels of maintenance starting 
 
Put pingdom in maintenance mode (only if putting up the maintenance page) and disable other alerts 
 
 
Turn off other notifications 
Patching Procedure Current
 
 
 
Enable the maintenance page on www and my by replacing 
pal.invoicecloud.com
 with 
http://icmaintenance.azurewebsites.net
  in Cloudflare under DNS N/A
 
 
Changes
Production Palo Alto Firewalls 
 
PLAT-1929
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
PLAT-2038
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Global_Infrastructure
 
 
PLAT-1590
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Pipeline to Run
K8s Cluster Upgrades
 
 
PLAT-1732
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Script to Run
Payer_Infrastructure
 
 
PLAT-1478
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
PLAT-1596
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1854
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Pipelines to Run
Payer_Infrastructure
 
3.15.0
 (must be completed to move on with the App Deployment below)
OneTimePaymentService
Seed KeyVault for XAT
Deploy
PayerPayByTextService
Deploy
PayerPortalUI
Seed KeyVault for XAT
Deploy
Payer Account Service
Deploy
Payer Branding Service
Seed KeyVault for XAT
Deploy
Payer User Service
Seed KeyVault for XAT
Deploy
Payer Support Service
Deploy
Payer Support UI
Seed KeyVault for XAT
Deploy
Update App pool for RESTAPI 
 
https://invoicecloud.atlassian.net/jira/servicedesk/projects/INFRA/queues/custom/110/INFRA-896
 
 
 
Hub_Infrastructure
 (must wait for 
Global_Infrastructure
) 
 
PLAT-1603
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1591
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1727
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Pipeline to Rerun After Global_Infrastructure Run
Update MaxSocket Count on Production Servers
 
PLAT-1892
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1994
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1995
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1997
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Patch the production servers 
 
PLAT-1980
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
[Canary Deployment] Azure Monitoring Diagnostic Setting Removal on Legacy VMs (redundant with NewRelic) 
 
PLAT-1893
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
ClickOps in Portal
Remove Dead ADDS Records that Pointed to 10.0.3.20 (IC-TestWeb1, which has been deleted) 
 
PLAT-1971
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Test Plan
Run the Smoke Tests on 
www.invoicecloud.com
 @ 10 pm Saturday 
Run the Smoke Tests on 
www.invoicecloud.com
 @ 8 am Sunday 
 
Run the Smoke Tests on 
www.invoicecloud.com
 @ 10 -11 am Sunday 
 
Run full regression tests on 
www.invoicecloud.com
 @ 10 - 11 am Sunday
 
Post-Steps
 
Remove maintenance page and purge the cache on Cloudflare - N/A
Remove the maintenance mode in Pingdom (if finishing early)
Patching Procedure Current
 
 
Turn on notifications
Patching Procedure Current
 
 
 
Start the Jobs for Product Integrations - 
Refer to Post-maintenance steps related to Jobs here
 
Start the Jobs for Product Engineering - 
Refer to Post-maintenance steps related to Jobs here
 
Notify dailyops and maintenance channels of maintenance finished and results
 URL:/spaces/platform/pages/3886710878/2025-03-23+Monthly