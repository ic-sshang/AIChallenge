This page describes different states payment record can move to based on the flow. These state transitions will be implemented on the database side as well.
The states will look as follows:
java
public enum PaymentState
{
    Pending = 0,                    // Initial state
    Authorized = 1,                 // Credit card approved by Chase
    PendingApproval = 2,            // ACH submitted
    PendingVoid = 3,                // Void request initiated
    PendingRefund = 4,              // Full refund request initiated
    PendingPartialRefund = 5,       // Partial refund request initiated
    Captured = 6,                   // Credit card settled on Chase side
    Approved = 7,                   // ACH approved/cleared
    Funded = 8,                     // Money arrived in separate bank account
    Failed = 9,                     // Payment failed
    Voided = 10,                    // Payment voided
    Expired = 11,                   // Payment expired (no capture or approval on the payment)
    Declined = 12,                  // Payment declined
    Refunded = 13,                  // Payment fully refunded
    PartiallyRefunded = 14          // Payment partially refunded
}
CC state transitions:
sale:
 
Pending -> call chase -> Authrorized -> receive the update call or message based on Chase's feedback -> Captured -> Funded
void
: 
Authorized -> PendingVoid -> call chase -> Voided
refund
: 
Captured (or Funded) - stay the same on the original payment 
CreditStatusID on the original payment record -> PendingRefund -> call chase -> Refunded
New payment record on refund: -> Pending -> Authorized -> Captured - there's a potential to void refund record
partial refund
: 
Captured - stay the same on the original payment 
CreditStatusID on the original payment record -> PendingPartialRefund -> call chase -> PartiallyRefunded -> Refunded (multiple partial refunds and we end up
		zeroing out the original payment)
New payment record on partial refund: -> Pending -> Authorized -> Captured - there's a potential to void refund record
ACH state transitions:
sale:
 
PendingApproval -> receive the update call or message based on Chase's feedback -> Approved
void:
 
PendingApproval -> Voided
refund: 
Approved - stay the same on the original payment
CreditStatusID on the original payment record -> Refunded
New payment record on refund: -> PendingApproval -> Approved - there's a potential to void refund record
partial refund:
 
Approved - stay the same on the original payment
CreditStatusID on the original payment record -> PartiallyRefunded -> Refunded (multiple partial refunds and we end up zeroing out the original payment)
new payment record on partial refund: -> PendingApproval -> Approved - there's a potential to void refund record
 URL:/spaces/EA/pages/4526014510/Payments+state+transitions