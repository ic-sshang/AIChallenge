Consistency 
describes 
how predictable
 
reads, writes, and updates in a system are. 
More specifically, consistency in a distributed system describes a way to determine when data is available between primary components and their replicas.
For instance - when an 
INSERT
 is executed successfully against a SQL Server Database, you should be able to execute a 
SELECT
 against the inserted data and read that same data immediately. This is known as 
Strong Consistency
.
 
As a system grows and there becomes a requirement to horizontally scale both application and database servers, it becomes more difficult to rely strictly upon the idea that each time a write is performed, another reader should be able to access that data right away.
Example
Imagine there is a company with nationwide presence and has both customers & employees distributed across multiple states. The company has an employee on the West Coast who must make some configuration changes in their internal reporting system. These changes are anticipated by another group of employees on the East Coast who are waiting for the configuration changes so they may, in turn, complete their own dependent tasks.
The employee logs into the reporting system, makes the necessary changes, and clicks ‘Save’. Immediately afterward, they Slack a message to their colleagues on the East Coast telling them they should be ready to complete their own tasks. However, when the East Coast employees go to view the changes, they aren’t reflected, and the employees must refresh several times before the changes become visible to them.
So, what happened here?
When the West Coast employee logged into the company’s reporting system, the system’s load balancer directed them to application and database servers located on the West Coast - this makes sense as there is less geographical distance for the network traffic travel thus resulting in the lowest latency experience for the end user. Once the employee made the required changes and saved them, a write was committed to a database server within the same geographical location they were located.
Now the East Coast employees have logged into the system and exactly like the West Coast employee, they too had their traffic routed by the load balancer - only this time, they were directed to datacenters on the East Coast where the data doesn’t exist at all! After refreshing multiple times, they were finally presented with the data written by the West Coast employee.
This is because the data asynchronously replicated to the East Coast datacenter between the time the West Coast employee sent a Slack message and when users were finally able to successfully reload and view the desired result on the East Coast.
This scenario describes 
Eventual Consistency,
 an extremely common consistency model in distributed systems.
Consistency Models
Consistency Models provide a way to reason about problems like the above when building a large system. It not feasible to synchronously replicate data each time it is written - using the same company in the previous example, imagine there are 1,000,000 employees all working on the same system at exactly the same time - each time a user executes a write operation it must be written to the database and then synchronously replicated to each and every other database server across the entire company. This would take 
forever
 - and its highly likely it also wouldn’t work without taking the entire system down.
Thus, consistency models describe how data propagates between different server nodes distributed at local, regional, national, or global scale.
Note that it is extremely common to have a mixture of consistency models. You wouldn’t want to buy concert tickets from TicketMaster just to have them tell you they sold out 20 minutes after the charge was applied to your credit card - there is nuance in selecting the correct approach for a given problem.
Weak Consistency - 
After a write, read nodes may or may not receive the same copy of the data. 
An example of this would be a VoIP service - you would not hear what was said during a phone call that dropped but you may be reconnected to the same call once the network recovers.
Eventual Consistency - 
After a write, all nodes will 
eventually
 receive the same copy of the data. This can still be very fast and is typically in the order of milliseconds.
Simple examples of this behavior are DNS or SMTP
Asynchronous
Eventual consistency helps provide high availability.
Strong Consistency - 
After a write, all nodes will immediately read the same data.
This is pretty standard RDBMS or File System behavior. e.g. A SQL 
INSERT
 occurs, and a subsequent 
SELECT
 immediately retrieves the result.
Synchronous
Works well in systems requiring transactions
 URL:/spaces/EA/pages/4070638197/Consistency+Consistency+Models