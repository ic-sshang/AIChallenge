1
6
false
default
list
true
Participants
 
Pipeline Stager and Release Planner
Secondary DNS Script Runner
 
Pipeline 
ado-system_src-release-manager
 Role
Primary DNS Script Runner 
 
Pipeline 
ado-system_src-approver
 Role
 
Patching Lead
TLS Certificate Renewal Lead
 
Secondary to 
 and execute any assignments 
 assigns
 
Primary Job Reschedule Runner
Pre work
 Saturday Evening at 8 PM run the Reschedule Jobs Stage of the 
Preparation Pipeline
, the Stage Name is 
Pre-Maintenance
 
 or 
 Saturday Evening at 9 PM 
AppGateway_Infrastructure
 
PLAT-1353
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1547
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1480
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Tag 
platform-0/0.23.0
Pipeline to Run
 Saturday Evening at 9:30 PM pull web servers IC-Web1 - 5 out of the App Gateway (agw-pri-appgateway0-prd) pool, add the servers into the current months WSUS group and kick off updates  
 Sunday morning 4:30 AM Move MCC, IC-FTP, ProxyTemp1 - 5, App/PDF/Skybot servers into the current months WSUS group and kick off updates
  Sunday Morning at 4:45 AM run the second stage of the Preparation Pipeline, the Stage Name is 
Starting Maintenance
 or 
Day of:
  Notify dailyops and maintenance slack channels of maintenance starting
  Put pingdom in maintenance mode (only if putting up the maintenance page)
  Enable the maintenance page on 
www
 and 
my
 by replacing 
pal.invoicecloud.com
 with 
icmaintenance.azurewebsites.net
 in Cloudflare under DNS
Changes
 
PLAT-1289
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
PLAT-1433
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1715
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
Day of public cert rotation steps
  Update Web Servers
  Update ICG Servers
  Upload PEM Cert to 
kv-glb-vault1
 updating Certificate 
star-invoicecloud-com
  Upload PEM Cert to 
kv-glb-vault1
 updating Certificate 
star-prd-invoicecloud-com
  Upload PFX Cert to 
kv-glb-vault1
 updating Certificate 
star-invoicecloud-com-pfx
 
PLAT-1711
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
PLAT-1401
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 and 
 
Script to Run
 
Hub_Infrastructure
PLAT-1285
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1354
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1403
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Artifacts and Pipelines for above Items:
Tag 
platform-0/2.102.0
Pipeline to Run
 
AVD_Infrastructure
PLAT-1403
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1506
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Tag 
platform-0/1.22.0
Pipeline to Run
 
Biller_Infrastructure
PLAT-1403
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Tag 
platform-0/0.4.0
Pipeline to Run
 
 
Payer_Infrastructure
PLAT-1403
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-1566
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Run K8s Version Upgrade Script
 
Tag 
platform-0/3.10.1
 
 
Pipeline to Run
 
PLAT-1492
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Scripts to Run
 
   Add 
awx.invoicecloud.com
 to the Cloudflare WAF Rule for limiting access to known IPs.
 
PLAT-1354
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Script to Run
Remove from ADDS
 
INFRA-906
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
added during window when we discovered that preview was inaccessible publicly  
Test Plan
 Run the Smoke Tests on 
www.invoicecloud.com
Run full regression tests on 
www.invoicecloud.com
Post-Steps
 Remove maintenance page and purge the cache on Cloudflare
 Clean up Stratus files
 Start the Jobs - 
Refer to Post-maintenance steps related to Jobs here
 or 
Notify dailyops and maintenance channels of maintenance finished and results
Notes
Going forward, start pre-maintenance pipeline before 7PM central (long-running job starts at that time)
As a Platform team, we should take initiative to get more people access + familiarity with Pingdom so it’s not only Rob C
We should collect Cloudflare Warp dedicated outbounds so that we can add them to tokens for maintenance windows without needing to google ‘what is my ip’ or hit ifconfig.me
We should look into pausing more alerts - engineering-issues-internal channel blows up during maintenance
Update TF apply pipeline for Hub_Infrastructure to specify TF version to avoid version mismatch error
ADO approvers and release-managers is pretty cumbersome, make it better
Try to ensure any scripts that need to run are powershell
add fix versions to INFRA project
AWX DNS records were deployed successfully, but it appears that nginx + ingress is not configured properly in the tooling cluster
Need to get more people more access in Cloudflare as well
We can enable log rotation using the New Relic Infrastructure Agent rather than running scheduled tasks or writing custom scripts. We should do this
https://docs.newrelic.com/docs/infrastructure/infrastructure-agent/configuration/infrastructure-agent-configuration-settings/#logging-variables
preview.invoicecloud.com
 is not externally accessible for some reason: 
Jira Service Management - JIRA
 URL:/spaces/platform/pages/3825402029/2025-01-26+Monthly