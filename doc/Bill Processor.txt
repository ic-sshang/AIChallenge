Overview
The purpose of this product is to automate the exchange of real estate tax data between a municipal tax office and tax servicing companies
A “Bill Processor” is any entity/company looking to research, report and/or remit Real Estate Tax information (to a biller) on behalf of a homeowner.
Examples: Tax Service, Bank, Mortgage Company, Lawyer, Escrow Agency, Title Service
Current large users: CoreLogic, Lereta, WellsFargo, Accumatch, National Tax Search, etc.
The tax services use an MCC product that allows them to receive and remit tax information
MCC Bill Processor Product
Here is an overview of the MCC Bill Processor Product
Packages Offered
Standard
:
This processing package allows the user to search for account information. You will be asked to enter in, for example, the parcel number or part of the property location and the website will bring up all the possible account matches.
Ideal for small loan counts
Look-up amounts due
Have the option of viewing and printing each account or eBill you look-up
Professional
:
The Professional package allows Bill Processors to look-up accounts along with the ability to manage all of their accounts in an online portfolio. Your portfolio can be saved; accounts and account information can be add/delete/edit. Your portfolio can also be submitted to a city/town for remittance and access via the InvoiceCloud BillerPortal.
Simplify the way you create and submit remittances
Monitor your Non-Escrow loans
View past submitted remittance
Account information is stored, making future payments and inquires fast and easy
Confirm payments have been made and posted without calling Municipalities
Enterprise
:
The Enterprise package gives Bill Processors the convenience of receiving tax files from one single source in one single format. Since the tax file received is in one standardized format for all cities and towns you can have one approach to import this information into your system. When you have completed processing the information, the standardized payment file will allow you to have a single export approach for all cities and towns.
Ideal for processors with an in-house process already in place
Ability to receive full files
Standardized import file for all Billers
Standardized export/payment file for all Billers
Look-up amounts due and property information easily
Have the option of managing your accounts in an online portfolio
Simplify the way you create and submit remittances
Account information in your portfolio is stored, making future payments fast and easy
View customized reports to reconcile remittances
Monitor your Non-Escrow loans
Confirm payments have been made and posted without having to call the Municipalities
Thorough, robust processing
To research, report, and/or remit tax information online through MCC and InvoiceCloud as a tax service, you must either register for an MCC Bill Processor account or Login to your existing Bill Processor account.
ICCRM product activation process
Activating the product starts in the CRM.  The first step is to upload the file to confirm that MCC can process the file layout based on previously accepted MCC file layouts.
Here's a step-by-step explanation of what the code does:
If it's a postback, it checks if a file has been uploaded using the uploadtestfile.HasFile property.
If a file has been uploaded, it tries to validate the file layout using a web service (wsMCC.eBill). It passes the file bytes and some other parameters to the IC_ValidateFileLayout method of the web service.
If the file layout is valid (isValidationSuccessful = True), it makes some UI elements visible, executes a database command to insert a new record into the BillerProducts table, shows a success message, and reloads the CloudCSR data.
If the file layout is not valid, it shows an error message.
If there's an error while trying to validate the file layout or execute the database command, it logs the error using Serilog and shows an error message.
If no file has been uploaded, it does nothing.
Once a file has been successfully uploaded the product is then turned on and the biller will have access to the Bill Processor menu.  This menu includes the following pages, which will be described below
Deliver Files
During Real Estate cycle time a file will be uploaded from the biller using this page in the Biller Portal.
The biller will manually select a file type (currently locked at only Real Estate), enter a fiscal year, select the installment type (Annual, Semi-Annual, or quarterly) and provide a due date and interest date (if it’s not the first file of the year).  Once they have entered the information, they will choose the Real Estate file to upload from their system that corresponds to the information entered above and click upload file.
Upload file function  
Private Sub btn_upload_file_Click(sender As Object, e As EventArgs) Handles btn_upload_file.Click
Here's a step-by-step breakdown of what the function does:
It checks if a file has been selected for upload using the File_Upload.HasFile property.
If a file has been selected, it creates a new instance of the wsMCC.eBill web service and initializes several variables, including a new DataSet and strings for status and error messages. It also retrieves the current biller from the session.
It sets the visibility of rg_FileList and tb_file_list to false, hiding these elements on the page.
It checks if the txt_new_due_date and txt_file_interest_date fields have selected dates. If they do, it assigns these dates to str_due_date and str_file_interest_date respectively.
It retrieves the fiscal year from the txt_fiscal_year field and the installment from the txtInstallment field. It then formats the installment based on the number of items in the txtInstallment field.
It retrieves the bytes of the uploaded file using the File_Upload.FileBytes property.
It calls the IC_UpdloadFileforBillProc method on the web service to upload the file. It passes in a hard-coded string, the biller ID, the fiscal year, the installment, the file type, the due date, the file interest date, and the file bytes. It also passes in WS_Status and WS_ErrorMessage to receive the status and error message from the web service.
If the IC_UpdloadFileforBillProc method returns 0 (indicating success), it resets the txtInstallment, txt_file_interest_date, txt_new_due_date, and txt_fiscal_year fields, calls the Check_Status_Table function, shows the tr_file_result_message element, and displays a success message.
If the IC_UpdloadFileforBillProc method does not return 0 (indicating failure), it calls the Check_Status_Table function, shows the tr_file_result_message element, and displays an error message.
In summary, this function handles the process of uploading a file when the "Upload File" button is clicked. It retrieves the necessary information from the page, uploads the file using a web service, and handles the success or failure of the upload.
Recently Sent Files List
Loading the grid
The Check_Status_Table function in 
VB.NET
 is used to update the status of the file upload operation on the 
ASP.NET
 Web Forms page. Here's a step-by-step breakdown of what the function does:
It initializes a new instance of the wsMCC.eBill web service, two DataSet objects (dsrmFilelist and dsFilelist), and several string variables (WS_Status, WS_ErrorMessage, str_bill_processor_name, str_file_type). It also retrieves the current biller from the session.
It calls the IC_GetUploadFilesList method on the web service, passing in a hard-coded string, the biller ID, the number 10 (indicating the maximum number of files to retrieve), and dsFilelist to receive the list of uploaded files. It also passes in WS_Status and WS_ErrorMessage to receive the status and error message from the web service.
If the IC_GetUploadFilesList method returns 0 (indicating success), it sets tb_file_list and rg_FileList to visible, sets the data source of rg_FileList to the first table in dsFilelist, and calls the Rebind method on rg_FileList to refresh its data.
If the IC_GetUploadFilesList method does not return 0 (indicating failure), it doesn't perform any action. However, in a real-world application, it would likely handle the failure in some way, such as by displaying an error message.
In summary, the Check_Status_Table function retrieves a list of uploaded files from a web service and updates a data grid on the page with this data. If the retrieval is successful, it makes the data grid visible and refreshes its data. If the retrieval fails, it doesn't currently handle the failure.
Verify Files
This page pulls back a list of files and their verification status from the MCC system via a webservice call IC_GetVerifyFilesList.  Once the files have been returned the grid logic checks the "VerifyStatus" field of the row. If it contains the string "Verified ON", it sets the "VerifyStatus" cell of the grid row to the "VerifyStatus" field of the data row (with "ON" replaced by "on") and sets links to an HTML string that represents a link to the BillerBillProcessorVerifyFileDetail.aspx page with the file GUID, verified status, and verified date as query parameters.
If the "VerifyStatus" field contains the string "2", it sets the "VerifyStatus" cell of the grid row to "Pending" and sets links to an HTML string that represents a link to the BillerBillProcessorVerifyFileDetail.aspx page with the file GUID as a query parameter.
If the "VerifyStatus" field contains the string "Rejected ON", it sets the "VerifyStatus" cell of the grid row to "Rejected" and sets links to an HTML string that represents a link to the BillerBillProcessorVerifyFileDetail.aspx page with the file GUID, rejected status, and rejected date as query parameters.
If the "VerifyStatus" field does not match any of the above conditions, it sets links to an HTML string that represents a link to the BillerBillProcessorVerifyFileDetail.aspx page with the file GUID as a query parameter.
Finally, it sets the text of the Literal control to the links generated on the previous step.
Verify File Details
Example of a verified file:
Example of an unverified file with questions:
This page is used by the biller to check a previously delivered file to verify if the contents and values within the file are correct.  It asks a series of questions on the page itself to determine if the file is valid
"
The person verifying this file
"
 - This is not a question but a statement. The name of the person verifying the file is displayed next to this statement.
"
Are All eBill Online Samples Correct?
" - The user can respond to this question by clicking either the "Yes" or "No" button.  The samples contain a snapshot of what the Real Estate bills will look like in the system.  
"Please enter a reason why these samples are being rejected, then click Reject" 
- This question is hidden initially and shown when the user indicates that the eBill Online Samples are not correct. The user can enter their response in a textarea and click the "Reject" button to submit it.
"Is [Due Date] the correct Due Date Of the original bill?"
 - The user can respond to this question by selecting an option from a dropdown list. The due date is dynamically inserted into the question.
"Please enter the correct due date for the file" 
- This question is hidden initially and shown based on the user's response to the previous question. The user can enter a date using a date picker.
"Is Interest on past due balances shown above calculated through [Interest Date] and is this acceptable?" 
- The user can respond to this question by selecting an option from a dropdown list. The interest date is dynamically inserted into the question.
"Please enter the correct File Interest Date for the file"
 - This question is hidden initially and shown based on the user's response to the previous question. The user can enter a date using a date picker.
"You have indicated the interest figures are incorrect. Please click Yes-Send New File to complete this verification"
 - This question is hidden initially and shown when the user indicates that the interest figures are incorrect.
"Prior Year And/Or Tax Title info was Not provided In this file. Send a New file?" 
- This question is hidden initially and shown under certain conditions. The user can respond by selecting an option from a dropdown list.
"Zero/Credit balances Not detected In this file. Send New file?" 
- This question is hidden initially and shown under certain conditions. The user can respond by selecting an option from a dropdown list.
The form also includes a Please answer all questions before accepting this file. message that is hidden initially and shown when the user tries to submit the form without answering all the questions.
This page also fetches the details of a specific file from a web service and displays them in a table in the page. It also handles different "verified status" values and displays different content in the page based on them.
Here's a step-by-step breakdown of what happens on page load:
It initializes a new instance of the wsMCC.eBill web service and several variables to hold the data that will be fetched.
It calls the IC_GetVerifyFileDetail method of the web service to fetch the details of a specific file. The file is identified by a GUID that is passed as a query parameter in the URL of the page.
If the IC_GetVerifyFileDetail method returns 0 (indicating success), it proceeds to display the fetched data in the page.
It sets the text of several labels in the page to the fetched data.
It creates a StringBuilder to build an HTML string that represents a table of the fetched data.
It loops through each row in the ds_AccountList dataset (which was filled by the IC_GetVerifyFileDetail method) and appends HTML strings to the StringBuilder that represent the data in the row.
It checks if any of the data in the dataset was "N/A" and appends an additional row to the table if so.
It checks the "verified_status" query parameter in the URL of the page and displays different content in the page based on its value.
It sets the inner HTML of a div element in the page to the HTML string built by the StringBuilder.
If the IC_GetVerifyFileDetail method does not return 0, it hides several elements in the page and displays an error message.
Download Payments - Lockbox Processing
This page handling the processing of lockbox files for a biller portal. Here's a brief overview of what each method does:
Page Init:
 This method is the initialization method for the page. It checks if the receive_files_id query string parameter is set to "1" and if the FileGUID query string parameter is not empty. If both conditions are met, it calls the Receive_Files method with the FileGUID as an argument.
Show_Remittance_Info
: This method retrieves and displays the details of a lockbox file. It calls a web service method IC_GetLockboxFileDetail to get the file details and binds the returned data to a RadGrid control.
rg_RemittanceView_NeedDataSource
: This method is an event handler that's triggered when the RadGrid control needs data. It retrieves the lockbox file details similar to the Show_Remittance_Info method.
Page_Load
: This method is the page load event handler. It checks if the page is being loaded for the first time (not a postback) and performs various operations based on the query string parameters.
It first sets the visibility of wrap_remittance_details to False which is a control on the page that should be hidden initially.
It checks if the page is being loaded for the first time (not a postback). If it's a postback, the method does nothing and returns immediately.
It retrieves the current biller from the session and checks if the biller is required to change their password. If they are, it redirects them to the BillerChangePassword.aspx page.
It checks if the shw_remittance_info query string parameter is set to "1" and if the FileGUID query string parameter is not empty. If both conditions are met, it sets bln_get_file_list to False, hides the dgData control, sets the title label text to "Remittance File Detail", and calls the Show_Remittance_Info method with the FileGUID as an argument.
If bln_get_file_list is True, it sets the title label text to "Bill Processor Lockbox Receive" and calls the Get_LockBox_Files method.
Receive_Files
: This
 method downloads a lockbox file. It calls a web service method IC_TransferLockboxFile to get the file data and sends it to the client as a download.
It first creates a new instance of the wsMCC.eBill web service and a new DataSet named dsFilelist.
It retrieves the current biller from the session and stores it in the _Biller variable.
It declares a byte array file_Bytes to hold the file data, an integer int_file_length to hold the file length, and a string str_file_name to hold the file name.
It then calls the IC_TransferLockboxFile method of the web service, passing in a hardcoded GUID, the biller ID, the file GUID, and the file_Bytes and int_file_length variables by reference. The IC_TransferLockboxFile method is expected to fill file_Bytes with the file data and int_file_length with the file length. The method returns 0 if it succeeds and a non-zero value if it fails.
If the IC_TransferLockboxFile method succeeds, it prepares the response to be a file download. It sets the Content-Disposition header to make the browser treat the response as a file download and sets the Content-Type to application/octet-stream, which is a generic binary file type. It then writes the file data to the response and ends the response, causing the file to be downloaded by the client.
If the IC_TransferLockboxFile method fails, it calls the ShowErrorMessage method to display an error message.
dgData_NeedDataSource
: This method is an event handler that's triggered when the dgData RadGrid control needs data. It retrieves a list of lockbox files by calling the IC_GetLockboxFilesList web service method.
dgData_ItemDataBound
: This method is an event handler that's triggered when a new item (row) is bound to the dgData RadGrid control. It adds options to view the remittance details and download the lockbox file for each row.
ShowSuccessMessage and ShowErrorMessage
: These methods display success and error messages respectively.
Get_LockBox_Files
: This method retrieves a list of lockbox files similar to the dgData_NeedDataSource method.
 URL:/spaces/ED/pages/2692710402/Bill+Processor