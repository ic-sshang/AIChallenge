Introduction
The Python-based API application which exposes ML APIs to determine the alert metric type and value for monitoring biller API performance. The goal is to notify billers when their APIs, as invoked by the 
Datapump 
application, show signs of slow performance. One API trains the model using historical data, while the other predicts the alert value for the next hour based on the input dataset and trained model. Both APIs are hosted within the same application, which is currently being containerized and deployed to biller cluster.
This api predicts the following metrics values
Average Response Time
Error Rate Percentage
Timeout Error Rate
In its current form, the API‚Äôs exposed are:
POST /metrics/train/{metrictypeId}/{billerId}
POST /metrics/predict/{metrictypeId}/{billerId}
This 
train 
endpoint trains the model for predicting the data for following metrics and takes data set as an input:
Average Response Time
Error Rate Percentage
Timeout Error Rate
The 
predict 
API takes the sample and predicts the threshold value.
The caller of this API is responsible to update the threshold condition in biller shard to notify biller if threshold condition is met.
üõ†Ô∏è Future Capabilities
In upcoming phases, the API will be extended to read the data from database and store the model output in azure blob storage.
Training and Predicting the Datapump thresholds.
 Running the API
The API is designed to be containerized and deployed in a Kubernetes environment. Configuration values can be provided in the following order of precedence:
Environment variables
Operational Details 
1. 
Receive Request
The API receives a Post request with a 
billerId and metrictypeid
 as a path parameter.
2. 
Return Response
The API will return a structured JSON response containing the requested metrics.
3. 
Error Handling
Proper error responses will be returned for invalid or missing 
bill
 Containerization & Deployment
A 
Dockerfile
 is included to build the API image.
Kubernetes manifests (
deployment.yaml
, 
service.yaml
) are provided as boilerplate for deploying the API to a Kubernetes cluster.
Health and readiness probes are stubbed for future configuration.
Process Diagram
 URL:/spaces/ED/pages/4579721217/DataPump+Threshold+Predictor+API+Architecture+Overview