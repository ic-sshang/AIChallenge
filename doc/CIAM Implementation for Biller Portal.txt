Requirements with the relevant links




2968


30f08b44-570b-418d-96ab-2cbaaf765894


complete


Discovery for the Identity Provider for the Biller Portal: Finalised SecureAuth.
Auth0 Vs SecureAuth
 
 
 
 






2969


8c571d69-66d6-4452-96bb-d1fe4029be40


complete


Initial POCs by PRISM and PULSE on SecureAuth and Auth0






2970


79839db1-f6b4-4140-b1e5-327ff8a7408f


complete


Integrating a CIAM toggle under the Product options in CRM for enabling/disabling the Biller with SSO.






2971


1214edd7-17e8-48f8-a7aa-c56df478d0b4


complete


Create an application client for Biller Bortal under the Workspace for all the tenants for Production as well as lower environments. 
 - We can create the same for the lower envs, and then Martin or Tony might be creating for the Production. Shrey and Martin to work on Lower environments. 
PRISM-690
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2972


41335b4d-9310-4ef1-a6fe-3d9da0460a05


complete


Get the 5 Tenants created in SecureAuth 
 
 - Raised the query for SA.






2973


8c023fcc-f7cf-41b0-8cd9-6270b51089cf


incomplete


  Create a Biller Portal SSO sign in page with the Biller GUID to share it with the Billers. Enable Conditional Redirect to SecureAuth Login Based on Biller GUID and CIAM Toggle. 
 
PUL-84
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 Client at the Admin level (System Workspace) and at the Customer Workspace.






2975


b9b3b761-cfd3-4d5b-b85a-5bb0ca11785a


incomplete


Check on the Key Vaults to store Client Secrets and URLs. For Client IDs, Client Secrets, Redirect URLs, Actual URL and Tokens. 
 
 
PRISM-718
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2976


770e9455-ae83-41ef-a5c9-b36881df9df4


incomplete


Status of enabling SSO toggle under the CIAM product option - linked with the Creation of organization in SecureAuth and Migration of Users Credentials.






3008


8818ff4d-2f3a-4636-b7a3-da6b735a0274


incomplete


Options to choose the use case for the specific biller in the CIAM Product option: 






2977


b3a1e88b-c8fb-4050-84cd-a9f26379bb02


incomplete


Create a separate Repo or Library for the Code components for SecureAuth APIs integration. 
PRISM-689
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






3011


a071df14-7efc-43f9-8b07-f7e86af54d8b


incomplete


Develop a migration component to transfer user data and credentials from Invoice Cloud to SecureAuth Identity Pools. 
PRISM-692
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2978


b8603f23-ca3b-400e-ab59-fc6a3fe7080c


incomplete


Integrate the below list of APIs from SecureAuth into our Code:
PRISM-623
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 








2979


bc8625d4-0b57-4d81-8856-3df1bf82607e


incomplete


Create organization: 
https://docs.secureauth.com/ciam-apis/system.html#tag/organizations/operation/createOrganization
 
PUL-100
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2980


9cc1fde2-0152-41d0-9ab6-6b78c8e1e9ef


incomplete


Update Organization: 
PUL-117
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2981


dd38d28c-129d-4363-aeb7-90f6d6a712c6


incomplete


 
  Delete Organization: We don‚Äôt need to integrate yet.   






2982


8a1512a2-629e-48c0-ba5a-1fc167ab59f1


incomplete


Create user: 
https://docs.secureauth.com/ciam-apis/identitysystem.html#tag/Users/operation/systemCreateUser
 
PRISM-651
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2983


7c0928e8-d0e2-48af-9f00-7d10e1bb79ea


incomplete


Delete user: 






2984


ea71c4cb-e93d-4d0e-a5d9-9469358b995d


incomplete


Update user: 
PUL-103
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2985


b45ced89-324d-4cbb-aea2-39d4fe290e74


incomplete


List user: 
https://docs.secureauth.com/ciam-apis/identitysystem.html#tag/Users/operation/systemListUsers
 
PRISM-653
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






2986


8323306b-d5cf-4e49-b114-99058344cf09


incomplete


Get user history: 
PRISM-655
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






3019


b20bbbfb-2622-4cc3-83c2-eb501f7d2f37


incomplete


Request Password Reset API: 
PUL-102
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






3009


a4a22cfc-6344-4698-b8d3-299cb8de8d76


incomplete


Change Password API integration: 
PRISM-693
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 






3012


c46fea70-554f-4be1-9ecd-08bd6e3bca19


incomplete


Set Password State API: 
PRISM-664
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 ? 






2987


e973ad1e-661a-43a9-86eb-3245af2e7810


incomplete


Integrating the Biller Management and User Management features in CRM with the API integrations. 
PRISM-622
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 








2988


03a54997-227e-4e3b-81c2-a9d5e2d9fcb8


incomplete


Adding a new Biller with Create Organization if the Biller wants our SSO.






2991


10e04eab-0e79-4a7f-b51f-2d0d989ae48e


incomplete


Updating an Organization 






2992


01fbb6a5-7bac-4ed5-9322-4db0b7c6983d


incomplete


‚ÄúNew User‚Äú with Create User






2993


bb42785c-4cfe-443e-9e60-b362f355141f


incomplete


Update User?






2994


216486e0-9dbe-4901-abc0-57318d3348a2


incomplete


Delete User?






2995


0da75964-683b-4a67-9940-2336c8a14afb


incomplete


‚ÄúGet User History‚Äù (Carrot icon) with the Get user history?






2996


2574925f-d386-428b-802a-aaaedf906bd0


incomplete


Integrating the Biller Management and User Management features in the Biller Portal with the API integrations.






3015


a7824b0e-db40-4c81-9b5d-81ad458531b5


incomplete


Get a code component ready for a Job in the code which triggers the components for creation of Organizations and migration of Users for one or more Billers and update the CIAM Toggle to Active as per the Status of the Job.






3016


8e89db93-5367-4541-8a24-5c220265cf2f


incomplete


Detecting the Malicious users trying to login with incorrect usernames, this information is in the user activity dashboard and the audit events. Please take a look at the screenshots below. It is not available in the server-level dashboard yet. It is best to subscribe to our audit events using webhooks and query this information using your SIEM system. We also have insights when we detect that someone is using leaked credentials.




IC on 
SecureAuth Workflow:
Here‚Äôs a structured documentation of the 
Phase 1 Authentication Flow
 for your Biller Portal, incorporating the decision to retain the existing URL and enforce unique usernames across billers:
üîê Biller Portal Authentication Flow ‚Äì Phase 1 (SecureAuth Integration)
Overview
In Phase 1 of our authentication revamp, we are:
Retaining the 
existing Biller Portal URL
.
Continuing with 
unique usernames across all billers
.
Introducing a 
new Sign-In Page
 that initiates authentication via SecureAuth (SA) or falls back to the legacy Invoice Cloud (IC) route based on user and biller identity.
Authentication Flow Steps
1. IC Sign-In Page (Initial Entry Point)
URL
: Same as current portal.
UI Change
: Only a 
username field
 is shown (no password).
Action
: User enters their username and clicks 
Submit
.
2. Username Lookup & Biller Identification
System performs a 
cross-shard lookup
 to identify the associated 
Biller ID
.
With the Biller ID, a 
CIAM toggle check
 is performed via CRM to determine the authentication route:
Legacy Route
Migrated to SecureAuth (SSO/MFA)
Username Not Found
3. Legacy Route Handling
If the user belongs to a 
Legacy Biller
:
The same page dynamically adds a 
password field
.
User enters password and submits.
Authentication is handled via 
Invoice Cloud (IC)
.
On success, user is logged into the Biller Portal.
4. SecureAuth (SA) Route Handling
If the user belongs to a 
Migrated Biller
:
Redirect to 
SecureAuth login page
 with 
login_hint
 pre-filled.
The 
username field is shown but uneditable
.(Because we check the username validity and the associated Biller only through  the IC sign in page?)
User enters password and submits.
Authentication is handled via 
SecureAuth SSO/MFA
 (covered in PUL-84).
On success, user is logged into the Biller Portal.
5. Incorrect Username Handling (Security-First Approach)
If the username is 
not found
:
Redirect to 
SecureAuth login page
 with the entered username. (Because we check the username validity and the associated Biller only through  the IC sign in page?)
User sees the uneditable username field and enters password.
Authentication fails with a 
generic error
 (e.g., "Incorrect username or password").
User remains on the same page regardless of retry attempts.
This prevents malicious actors from probing valid usernames.
6. Mistaken Username Entry (Non-Malicious Users)
If a legitimate user mistypes their username:
They are redirected to the SA login page and see a generic error.
To correct the username, they must 
navigate back to the initial SA Sign-In Page
.
While this may impact user experience, it is necessary for 
security hardening
.
Key Considerations
Username Uniqueness
: Enforced across all billers to streamline lookup and routing.
Security vs UX Tradeoff
: Prioritizing protection against malicious enumeration over seamless correction for mistaken entries.
Future Enhancements
: In Phase 2 or later, when we need to allow duplicate usernames across different billers, we will need to work on providing having custom URLs, and it should work fine in the scenario of all the billers being migrated to SA.
Questions:




2998


406182f1-512e-4516-91c1-36e2e770e6ee


complete


Error message or Status of enabling SSO toggle under the CIAM product option? Status field.






2999


6e70c9dd-5cde-4c7c-8128-f055e5170326


incomplete


How do we want to handle update of the user? By creating a new user in secureauth and deleing the old user in case the user attempts to update the username from CRM.






3000


e187ba9a-20ad-4103-ad43-f7fa18106aed


complete


API for get user history?






3001


94c7d56f-0c7b-483e-b0ca-922536058760


complete


Do we want to delete an organization in SA if the SSO is disabled or for any other scnearios? No






3002


8910c4cc-524e-43dd-b436-2b0fbeb283b8


complete


Do we want to update an organization in any scenario? May be just the name of the org, not the identifiers.






3003


1db17f31-124e-477f-a73b-a97fc70af0e2


complete


Do we want to rely on SecureAuth for listing or searching for the Billers in CRM? We should only be searching in our Database.






3004


07622c68-e1e6-4e38-b09a-7a763b605f4f


complete


How do we want to handle identifying the Biller from the Secure Auth login page? Unique usernames across billers or one biller? We are going to have a unique URL for the Biller Portal which identifies the Biller with an inbuilt script.






3005


60a026fb-11fc-4002-9386-7adb79b936f8


incomplete


SSO screens for the UI Designs?






3006


f9941efd-0eef-4c5c-a312-60ec98db434e


incomplete


Create a Migration plan for the Billers for SSO. 
 






3007


208bd367-53ab-47cb-967a-67f72f7a1f71


incomplete


How many Billers are having duplicate Email addresses among the users? 
 






3010


dce3988d-c2d2-4ada-8d18-6288607a2e21


incomplete


Set Password State API: 
PRISM-664
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
  ??






3013


aa489ea0-9a4a-4278-88ca-45006d1d0750


incomplete


Delete User? We don‚Äôt delete the users. But we are gonna have to see if we will be able to update the Usernames or Email address through the APIs and based on that see if we can avoid deleting the users in SA as well.






3017


ac57fbf7-d601-4176-a514-4591a8d33d68


incomplete






3018


a41fa426-8cfe-4114-860d-4a4e12455394


incomplete






Notes:
Migration Discussion:
IC employee (who?) creates biller org in SA (how does this happen?)
Additional configuration is performed 
This is done via the CRM (what options are available?)
This needs to be fully completed before the biller begins their testing
Once config is complete, custom URL is shown to IC employee
Biller is given their custom URL
Is biller testing in lower environment?¬† Or is biller testing in production with only SOME users? 
Decision point here: do we think a one-time cutover in production is a safe approach? 
No ‚Äì need to be able to so a soft enable
If lower environment, do we need to give a URL in that environment?
If some users, we will need to have both methods available concurrently 
If user uses the OLD URL, they login using our security
If user uses the NEW URL, they login using SA
Is there a problem with concurrent?
¬†Modes in CRM Toggle: 
a. Legacy
b. Concurrent (Testing)
c. New (SSO or MFA)
Any resetting password experiences will not be in sync in the concurrent mode.
We decided to Implement the trigger for the SSO/MFA Migration from the toggle.
Update IC legacy Database usernames with the username.OrgID vs create a new field for the Login page for the Org ID. Martin‚Äôs suggestion: Go with the new SA with the Migrated users having to go through the custom URL, also make the usernames in our database for the SA users composite of the Username and Org ID, But it doesn‚Äôt solve the bottleneck of migrating the biller back to legacy.
Confirmed approach:
1. Have custom URLs
Block the duplicate usernames across the billers until we have all the Biller migrated.
We want to user Username as the identifier and not the email address.
We want to delete the email address as the identifier.
Can we have a feature request for us for having the username as the Identifier by default?
18/07/25:
We want to have a blank page for the custom URL page.
Provide all the below pages for the designs:
Making it a better experience for users spread across multiple billers - they will have 3 different logins - Can there be a way to unify the login experience?
The login experience for the IC employees?
Call with SA:
There are some common resources like Tenants between the Workspaces.
Under workspace we can select any of the template with O Auth.
Applications should be created under the Custom Workspace.
System Workspace should be utilised for executing the APIs.
 
If we want to just provide Password field in the SA Login page after the user has already provided the username in the previous link, we can provide the Login_Hint in the SA Login to provision the username.
We want to know more about the persistent user lock-in.
Want to understand more on connecting to the third party IDP?
Username editable?
What happens when we (IC employee) sign in as an user?
We need to create the users of IC at the Root Organization,  Invoicecloud workspace level.
Only the users created at the Admin level can create the Organization
 
What are we using the master account for after creating a new Biller/Org.
How to create the IC Employee accounts in SA, Spike to understand if that can be done by the admin accounts in SA, can we then replace the Master Accounts?
Can the Admin accounts be connected to Okta. Question for SA.
 
IC Employees Sign In:
The profile icons in the CRM will be disabled.
A new url will be provided under the Biller details in the CRM, which will log in the IC employees directly into the Biller Portal.
Created the IC Organization as a Super Organization
 to check with Rob to test with Okta Dev Test.
 
https://invoicecloud.atlassian.net/wiki/spaces/PRODUCT/whiteboard/4505665589
 URL:/spaces/PRODUCT/pages/4505534475/CIAM+Implementation+for+Biller+Portal