Summary
This document outlines the implementation plan for enabling network routing in the 
secondary region
 for the 
App Gateway
 and its downstream components.
The initial scope covers the 
Tooling Cluster
, specifically the 
AWX Tower
 hosted on a Kubernetes tooling cluster and made accessible via 
awx-sec.invoicecloud.com
Objectives
Configure DNS and routing to ensure traffic reaches AWX Tower in the secondary region.
Ensure Palo Alto firewall rules allow controlled access.
Test connectivity end-to-end via AppGateway → Tooling Cluster Ingress → AWX Tower.
Implement changes safely during the 
Oct 26th maintenance window
.
DNS Configuration (Cloudflare)
Record Type
Name
Value / Points To
Purpose
A Record
pal-sec
Public IP of 
lb-sec-paloaltoin1
Entry point for Palo Alto LB
CNAME Record
awx-sec
pal-sec.invoicecloud.com
External entry for AWX Tower
Firewall Rules (Palo Alto)
Add rules to allow inbound traffic from 
public IPs
 to Palo Alto secondary LB.
Ensure routing inside Palo Alto is configured to forward 
awx-sec.invoicecloud.com
 traffic → 
secondary App Gateway → Tooling Cluster Ingress (nginx-ingress)
.
Validate ADO access path for pipelines testing against AWX Tower.
⚠️ 
Implementation Notes:
Rules should be staged and validated, but 
not enabled until Oct 26th maintenance window
.
Require Palo Alto access to confirm existing rule sets before implementation.
 URL:/spaces/platform/pages/4658331649/Secondary+Region+Network+Routing+-+Tooling+Cluster