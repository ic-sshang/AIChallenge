 Postmortem summary
Postmortem owner
WDIL
Incident
NA
Priority
p0
Red
 / 
p1
Yellow
 / 
p2+
Affected services
Customer Registration
note
Executive summary
Summarize the incident in a few sentences and include its duration, severity, and causes.


Executive summary
 


 Postmortem report
Instructions
Report
 Leadup
List the sequence of events that led to the incident.
There was a post go live ask for biller AmWaste due to the following issue:
Fault
: When redirecting to CustomerRegistrationMultiple we are passing a CustomerGuid and InvoiceGuids. When populating f_Customers list we end up adding more than 1 item since we use both the CustomerGuid and InvoiceGuids. Given that f_Customers.Count > 1 , we trigger ValidateInputMultipleCustomers which add new items to the f_Customers, this uses hdnAccountNumber.Value which is the display account number when Me.ShowDisplayAccountNumber is true. This would cause the incorrect accounts to be added to the f_Customers list, and return true. After this, StartMultipleCustomerRegistrationProcess is triggered and the incorrect customers could be registered.
Expected Result
: When the biller has Biller Option 95 enabled and a payer registered via the CustomerRegistrationMultiple page, it should only registers the account related to the CustomerGuid passed and any other accounts in the InvoiceGuids passed.
Actual Result
: When the biller has Biller Option 95 enabled and a payer registered via the CustomerRegistrationMultiple page, it is registering other payers accounts unrelated to the customerguid passed or any other customer in the invoices passed.
 Fault
Describe how the change that was implemented didn't work as expected. If available, include relevant data visualizations.
This issue occurred exclusively for Billers who had only the registration page (without a virtual site) for customer registration. When these customers manually inputted their display account numbers during registration, our code did not account for this scenario.
 Impact
Describe how internal and external users were impacted during the incident. Include how many support cases were raised.
The release of 
EBPP-16373
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 caused payers with unique account numbers to not be able to register their account. 
Two billers notified IC, but when a data set of all billers who use Option 95 and have unique account numbers was run, there were potentially 30 billers whose customers may not to be able to register.
 Detection
Report when the team detected the incident and how they knew it was happening. Describe how the team could've improved time to detection.
Two billers notified Client Services that payers were unable to register.  A story was created for bug court and reviewed during the bug court session on 5/16.  
EBPP-19379
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 Response
Report who responded to the incident and describe what they did at what times. Include any delays or obstacles to responding.
Once the team was notified, the bug was assigned and reviewed to determine the best way to resolve this issue for the billers affected. After being notified, the team promptly researched the issue and prepared a fix for that night’s release. Unfortunately, the issue was not escalated correctly through the correct channels.
 Recovery
Report how the user impact was mitigated and when the incident was deemed resolved. Describe how the team could've improved time to mitigation.
Through a company-wide initiative, we successfully deployed this item over the weekend. However, the situation could have been further improved if the issue had been escalated appropriately.
 Timeline
Detail the incident timeline using UTC to standardize for timezones. Include lead-up events, post-impact event, and any decisions or changes made.
 Five whys root cause identification
Run a 
5-whys analysis
 to understand the true causes of the incident. 
 Blameless root cause
Note the final root cause and describe what needs to change without placing blame to prevent this class of incident from recurring.
 Backlog check
Review the engineering backlog to find out if there was unplanned work that could've prevented the incident or reduced its impact.
 Related incidents
Check if any past incidents could've had the same root cause. Note what mitigation was attempted in those incidents and ask why this incident occurred again.
 Lessons learned
Describe what you learned, what went well, and how you can improve.
 Follow-up tasks
List the Jira issues created to prevent this class of incident in the future. Note who is responsible, when they have to complete the work, and where that work is being tracked.
 URL:/spaces/PE/pages/3264675848/Retro+for+EBPP-16373