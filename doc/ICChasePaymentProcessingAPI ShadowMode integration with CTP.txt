Phase 1: Shadow‑Chase Orbital API Load Test (Mock Response)
Objective
Simulate production traffic by duplicating every production CTP Chase Orbital request to the 
ICChasePaymentProcessingAPI
. The duplicate request will be processed with mocked data to obscure personally identifiable information. The request will then be processed by IC Chase Payment Processing API and written to the Commerce Payment Processing DB.  Finally, a response will be returned to CTP. All activity runs behind a new platform feature flag and supports a gradual, biller‑by‑biller rollout to size Kubernetes capacity.
Action steps
Platform feature flag
Insert a new record in 
DB Master → tblPlatformFeatures
 
(PlatformFeatureDesc= “ChasePayfacShadowMode”, Active = 0, No RolloutDate, DaysPerInterval, BillersPerInterval, or IncludeDemoAccount).
CTP code update
Add the feature‑flag check in Switch Statements for Sale, Void, and Credit Processor (
PR Base
).
Mock request generator
Strip or replace customer PII (card, address, name) before forwarding to Orbital.
Shadow Mode Migration plan
Design an activation schedule that can serve later as the production cut‑over plan.
Telemetry & monitoring
Track New Relic logs, DB writes, and API latency.
Capacity metrics
Capture pod‑count and performance requirements at each rollout step.
Phase 2: Internal Test Module (Sandbox Response)
Objective
Enable end‑to‑end validation of the Chase Payfac flow against the sandbox environment by introducing a dedicated module and restricting its use to internal staff.
Action steps
Platform feature flag
Insert a new record in 
DB Master → tblPlatformFeatures
 
(PlatformFeatureDesc= “ChasePayfacMigration”, Active = 0, No RolloutDate, DaysPerInterval, BillersPerInterval, or IncludeDemoAccount).
Insert records to Shards with PlatformFeatureID and Active=1 on BIDs we are testing
Database configuration
Add 
ChasePayfac
 to 
tblModules
 in both Master and shard databases.
CTP processor switch
Add the ChasePayfac Module to switch logic in Sale, Credit, and Void operations and implement clsPayfac functions.
Implement clsPayfac with patterns from 
this PR
.
Access control
Gate the new module behind a 
Platform Feature
 so CRM users do not have the option select it until it is production‑ready or as they are migrated onto the feature as seen in 
this PR.
 
 URL:/spaces/EA/pages/4532601014/ICChasePaymentProcessingAPI+ShadowMode+integration+with+CTP