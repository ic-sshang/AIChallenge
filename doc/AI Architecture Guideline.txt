Draft
üî∑ 1. Project Scoping & Readiness
Define the AI Use Case
: Classification, summarization, semantic search, code generation, document extraction, etc.
Assess Data Availability
: Structured, unstructured, real-time, or batch.
Evaluate Compliance & Security Needs
: Data residency, PII handling, auditability.
2
1
0
0
4667015201
4629364738
1
Untitled Diagram-1758121214124.drawio
6
6
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1758121214124.drawio
0
1380.5
741
üî∑ Core Services Overview
Component Map
Group
Component
Data Pipelines
Apache Airflow
Azure Data Factory
Embedding Model
Azure Open AI
text-embedding-ada-002
Vector Database
Azure AI Search
Playground
Azure AI Studio
Azure AI Foundry
Orchestration
MS Semantic Kernel
APIs
.Net 8+ RESTful APIs
MCP
.Net 8+ MCP Server SDK
Plugins
MS Semantic Kernel
App Hosting
Azure Kubernetes
LMM
Azure Open AI
LMM Cache
Azure Redis
Azure Cosmos DB
Azure Data Lake
Logging / Metrics / Observability 
Open Telemetry
Validation
Component Details
Component
Purpose
Azure AI Foundry
 
Centralized platform for managing AI assets, models, and pipelines.     
Azure OpenAI
 
Access to GPT, Codex, and DALL¬∑E models for natural language and code.  
Azure AI Search
 
Cognitive search with semantic ranking, vector search, and hybrid RAG.  
Azure Document Intelligence
Extracts structured data from documents (PDFs, images, scanned forms).  
Azure Machine Learning
 
End-to-end platform for training, deploying, and managing ML models.    
Azure Data Lake
 
Scalable, secure storage for structured and unstructured data.          
Azure Kubernetes Service
 
Container orchestration for scalable deployment of AI services.         
Apache Airflow
 
Workflow orchestration for complex AI/ML pipelines.                     
Azure Cosmos DB
 
Globally distributed NoSQL database for agent context and session state.
Microsoft Semantic Kernel
Orchestrates AI skills, memory, and planning for intelligent agents.
üî∑ Reference Architecture
üèóÔ∏è High-Level Flow
Data Ingestion & Indexing
Use 
Azure Data Factory
 or Airflow to ingest data.
Store in Azure Blob Storage, Azure Table Storage, Azure Data Lake, or Cosmos DB.
Use Azure Document Intelligence to extract structured content from documents.
Index with Azure AI Search (including vector embeddings).
Embedding Generation
Use Azure OpenAI Embedding Models (e.g., 
text-embedding-ada-002
) to vectorize documents.
Store embeddings in Azure AI Search or Cosmos DB for vector search.
Prompt Engineering & Orchestration
Use Azure AI Foundry to manage prompt templates, model versions, and evaluation.
Integrate with dotnet APIs deployed in aks for orchestration.
Agent Logic
Use 
Microsoft Semantic Kernel
 to:
Compose AI skills (e.g., summarization, search, code explanation).
Manage 
agent memory
 using Azure Cosmos DB.
Plan and execute multi-step tasks (e.g., ‚ÄúExplain how this service works‚Äù).
Integrate plugins for search, code retrieval, and summarization.
Model Inference
Use Azure OpenAI for:
Text generation
Summarization
Q&A
Code generation
Use Azure AI Studio for prompt testing
Retrieval-Augmented Generation (RAG)
Query Azure AI Search for relevant documents.
Inject results into GPT prompt for grounded responses.
Agent Context Storage
Use Azure Cosmos DB to store:
Agent memory and session state
User profiles and preferences
Conversation history and grounding context
Monitoring & Observability & Feedback Loop
Open Telemetry Sematic Kernel Instrumentation sink to New Relic  
Collect user feedback to fine-tune prompts or retrain models
üî∑ Azure as an Approved Vendor & IaC Integration
Azure is an 
approved enterprise vendor
, enabling streamlined procurement, compliance, and security alignment.
Teams can 
rapidly define and deploy AI infrastructure
 using existing 
Infrastructure as Code (IaC)
 practices.
Supported IaC tools:
Terraform
Benefits:
Consistent, repeatable environment provisioning.
Automated deployment pipelines for AI services (e.g., Azure OpenAI, Azure Machine Learning workspaces, Azure AI Search indexes).
Seamless integration with CI/CD tools like 
Azure DevOps
.
Access enforcement with Managed Identities
üî∑ Security & Governance
Identity & Access
: Azure AD, RBAC, Managed Identities.
Data Protection
: Encryption at rest and in transit, Private Endpoints, VNET integration.
Audit & Compliance
: 
TODO
üî∑ DevOps & MLOps Integration
Use Azure DevOps for CI/CD.
Integrate Azure Machine Learning for model lifecycle management.
üî∑ Best Practices
Use RAG for factual accuracy.
Cache frequent queries to reduce cost and latency.
Use chunking strategies for large documents.
Evaluate prompts with Azure AI Foundry before production.
Monitor token usage and cost with Azure Cost Management.
Use Azure Document Intelligence for pre-processing scanned or structured documents before indexing or inference.
 URL:/spaces/EA/pages/4629364738/AI+Architecture+Guideline