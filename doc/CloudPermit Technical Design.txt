Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
Document status
Final
 
Document owner
 
 
Solution engineer
 
 
Invoice Cloud Web Services
The information in the Invoice Cloud Web Services section reflects the information given to Invoice Cloud at the time of Discovery and Design. It is possible for this information to be updated at any time by a biller or CIS Vendor without notifying Invoice Cloud.
Cloud Payments V2
Purpose/Summary:  CloudPermit has implemented a CPV2 integration which is configurable by biller and invoice type ID.
Configuration
Prior to using the CPV2 integration by CloudPermit, the Configure Payment Page Settings must be completed by the biller.  The biller should have the ability to set this screen up once they obtained the necessary API Key and BillerGUID from the Invoice Cloud biller portal.
Field
Required
Comments
APIKey
Yes
Biller accesses Invoice Cloud biller portal and navigates to Support → Documentation/APIs → Application API Keys to generate the API key.  The key is then copied to the payment page settings screen,
billler-guid
No
Biller accesses Invoice Cloud biller portal and navigates to Support → Documentation/APIs → Integration Documentation to obtain the billerGUID.  The billerGUID  is then copied to the payment page settings screen.  This is not required for Cloud Pay V2.
type-id
Yes
This value is the Invoice Cloud Invoice Type ID.  It is available from a drop-down menu.  In the event an Invoice Type ID is missing, CloudPermit will need to be contacted to add it to the dropdown.
Maximum bill total $ amount payable online
No
This value controls the maximum amount to be paid on the CloudPermit portal.  This is not mandatory and can be left blank. portal.  This is not mandatory and can be left blank.
CustomReturnSiteName
No
When a 
ReturnUrl
 is provided, the tooltip text of the sign out button will change to “Sign out and Return to 
<SiteName>
”. 
<SiteName>
 defaults to the Biller DBA but can be customized by providing a value for 
CustomReturnSiteName
.
Sample Request
{
  "Customers": [
    {
      "AccountNumber": "ACCT-17592204116016",
      "Name": "Test Applicant",
      "Address": "123 Fake Street",
      "City": "Mississauga",
      "Zip": "L4Y3P5",
      "EmailAddress": "cloudpermit.test.applicant@gmail.com",
      "Invoices": [
        {
          "InvoiceNumber": "17592206141008",
          "TypeId": 42,
          "DueDate": "10/23/2024",
          "InvoiceDate": "10/23/2024",
          "BalanceDue": 60.0,
          "CCServiceFee": 0,
          "AchServiceFee": 0
        }
      ]
    }
  ],
  "BillerReference": "fc28b251110332197638bd3cae9af7eb5351e916e1e68b7f513274e155914a1a",
  "ReturnURL": "https://training.us.cloudpermit.com/api/command/payment/icop-return?payment-id=67190dcd-3813-46e2-a287-c1370131928a",
  "PostBackURL": "https://training.us.cloudpermit.com/api/command/payment/icop-postback?payment-id=67190dcd-3813-46e2-a287-c1370131928a",
  "CreateCustomerRecord": true,
  "AllowCCPayment": true,
  "AllowACHPayment": true
}
Additional Details
Biller Request Parameters:
Parameter
Required
True/False
In Request
Y/N
Value
Description
AccountNumber
True
Y
Generated by CloudPermit
Name
False
Y
Address
False
Y
City
False
Y
State
False
Y
Zip
False
Y
EmailAddress
False
Y
Invoices
False
Y
Generated by CloudPermit
InvoiceNumber
True
Y
Generated by CloudPermit
TypeID
False
Y
Set from payment configuration
InvoiceDate
False
Y
Current Date
DueDate
False
Y
Current Date
BalanceDue
False
Y
Amount Due
CCServiceFee
False
Y
Required and set to 0.00
ACHServiceFee
False
Y
Required and set to 0.00
ReturnURL
False
Y
https://training.us.cloudpermit.com/api/command/payment/icop-return?payment-id=67190dcd-3813-46e2-a287-c1370131928a
Default value is shown for CloudPermit TEST system.  When the home button is pressed on CloudPermit portal, the user is redirected back to the CloudPermit portal from the Invoice Cloud receipt page.
PostBackURL
False
Y
https://training.us.cloudpermit.com/api/command/payment/icop-postback?payment-id=67190dcd-3813-46e2-a287-c1370131928a
Default value is shown for CloudPermit TEST system.
BillerReference
False
Y
Unique GUID passed in by CloudPermit per transaction.
User Stories:
CloudPermit and Invoice Cloud - CPV2
Workflow
Story
Assumptions/Requirements
Sample
Retrieve Invoice to Pay
User navigates to CloudPermit portal and retrieves invoice number to pay. 
Customer and Invoice must already exist on Invoice Cloud systems.
Pay Invoice
User clicks PAY ONLINE button.  This executes Cloud Pay V2 and the Invoice Cloud screen displays.
Invoice Cloud Receipt
After the user completes their payment, the Invoice Cloud receipt page displays.
Return to Home Page
User has completed payment and clicks Return to Home Page.  The CloudPermit portal page is displayed.
The Invoice is marked as PAID (blue highlighting).
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
 URL:/spaces/IM/pages/3674079233/CloudPermit+Technical+Design