This page is scoped to hosting information, i.e. Azure resource links and DNS records. For application information, see 
file.invoicecloud.com
 
Today, this service is hosted on the Linux VM 
Hatsh-Prod
, which exists in the resource group 
hatsh1_group
. It runs in its own virtual network, 
InternalNetwork-Test
, which is not joined to any of our other networks. Traffic to this app does not flow through Cloudflare, Palo Alto, or App Gateway. Instead, the DNS record for 
file.invoicecloud.com
 (in GoDaddy) points directly to the public IP of the Hatsh-Prod server. 
The NIC corresponding with that public IP has an NSG, 
Hatsh-Prod-nsg
, associated with it. This NSG allows any inbound traffic on port 443. It blocks all other inbound traffic except port 22 (SSH) coming from our Cloudflare outbound IP set.
How to update the certificate on the server:
Use WinSCP to upload the following files to /home/securityguy/hat.sh:
The private key file without a password
The combined crt file that contains from the top:
The core cert from GoDaddy
The intermediate cert
The root cert
Run this command to remove the password from the key file if necessary:  
openssl rsa -in _.invoicecloud.com-2026.key -out _.invoicecloud.com-2026v2.key
Update the file /etc/nginx/sites-available/default to add replace with the new file names by running:
sudo -i
nano default
Verify that the nginx setup it working correctly:
nginx -t
Restart the service by running:
systemctl restart nginx
4  cd /etc/nginx/sites-enabled
    5  ls -
    6  ll
    7  less default
    8  nano default
    9  less default
   10  nginx -t
   11  less default
   12  nano default
   13  cd home
   14  cd /home
   15  cd securityguy/
   16  cd hat.sh/
   17  ll
   18  openssl rsa -in _.invoicecloud.com-2026.key -out _.invoicecloud.com-2026v2.key
   19  ll
   20  openssl rsa -in _.invoicecloud.com-2026.key -out _.invoicecloud.com-2026v2.key
   21  ll
   22  nginx -t
   23  systemctl restart nginx
 URL:/spaces/platform/pages/4010115096/file.invoicecloud.com