Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
Document status
draft
 
Document owner
 
 
 
Solution engineer
 
Invoice Cloud Web Services
MyMeter is using an API only flow to enable Autopay, Paperless and pay invoices with and without stored payment method for existing users on InvoiceCloud.
Gong | Review MyMeter
Figjam Flow 
https://www.figma.com/board/zaa5MePsz0iIf3WVEgovFq/MyMeter?node-id=1-2&t=7eZ83Ph8514demU2-1
 
User Stories:
MyMeter Flows
Workflow
Story
Assumptions & Requirements
Steps
Web Services 
Sample
One Time Payment
User navigates to MyMeter portal, searches for their Invoice, makes a payment
Assumptions:
Invoice Exists
User knows their account number
Click on Make a Payment Button
Enter Account Number and Name
Enter Payment Method
Confirm Payment
Receive receipt and opportunity to register
Invoice Pay
One Time Payment
Enter Account Number
Enter Payment Method
Confirmation
Receipt
User Access
User navigates to MyMeter portal and try to log in the account. 
Assumptions:
The user knows their login credentials
Check to see if login successful:
If login successfully:
Authenticate Account(s)
Acquire Remote Authentication Token
Retrieve CustomerGUID
Retrieve User Accounts
Sync all accounts of Invoice Cloud
If login failed:
Register Account(s)
Authenticate Account(s)
Acquire Remote Authentication Token
REST- Remote Authentication- Retrieve Users
If login successfully: 
REST- Remote Authentication- Remote Authentication
REST - Customer Portal-Retrieve CustomerGUID
REST- Remote Authentication- Retrieve User Accounts
If login failed:
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
Login Page
User Registration
User navigates to MyMeter portal and registers through the member portal. After registration 
Assumptions:
MyMeter does not know if a Payer is registered with InvoiceCloud.
MyMeter stores Remote Authentication Token (per session) for use in 
CloudSSO Redirect User using the pre-defined URL.
Requirement:
LoginTypeID (REST- Remote Authentication- Register Accounts) is always = 1
Check to see if account exists in invoice cloud and if it is registered.
If account does not exist:
Create Customer Record
Register Account(s)
Authenticate Account(s)
Registered User Payments workflows
If account does exist and is not registered:
Register Accounts
Authenticate Account(s)
Registered User Payments workflows
If account does exist and is registered:
Authenticate Account(s)
Registered User Payments workflows
REST- Remote Authentication- Retrieve Users
If account does not exist:
REST- Customers- Create Customer Record
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
If account does exist and is not registered:
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
If account does exist and is registered:
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
Register
Dashboard
Registered User Payment 
A registered user is logged in and makes payments on a account.
Assumption:
User is already registered and authenticated
MyMeter page with Bills and payment history
View Bills
Paperless Enrollment
A registered user is logged in to MyMeter portal and navigates to IC screen to enroll or unenroll paperless option
Assumption:
User is already registered and authenticated
MyMeter calls Update Paperless API
Update Paperless
Paperless
AutoPay Enrollment
A registered user is logged in to MyMeter portal and selects enroll or unenroll autopay option
Assumption:
User is already registered and authenticated
MyMeter calls Update AutoPay API
If payment method doesn’t exist then one is entered and saved for the user
Update AutoPay
AutoPay
Enter Payment Method
AutoPay Enrolled
Pay By Text Enrollment
A registered user is logged in to MyMeter portal and navigates to IC screen to enroll or unenroll Pay By Text option
Assumption:
User is already registered and authenticated
MyMeter redirects (iFrame) to Pay By Text Enrollment screen
CloudSSOConnect (redirect 11 = Customer Portal Pay By Text Enrollment
Pay by Text
Update Email and Password
Registered user logs into the MyMeter portal and updates their password.
Assumptions: 
MyMeter has the current email address and password of the user.
Requirement: 
IC should not allow user to update password to maintain password information in sync.
MyMeter verify if Email and Password are the same as IC.
Yes: call IC update password and email API
No: Send verification email to stored account user email address. Once it’s approved, then call IC updated password and email API.
REST- Remote Authentication- Update Password
Update Email Address
Manage Payment Methods
A registered user is logged in to MyMeter portal and navigates to IC screen to store, update or remove payment methods.
Assumption:
User is already registered and authenticated
MyMeter has an internal mange saved payment method screen
Manage Saved Payments
Manage Accounts
A registered user is logged in to MyMeter portal and add/remove an additional account to the current account view.
Assumption:
User is already registered and account exists. 
MyMeter calls Invoice Cloud Web Service Link Accounts
MyMeter calls Invoice Cloud Web Service Unregister Accounts
Note: IC does not have “Unlink” account. Unregister account will automatically remove linked accounts 
REST- Remote Authentication-
Link Accounts
Unregister Accounts
API Calls
Enable Autopay, Paperless and pay invoices with stored payment methods
Account and Invoice Exist
See Figjam Flow:
https://www.figma.com/board/zaa5MePsz0iIf3WVEgovFq/MyMeter?node-id=1-2&t=7eZ83Ph8514demU2-1
 
Retrieve Customer Details
Register Customer
Retrieve CustomerGUID
Retrieve LoginGUID
Store User Credit or ACH Banking
Invoice Pay with Saved Payment Method
Update AutoPay
Invoice Pay without saved Payment Method
Update Paperless
Advanced Settings
Setting ID
Description
Value
Is value unique per biller? (Y/N)
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
 URL:/spaces/IM/pages/4301684737/MyMeter+Technical+Design