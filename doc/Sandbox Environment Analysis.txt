           Apple Pay Sandbox Setup (Dev Environment – Full Steps)
If you 
already have a production Apple Pay Merchant ID
 and a 
real Apple Developer account (Apple ID)
, here's exactly what that means 
and how you proceed for sandbox testing without creating a new Merchant ID.
Document:
 
Testing In-App Purchases with sandbox | Apple Developer Documentation
Video
: 
Get started with Apple Pay on the Web - Tech Talks - Videos - Apple Developer
STEP 1: Create a Public Dev Domain (Essential)
1.1 Create a Dev Subdomain – 
If exists skip this step
Example: 
http://dev.yourcompany.com
 
Ask your IT or hosting provider for:
Create DNS record (A or CNAME) pointing to your test/dev server
Make sure it routes externally
1.2 Install SSL (HTTPS) 
- Apple Pay on the Web requires HTTPS — it will not work on HTTP or non-secure connections: 
Skip this step if already have dev environment
Let's Encrypt
 for free SSL (via Certbot)
Existing wildcard cert (e.g., *.yourcompany.com)
Ensure: 
https://dev.yourcompany.com
  works in a browser
STEP 2: Register and Verify Dev Domain in Apple Developer Portal
 2.1 Get the Merchant Association File - Admin Team.
Go to 
https://developer.apple.com/account/resources/identifiers/merchant
Select your existing 
Merchant ID
Click 
Add Domain
Apple gives you a file named:
apple-developer-merchantid-domain-association
 
2.2 Upload the File – Platform team dependency
Place the file at:
https://dev.yourcompany.com/.well-known/apple-developer-merchantid-domain-association
 
On server:
Create folder. well-known and put the file inside
2.3 Confirm Domain – Admin Team
Go back to Apple Developer Portal → Click “Verify”
Apple should now verify and trust your dev domain
 STEP 3: Create a Sandbox Apple ID for Testing
 3.1 Go to App Store Connect - Admin Team
https://appstoreconnect.apple.com
Go to 
Users and Access
 → 
Sandbox Testers
3.2 Add a Tester - Admin Team
Email: 
sandboxtester01@yourdomain.com
 
(fake but unique)
Password: Your own (remember it)
Region: Match your Mac
 STEP 4: Add Test Card to Mac (Wallet) - Dev
 4.1 Log In to Mac with Sandbox Apple ID
System Settings → 
Apple ID
Sign out of your main Apple ID (optional for safety)
Sign in with the 
sandbox Apple ID
4.2 Add Test Card - Dev
Open 
System Settings → Wallet & Apple Pay
Click 
Add Card
Choose 
Apple's test Visa/MasterCard
Now you're ready to test Apple Pay in Safari.
STEP 5: 
http://ASP.NET
 
 Web Forms App Setup (Frontend + 
http://VB.NET
 
) – Dev
Code is placed in separate file TestApplePay.aspx
Final Checklist
Task
Description
Create public dev domain
http://dev.yourcompany.com
 
Add HTTPS certificate
Valid SSL (e.g. Let’s Encrypt)
Register & verify domain in Apple Developer Portal
Upload .well-known/... file
Create sandbox Apple ID in App Store Connect
Used to log in on Mac
Add sandbox test card in Wallet
On Mac Safari
ASPX Web Form page with Apple Pay JS
TestApplePay.aspx
ValidateMerchant.ashx in 
http://VB.NET
 
Handles Apple validation
Serve 
http://ASP.NET
  app over HTTPS
Accessible on Safari
Test in Safari (Mac)
See Apple Pay flow & simulate
 
How to Generate Your Apple Pay Merchant Identity. p12 Certificate? 
- This is mandatory – 
Platform Team Dependency
Step 1: Generate a Certificate Signing Request (CSR)
If you already have a CSR (.certSigningRequest), skip to Step 2. If not:
On a Mac:
Open 
Keychain Access
 (Applications → Utilities → Keychain Access)
From the menu, select 
Keychain Access → Certificate Assistant → Request a Certificate from a Certificate Authority.
Fill in:
User Email Address: your email
Common Name: your name or company
Select 
“Saved to disk”
 and click 
Continue
Save the .certSigningRequest file locally
Step 2: Create Merchant Identity Certificate in Apple Developer Portal
Log in to 
Apple Developer Certificates
Click the 
"+"
 button to create a new certificate
Select 
"Apple Pay Merchant Identity Certificate"
 (maybe under Production or Apple Pay)
Upload your CSR file generated in Step 1
Download the generated .cer file (merchant identity certificate)
Step 3: Convert .cer to .p12 Using Keychain Access
Double-click the downloaded .cer file — it opens in Keychain Access and installs
In Keychain Access, find your new 
merchant identity certificate
 under "My Certificates"
Right-click on the certificate → 
Export
Export as 
Personal Information Exchange (.p12)
Choose a filename, e.g., merchant.p12
Set a 
password
 (remember this! You’ll use it in your 
http://VB.NET
  code)
Save the .p12 file securely
Step 4: Upload .p12 to Your 
http://ASP.NET
 
 Project
Create a folder in your project, e.g., Certificates
Place the merchant.p12 file there
Make sure your web server can read this file (check permissions)
Step 5: Use .p12 and Password in Your ValidateMerchant.ashx
Example snippet:
Dim certPath = context.Server.MapPath("~/Certificates/merchant.p12")
Dim certPassword = "your_cert_password"
Dim certificate = New X509Certificate2(certPath, certPassword, X509KeyStorageFlags.MachineKeySet)
 Summary
Step
Action
Generate CSR
Using Keychain Access or OpenSSL
Create merchant cert
Upload CSR on Apple Developer Portal
Download & install .cer
On Mac Keychain Access
Export .p12
From Keychain Access with a password
Add .p12 to project
Reference for your server-side code
 
To recap the essentials for your dev testing:
Valid 
Merchant ID
 (you already have)
Verified 
dev domain
 with HTTPS and Apple’s domain association file
Apple Pay 
merchant identity. p12 certificate
 installed and used on your server for merchant validation
Sandbox Apple ID
 logged in on your Mac with test cards in Wallet
http://ASP.NET
  Web Forms code calling Apple Pay JS and validating the merchant on the backend
Once you set all these up, your dev environment is ready to fully test Apple Pay sandbox flows!
 
 URL:/spaces/PE/pages/4552065139/Sandbox+Environment+Analysis