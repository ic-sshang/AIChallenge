Legend
Expand to View Legend
Changes with Numbering indicate mandatory sequential steps
Changes with bullet points indicate parallel steps
 Done
 Not Doing
 Doing
Change Teams
Server Patching
 
 
 
 
 
 
K8s Cluster Patching
 
DNS Changes
 
 
 
 
InternalNetwork Routing Changes
 
Notice to Post on Sunday Morning EST
Today we will be Releasing Changes for 
2025-06-22
 per our 
Weekly Change Window Guidelines
.
 




1


2ce8dfea-d6d4-4619-92b5-3e130acb6da1


complete


#platform-support






2


f0883ee2-45a8-4868-b3af-e18b4f2c76bc


complete


#engineering-maintenance






3


1973767f-54e3-4eb5-90b4-965e7af91a79


complete


#eng-monthlymaintenance






4


f3bb4472-8d43-4541-8638-ffb33e945bc8


complete


#dailyopsissues




Pre Work 
Saturday Evening at 7 PM EST run the Reschedule Jobs Stage of the 
Preparation Pipeline
, the Stage Name is 
Pre-Maintenance
 
 
Saturday Evening at Midnight Eastern (9:30AM IST) patching for IC-Web1 thru 5
 
Turn off alerting for IC-Web1 thru 5
 
Pull web servers IC-Web1 - 5 out of the App Gateway (agw-pri-appgateway0-prd) 
 
Pull web servers IC-Web1 - 5 out of the Internal Load Balancer (IC-LB-WebSVR-4AppSVR) 
 
Apply Updates manually on the VMs 
 
After Updates, do sanity checks on IC-Web1 thru 5 
Web Server Sanity Checks
 
Turn on Alerting for IC-Web1 thru 5 
 
Put IC-Web1 thru 5 back in the App Gateway (agw-pri-appgateway0-prd) 
 
Put web servers IC-Web1 - 5 in the Internal Load Balancer (IC-LB-WebSVR-4AppSVR) 
 
Post on the 
#eng-monthlymaintenance
 channel the activities are done and Smoke Testing Can Begin 
 
Day of:
Sunday morning 4:30 AM Eastern (2 PM IST) patching for IC-Web6 thru 10
 
Turn off alerting for IC-Web6 thru 10
 
Pull web servers IC-Web6 - 10 out of the App Gateway (agw-pri-appgateway0-prd) pool 
Pull web servers IC-Web6 - 10 out of the Internal Load Balancer (IC-LB-WebSVR-4AppSVR) 
Apply Updates manually on the VMs 
 
 
After Updates, do sanity checks on IC-Web6 thru 10 
Web Server Sanity Checks
 
 
Turn on Alerting for IC-Web6 thru 10  
 
Put IC-Web6 thru 10 back in the App Gateway (agw-pri-appgateway0-prd) pool  
 
Put web servers IC-Web6 - 10 in the Internal Load Balancer (IC-LB-WebSVR-4AppSVR)  
Sunday Morning at 4:45 AM EST (2:15 PM IST) run the second stage of the Preparation Pipeline, the Stage Name is 
Starting Maintenance
 
 
 
 Post Notice of Maintenance Starting 
 
 Put the Maintenance Page up for hostnames:
www.invoicecloud.com
my.invoicecloud.com
sso.invoicecloud.com
 
Sunday Morning at 5:00 AM Eastern, all other changes not outlined in this section can begin.
Changes
Sequentially Changes
 
InternalNetwork
PLAT-2018
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Script to Run
 
 Run connection sanity checks:
Tests to Run
 on 
www2.invoicecloud.com
All other K6 Tests from 
here
 
 
Public DNS
Migrate DNS from GoDaddy to Cloudflare
PLAT-1125
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 Run connection sanity checks:
Tests to Run
 on 
www2.invoicecloud.com
All other K6 Tests from 
here
 
Parallel Changes that can begin at beginning of Maintenance Window
App Servers
 
JEDI-175
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Gateway Servers
 
 
JEDI-176
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Management Servers
 
 
JEDI-182
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
MCC Database Server
 
 
JEDI-177
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Patching Procedure Current
 
 
PDFExtract Servers
 
JEDI-178
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Proxy Servers
 
JEDI-179
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
SFTP Servers
JEDI-180
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Patching for SFTP1 
 
Patching for SFTP2 (Wait for SFTP1 to finish patching before starting this) 
 
 
Terminal Services Licensing Servers
No Jira ticket created for this one
 and 
 we will need more info on the patching and how to test afterwards for these servers.
K8s Clusters
PLAT-1987
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 Mailgun key rotations
https://invoicecloud.atlassian.net/wiki/x/b4H6BwE
 
 
 We will need assistance during maintenance to recycle/restart IIS on all production servers post key rotation so they pull the latest values.
Ran into some trouble rotating the key for the Kubernetes cronjob 
biller-mailgun-message-status-job
. Despite the new secret being active in key vault, the Kubernetes secret (generated with the key vault secret provider class) was not updated. We tried redeploying without success. We were finally successful after deleting the existing secret.
 
machineKey rotations
 
PLAT-2374
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Rolled change to web1-5 and validated on web3. Web6-10 are currently patching; will roll to them as soon as they’re online again
 
MyIIS JWT ADO Library Configuration
ARC-135
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
 
Set values in ADO Library “Production” for JwtEncryptionCertificate1 and JwtSigningCertificate1; Redeployed MyIIS across Webs 1-10 to trigger file transform
Still pending Payer API updates (to go out Tuesday)
Testing
 
Sunday Morning around 4 to 4:30 AM Eastern: Run the Smoke TESTs on 
www.invoicecloud.com
 after IC-Web1 thru 5 are patched and put back in the Pool.
Sunday around 8 AM Eastern: Run the Smoke Tests on 
www.invoicecloud.com
 after all changes are done and after the Maintenance Page is removed.
If issues are detected we can put the Maintenace Page back up in an emergency.
Sunday: Run full regression tests on 
www.invoicecloud.com
 after all changes are done and smoke tests are done.
 
Test mail routing and any other items in his environment
Post-Steps
Remove the Maintenance Page up for hostnames before Smoke Tests at 8 AM
www.invoicecloud.com
my.invoicecloud.com
sso.invoicecloud.com
 
Start the Jobs for Product Integrations - 
Refer to Post-maintenance steps related to Jobs here
 to notify 
 when this can be run
Start the Jobs for Product Engineering - 
Refer to Post-maintenance steps related to Jobs here
 
Notify 
dailyops
 and 
engineering-maintenance
 and 
eng-monthlymaintenance
 slack channels of maintenance finished and results
 
Notes from this Maintenance
This page in Opsgenie 
https://invoicecloud.app.opsgenie.com/settings/integrations/?page=2
 has moved to JSM. Will need to track down how to turn off Proxy Alerts through JSM.
When running updates through AUM, leave the maintenance window time at the default value of 235 minutes. The cumulative updates need time, setting it less than this might result in a failed update and will have to re-run the updates.
 URL:/spaces/platform/pages/4419878913/2025-06-22+Monthly