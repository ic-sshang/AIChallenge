Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation
Jira ticket 
INT-5434
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Release Date
Document status
In progress
Yellow
Document owner
 
Solution engineer
 
Knowledge Transfer
https://us-21061.app.gong.io/call?id=8076929543616169918
 
IF IMPLEMENTING A TRUEPOINT AGRICULTURE CUSTOMER PLEASE REFERENCE THIS CONFLUENCE PAGE: 
BID 3335 Modesto Irrigation District (TruePoint Agriculture) Technical Design
 
API Documentation
TEST BASE URL
 (they allow list and have added the IC servers, no longer up): 
https://ictesttpsgatewayub.truecip.truepointsolutions.com/
PROD BASE URL:
API Authentication Method
: API Key (EF5040F0-84BE-4142-AE45-2C40DA47CB47)
API Key will be unique for each biller.  This will be given by TruePoint in the 
implementation worksheet
 that the IM will send to TruePoint.  
SSWD test site: 
https://truecip.sswd.org/APITrain/swagger
Utility Billing:
Postman Collection:
*Note the postman collection only works at the Brownsville office, physical location.
Details
IC Use
Partner API Name
Description
Request
Response
Specifications
ICRTDR: 
Balance Update (Utility Billing)
ForwardBalanceActivityBalances
The purpose of this API is to update account balances and past due balances. Either a “CustomerAccountKey“ can be provided or an “AccountNumber“. If neither is provided, all active accounts will be returned.
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/tps/customeraccount/ar/ForwardBalanceActivityBalances
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
/tps/customeraccount/ar/ForwardBalanceActivityBalances
METHOD:
POST 
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body:
Format: Json
json
{
  "AccountNumber": [AccountNumber],
  "StartDate": ‘1753-01-01’
}
See Provided TruePoint Post man collection for an example
 
json
{

  "Status": 0,

  "Message": "",

  "Field": null,

  "ErrorMessages": [],

  "WarningMessages": [],

  "SuccessMessages": [

    "Results Successfully Queried."

  ],

  "Exceptions": [],

  "Value": [

    {"AgencyType": "UB",

      "CustomerId": "0042083",

      "AccountNumber": "000156-00",

      "CustomerInformationKey": 29855,

      "CustomerAccountKey": 1065,

      "Name": "Plaza Foods Inc",

      "AddressStreet": "5055 Auburn Bl",

      "AddressCity": "Sacramento",

      "AddressState": "CA",

      "AddressZip": "95841-2648",

      "ActivityType": "Bill",

      "ActivityId": "B-4895007",

      "ActivityDate": "2022-09-15T23:59:00",

      "ActivityDueDate": "2022-10-04T00:00:00",

      "ActivityLastAdjustmentDate": "2022-09-20T10:17:00",

      "ActivityAmount": 1236.33,

      "ActivityAmountDue": 614.97,

      "DelinquentAmountDue": 614.97,

      "ActivityDescription": "September 2022 Billing",

"PaperlessBillingEmail": "name@somewhere.com"

    }  ],

  "Request": null,

  "Headers": null

}
Match on ActivityID to make sure most recent bill has been received for account. If IC has not received the most recent bill, IC will not update the balance.
Mapping:
ActivityAmountDue:
IC Balance Due
DelinquentAmountDue 
: IC Past Due
StartDate
: The ‘look back’ period . (Format “2021-06-01” or “2021/06/01”). This will include all activities regardless of if they have a 0 balance. 
Update: CustomerAccountKey  will be replaced by AccountNumber.
ICRTDR:
 Blocked Accounts (Utility Billing)
BillingPreferences
The purpose of this API is to retrieve account block details. This API will block both CC and ACH based on the return parameter.
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/
tps/customeraccount/BillingPreferences/
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com/tps/customeraccount/BillingPreferences/
{
customerAccountKey
}
Where 
customerAccountKey = Custom7 from Invoice Cloud BIF
Example:
https://ictesttpsgatewayub.truecip.truepointsolutions.com/tps/customeraccount/BillingPreferences/64760
METHOD:
GET
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body:
None
See Provided TruePoint Post man collection for an example
json
{

  "Status": 0,

  "Message": "",

  "Field": null,

  "ErrorMessages": [],

  "WarningMessages": [],

  "SuccessMessages": [],

  "Exceptions": [],

  "Value": {

    "CustomerAccountKey": 8733,

    "AccountNumber": “008844-00”,

    "SendPaperlessBill": false,

    "PaperlessBillingEmail": "name@nowhere.com",

    "IsCashPaymentOnly": false,

    "HasActiveRecurringPayment": true

  },

  "Request": null,

  "Headers": null

}
Update account status with '
IsCashPaymentOnly
” true or false value,
Logic Mapping:
If return 
IsCashPaymentOnly
= false, unblock CC and ACH.
If return 
IsCashPaymentOnly
" = true, block CC and ACH.
BillerAPIDataImport:
 
Daily Process Create Invoices (Utility Billing)
ForwardBalanceActivityBalances
The purpose of this API is to create invoices in real-time by calling out to TruePoint.
Proccess Description:
A call is made to TruePoint with the last successful run date and invoice data is returned in Json format. 
Code converts this data into a TruePoint -Utility Invoice file. A sample of this created file and mapping is provided here: 
https://invoicecloud.atlassian.net/wiki/spaces/IM/pages/2421588002/TruePoint+Technical+Design#File-Mappings
 
Upon a successful call to TruePoint BAS 40 is updated with current date.
Format: 2023-04-07
The Newley created file is sent directly to the stratus file processor. The processor will convert the file to a BIF and it will be imported into the database.
At the database level, if any invoices in the incoming file are already in the database they will be silently skipped. Only invoices not contained will be imported.
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/tps/customeraccount/ar/ForwardBalanceActivityBalances
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com/tps/customeraccount/ar/ForwardBalanceActivityBalances
METHOD:
POST 
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body:
Format: Json
json
{
  "StartDate": "2023-02-25"
}
See Provided TruePoint Post man collection for an example
json
{

  "Status": 0,

  "Message": "",

  "Field": null,

  "ErrorMessages": [],

  "WarningMessages": [],

  "SuccessMessages": [

    "Results Successfully Queried."

  ],

  "Exceptions": [],

  "Value": [

    {

   "AgencyType": "UB",

      "CustomerId": "0042083",

      "AccountNumber": "000156-00",

      "CustomerInformationKey": 29855,

      "CustomerAccountKey": 1065,

      "Name": "Plaza Foods Inc",

      "AddressStreet": "5055 Auburn Bl",

      "AddressCity": "Sacramento",

      "AddressState": "CA",

      "AddressZip": "95841-2648",

      "ActivityType": "Bill",

      "ActivityId": "B-4895007",

      "ActivityDate": "2022-09-15T23:59:00",

      "ActivityDueDate": "2022-10-04T00:00:00",

      "ActivityLastAdjustmentDate": "2022-09-20T10:17:00",

      "ActivityAmount": 1236.33,

      "ActivityAmountDue": 614.97,

      "DelinquentAmountDue": 614.97,

      "ActivityDescription": "September 2022 Billing"

    },

    {

      "AgencyType": "UB",

      "CustomerId": "0022547",

      "AccountNumber": "000802-00",

      "CustomerInformationKey": 16928,

      "CustomerAccountKey": 1606,

      "Name": "Hillsdale Blvd Baptist Church",

      "AddressStreet": "6201 Hillsdale Bl",

      "AddressCity": "Sacramento",

      "AddressState": "CA",

      "AddressZip": "95842-2701",

      "ActivityType": "Bill",

      "ActivityId": "B-4893146",

      "ActivityDate": "2022-09-15T23:59:00",

      "ActivityDueDate": "2022-10-04T00:00:00",

      "ActivityLastAdjustmentDate": "2022-09-20T10:17:00",

      "ActivityAmount": 756.18,

      "ActivityAmountDue": 0,

      "DelinquentAmountDue": 0,

      "ActivityDescription": "September 2022 Billing",

"PaperlessBillingEmail": "name@somewhere.com"

    }

  ],

  "Request": null,

  "Headers": null

}
BIF customizations are applied.
 All activities regardless of if they have a 0 balance are returned.
Biller Advanced Setting (BAS) 40 
is only updated on a successful call
 to TruePoint. 
Where success is defined as the following:
The TruePoint "SuccessMessages" 
is not Null
 or contains 
"Results Successfully Queried."
If there was a data received from TruePoint and we successfully sent this to the Stratus File Process
"StartDate"
StartDate 
is the date of the last successful run. BAS40. In code we check this date. If there is a day difference of 1 or greater this is indictive of a unsuccessful run on the previous attempt to call TruePoint.
So we then set the "StartDate" to the date of the last successful run minus 1 day.
*At the moment of this writing Biller API Data import runs as its own job at a specified time on Automate for only 1 biller at a time.
 
Job is scheduled to only run once a day at 12:01 AM CST
*This will be fixed in order to accommodate more biller who plan to use TruePoint.
JobName:
BillerAPIDataImport-TruePoint
 
Example of the file we create with the biller provided data:
DataPump: 
Payment (Utility Billing)
Note: Payments posted via data pump include - 
Web and IVR payments 
CloudPayV2 is used in three scenarios but only two are posted via data pump (a & b):
Payer initiated: Guest payment - redirects user to IC for the guest payment route.
Biller initiated: CSR portal (TruePoint Solutions)
Biller initiated: Back-office payments (cash register)
These invoices begin with ‘CSR’ and IC does not data pump the payment details. TruePoint uses the postback detail to post the payments on the account(s).
TBD - Add an indicator “PayPal“ for all PayPal brand payments(PayPal, PayPal Credit, Venmo)
payments
Used to data pump web, IVR and cloudpayV2 payments (except back-office payments - invoices starting with ‘CSR’)
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/tps/ar/payments
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
/tps/ar/payments
METHOD:
POST 
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body:
Format: Json
json
{
    "Amount":10.00,
    "CreatedDate":"2022-01-05T21:33:10.515Z",
    "CreatedBy":"InvoiceCloud",
    "ExternalId":"83ad46fb-7bb1-4b45-9d02-ecf432ac7f6e",
    "MunicipalityName":"SSWD",
    "PaymentInformationKey":"0",
    "PaymentMethod":"CreditCard",
    "SourceType":"RecurringPayment",
    "VoidedDate":"",
    "VoidedBy":"",
    "VoidedReason":"",
    "CreditCardName":"Visa",
    "CreditCardNumber":"4111XXXXXXXX1111",
    "PaymentLineItems": [
        {

            "TransactionCode":"Payment",

            "AccountNumber":"000156-00",

            "CustomerId":"",

            "BillNumber":"",

             "PaymentArrangementNumber": "",

            "Amount": 10.00
        }
      ]
 }
See Provided TruePoint Post man collection for an example
       
json
{
    "Status": 0,
    "Message": "",
    "Field": null,
    "ErrorMessages": [],
    "WarningMessages": [],
    "SuccessMessages": [
        "Payment Successfully Added."
    ],
    "Exceptions": [],
    "Value": {
        "Amount": 10.00,
        "CheckNumber": "",
        "CreditCardName": "Visa",
        "CreditCardNumber": "4111XXXXXXXX1111",
        "CreditCardExpireDate": "0001-01-01T00:00:00",
        "CreditCardHolderName": "",
        "Comments": "",
        "CreatedDate": "2022-01-05T21:33:10.515Z",
        "CreatedBy": "InvoiceCloud",
        "ExternalId": "83ad46fb-7bb1-4b45-9d02-ecf432ac7f6e",
        "MunicipalityName": "SSWD",
        "PaymentInformationKey": 4249797,
        "PaymentMethod": "CreditCard",
        "Payor": "",
        "SourceType": "RecurringPayment",
        "VoidedDate": "9999-12-31T23:59:59.9999999",
        "VoidedBy": "",
        "VoidedReason": "",
        "PaymentLineItems": []
    },
    "Request": null,
    "Headers": null
}
Credits & Chargebacks not included
Field Mapping:
Amount:
 Payment Amount without service fee.
CreditCardName
:
 
if Credit Card Payment:
 CreditCardType (Visa, Mastercard Discover, AMEX, for example)
else: 
blank
CreditCardNumber:
 
if 
Credit CardPayment: masked ************1111. 
else 
blank.
CreatedDate: 
Date of payment in YYYY-MM-DDTHHMMSSSZ format.            Example: 2022-01-05T21:33:10.515Z",
CreatedBy:
 "InvoiceCloud" (static)
ExternalId
:
 PaymentGUID from IC
MunicipalityName
: Pulled from Advanced setting 131] (example: “SSWD” for Sacs Saburban)
Advanced setting 131 must keep the following Json Format:
json
{ "TruePoint":{ "DataPumpConfigurations":{ "PostPaymentConfiguration":{ "MunicipalityName":"SSWD" } }, "RTDR":{ } } }
PaymentInformationKey
: 0
PaymentMethod
:
CreditCard
 EFT
TBD- PayPal (includes PayPal, Venmo and PayPal Credit)
Other
SourceType
:
IVR (IVR)
Recurring (Auto Pay)
Web (Everything Else)
VoidedDate: 
"" (value is left blank for payments and separate API is used for voids - see below)
VoidedBy: 
"" (value is left blank for payments and separate API is used for voids - see below)
VoidedReason 
= "" (value is left blank for payments and separate API is used for voids - see below)
TransactionCode
: "Payment" (static)
AccountNumber
 
[AccountNumber]
CustomerId:
 
Always blank
BillNumber
:
 Always Blank
PaymentArrangementNumber
:
 Always Blank
Amount
:
 Payment Amount without service fee
DataPump: 
Paperless and Autopay Updates
update
Used to update paperless and autopay
Either a “CustomerAccountKey“ can be provided or an “AccountNumber“.
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/tps/customeraccount/BillingPreferences/update
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
/tps/customer/BillingPreferences/update
METHOD:
POST 
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body [For Paperless]:
Format: Json
json
{
  "AccountNumber": "046465-01",
  "SendPaperlessBill": "True",
  "PaperlessBillingEmail": "email@email.com",
  "CreatedBy": "InvoiceCloud"
}
Body [For AutoPay]:
Format: Json
json
{
  "AccountNumber": "040176-03",
  "HasActiveRecurringPayment": "True",
  "CreatedBy": "InvoiceCloud"
}
Response [For Paperless]:
json
{
    "Status": 0,
    "Message": "",
    "Field": null,
    "ErrorMessages": [],
    "WarningMessages": [],
    "SuccessMessages": [
        "CustomerAccount Successfully Updated."
    ],
    "Exceptions": [],
    "Value": {
        "CustomerAccountKey": 72611,
        "AccountNumber": "046465-01",
        "SendPaperlessBill": true,
        "PaperlessBillingEmail": "email@email.com",
        "IsCashPaymentOnly": false,
        "HasActiveRecurringPayment": false
    },
    "Request": null,
    "Headers": null
}
Response  [For Autopay]:
json
{
    "Status": 0,
    "Message": "",
    "Field": null,
    "ErrorMessages": [],
    "WarningMessages": [],
    "SuccessMessages": [
        "CustomerAccount Successfully Updated."
    ],
    "Exceptions": [],
    "Value": {
        "CustomerAccountKey": 72509,
        "AccountNumber": "040176-03",
        "SendPaperlessBill": false,
        "PaperlessBillingEmail": "",
        "IsCashPaymentOnly": false,
        "HasActiveRecurringPayment": true
    },
    "Request": null,
    "Headers": null
}
Field Mapping:
CustomerAccountKey 
= [Custom7],
SendPaperlessBill
": true or false
PaperlessBillingEmail
": email
HasActiveRecurringPayment
": true or false (autopay only),
CreatedBy
": "InvoiceCloud" (static)
Update: CustomerAccountKey  will be replaced by AccountNumber for Paperless and Autopay updates. 
DataPump: 
Payment Reversals (only voids and ACH rejects)
Reverse
This API is used to post voids and ACH rejects (to ‘reverse’ the original payment)
URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
Specific Endpoint:
/tps/ar/payments/Reverse
Complete URL:
https://ictesttpsgatewayub.truecip.truepointsolutions.com
/tps/ar/payments/Reverse
METHOD:
POST 
Headers:
Key| Value
APIKEY | {BillerSpecificAPIKEY}
Body:
Format: Json
json
{
 "PaymentInformationKey": "0",
 "ReversedBy": "InvoiceCloud",
 "ReversedReason": {ReversedReason},
 "DeleteIfNotPosted": True,
 "ExternalId": "83ad46fb-7bb1-4b45-9d02-ecf432ac7f6e",
 "CustomerAccountKey": "197578"
}
Response [Voids & ACH Rejects]:
If a Datapump reversal is successful, the “Status” will always = 0, regardless of the “SuccessMessages” displayed.
 
json
{
    "Status": 0,
    "Message": "",
    "Field": null,
    "ErrorMessages": [],
    "WarningMessages": [],
    "SuccessMessages": [
        "Unposted Payment Successfully Deleted."
    ],
    "Exceptions": [],
    "Value": {
        "ExternalId": "83ad46fb-7bb1-4b45-9d02-ecf432ac7f6e",
        "PaymentInformationKey": 4249797,
        "ReversedBy": "",
        "ReversedReason": "",
        "DeleteIfNotPosted": false
    },
    "Request": null,
    "Headers": null
}
Field Mapping:
ExternalId
: PaymentGUID (string)
PaymentInformationKey
: always “0”
ReversedBy
: always "InvoiceCloud"
ReversedReason
:
If ACH reject: 
"ACH Reject"
Note 1/15/2025 SA-1042 requesting update to “ReversedReason” = “Actual ACH reject codes “(
https://my.invoicecloud.com/portal/(S(yt2flicw43i1v0i4z2pq10cu))/BillerACHRejectCodes.aspx
 )  
“Reject Code + Description” example “R02 Account Closed” no longer utilize hard coded value “ACH Reject”
If Void: “Void”
DeleteIfNotPosted
: always “true”
Bill Presentment (Utility Billing) 
GetEncodedBill
This API is used to retrieve bill images
GET
 [baseurl]/tps/billing/billproduction/GetEncodedBill/{billNumber}/{accountNumber} 
Bill Number should be the value without the prefix (for example 1234 not B-1234)
base 64 encoded bill
Field Mapping:
billNumber: Custom2
accountNumber: AccountNumber
Modifications
IC Use
Partner API Name
Description
Specifications
Jira Request
Release Date
Necessary Settings
 
ICRTDR: 
Balance Update (Utility Billing)
 ForwardBalanceActivityBalances
The purpose of this API is to update account balances and past due balances. Either a “CustomerAccountKey“ can be provided or an “AccountNumber“. If neither is provided, all active accounts will be returned.
This change is only for the Invoice Not Found error. Other errors should not be changed.
If IC has not received the most recent bill, IC will not update the balance.
RTDR logic will update this message “Invoice Not Found on TruePoint, zeroing out balance“ to “Invoice Not Found on TruePoint“ instead and keep the invoice balance stale/not make changes to the balance due, if the response value {{ActivityId}} does not match any of the customer’s invoices on the db and if the balance for the invoice being refreshed is not 0.00.
SA-869
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 TBA
N/A
Request
N/A
Response
N/A
File Mappings
Invoice File
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller. TruePoint refers to this file as the ‘biller file’ or ‘biller export'.
File Extension:  .csv
File Naming Convention: 
File Delimiter: ',' comma separated
Specification/Sample: 
SFTP File Path: ToInvoiceCloud\Invoices\UB\
File Transfer Frequency:  One time load before biller Go Live
Note** the API returns information in the same format and will be used to create bills going forward after initial priming.
Note**
 Two invoice creation processes will be needed (one for dynamic daily process and one for initial priming, file load through SFTP)
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
1
RowType
N
TRUE
Set by IC, Always ‘FH’
File Header
2
BillerGuid
N
TRUE
Set by IC
File Header
3
ThirdPartyFileReference
FALSE
File Header
4
FileCreationDate
N
TRUE
Set by IC, current date
File Header
5
InvoiceCount
N
TRUE
Set by IC
File Header
6
TotalInvoiceAmount
N
TRUE
Set by IC
File Header
7
RowType
N
TRUE
Set by IC, Always ‘IH’
Invoice Header
8
RecordType
N
TRUE
Set by IC, always 'N'
Invoice Header
9
InvoiceFormatGuid
N
TRUE
Set by IC
Invoice Header
10
InvoiceNumber
Y
TRUE
ActivityID
Invoice Header
11
InvoiceDate
Y
TRUE
ActivityDate
Invoice Header
12
InvoiceDueDate
Y
TRUE
ActivityDueDate
Invoice Header
13
TotalAmountDue
Y
TRUE
ActivityAmount
Invoice Header
38
Custom1
Y
FALSE
CustomerID
Invoice Header
39
Custom2
Y
FALSE
ActivityID, without
 prefix
 (for example ‘B-’ or ‘
P
A-’)
Invoice Header
40
Custom3
FALSE
CustomerInformationKey
Invoice Header
41
Custom4
FALSE
ActivityType
Invoice Header
42
Custom5
FALSE
Activity Description
Invoice Header
43
Custom6
FALSE
Invoice Header
44
Custom7
FALSE
CustomerAccountKey
Invoice Header
45
Custom8
FALSE
ActivityID
Invoice Header
46
Custom9
FALSE
Invoice Header
47
Custom10
FALSE
Invoice Header
93
BalanceDue
Y
FALSE
ActivityAmountDue
Invoice Header
194
BalanceForward
N
FALSE
Balance Forward
Invoice Header
252
InvoiceTypeID
N
FALSE
42
345
BillerInstallmentNumber
FALSE
Invoice Header
347
BillerInvoiceNumber
Y
FALSE
ActivityID
Invoice Header
407
PastDue
N
FALSE
Delinquent Amount Due
Invoice Header
58
RowType
N
TRUE
Set by IC , always ‘CR’
Customer Record
59
AccountNumber
Y
TRUE
AccountNumber
Customer Record
60
CustomerName
Y
TRUE
Name
Customer Record
61
Address1
Y
FALSE
AddressStreet
Customer Record
62
Address2
FALSE
Customer Record
63
City
Y
FALSE
AddressCity
Customer Record
64
State
Y
FALSE
AddressState
Customer Record
65
Zip
Y
FALSE
AddressZip
Customer Record
66
Phone
Y
FALSE
Customer Record
67
EmailAddress
FALSE
Customer Record
356
BlockPaymentsCC
FALSE
Customer Record
357
BlockPaymentsEFT
FALSE
Customer Record
371
CustomerName2
FALSE
Customer Record
373
DisplayAccountNumber
FALSE
Customer Record
409
Active
FALSE
Customer Record
70
RowType
N
TRUE
Set by IC, Always ‘ID’
Invoice Detail
Advanced Settings 
MunicipalityName
 will be stored as an advanced setting as it can change from biller to biller
Setting ID
Description
Value
Is value unique per biller? (Y/N)
Last successful run date for dynamic invoicecreation
Y
Municipality Name (Data Pump Payments)
Y
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
Not needed
AllowPartialPayments
Biller by Biller
AutoPayCollectionDate
Biller by Biller
BalanceForward
Set in BIF
CreditCardServiceFee
Not Needed
FirstNotifyRequestedDate
Biller by Biller
InvoiceDate
Not needed
InvoiceDueDate
Not needed
InvoiceFormatGuid
Biller by Biller
InvoiceTypeID
Not needed
LateFeeDate
Biller by Biller
LocationReference
Not Needed
MinimumAmountDue
Biller by Biller
PaymentExpirationDate
Biller by Biller
PaymentExpirationMessage
Biller by Biller
PromptPayExpirationDate
Biller by Biller
RegistrationValue
Not Needed
SecondNotifyRequestedDate
Biller by Biller
ThirdNotifyRequestedDate
Biller by Biller
User Interaction and Design - Utility Billing
Data Flow - Invoice
Initial invoices to bring biller live will be done through a file export.
att2538307622
2421588002
1
Chart1
IM
att2538111022
att2538340371
0
Once initial priming is complete, IC will reach out to Truepoint API each day and ask for any newly created accounts  or invoices, and create them.
att2538274870
2421588002
1
Chart2
IM
att2537030034
att2537422979
0
Data Flow - Adjustments
att2538340377
2421588002
1
Chart3
IM
att2538176592
att2538143799
0
Data Flow - Payment
att2537783349
2421588002
1
Chart4
IM
att2537554027
att2537717820
0
Data Flow - Void
att2538307628
2421588002
1
Chart5
IM
att2537848884
att2538274889
0
Data Flow - ACH Reject
att2538209341
2421588002
1
Chart6
IM
att2537914836
att2538176611
0
Data Flow - Change Log
att2537783355
2421588002
1
Chart7
IM
att2537882074
att2537554033
0
att2538111032
2421588002
1
Chart9
IM
att2538274895
att2537030047
0
Data Flow - Bill Presentment
att2537587160
2421588002
1
Chart8
IM
att2538307634
att2537488479
0
Payer Experience - Registered User
Payer registers/logs in
Payer logs in and from the home screen has the option to manage autopay, manage pay by text, manage payments methods and view scheduled payments
Payer chooses to ‘Add/Remove Account’ and handles the account management within the TruePoint portal. TruePoint uses IC web services (RegisterAccountsForUser) to register and link accounts.
Payer Experience - Guest Payment
Guest Payment/Express Pay will be a CloudPayV2 redirect to the guest payment for the existing invoice/bill in Invoice Cloud
CSR Experience - Back Office Payments
Back Office payments will be a CloudPayV2 redirect to the guest payment for a newly created invoice/bill in Invoice Cloud
Biller Experience
AgentConnect is used through the CSR portal (TruePoint Solutions). The CSR can manage the account - redirects included for managing autopay, paperless, pay by text, scheduled payments and send one time notifications (email and text).
To make a payment on the customers account, the CSR Portal (TruePoint Solutions) redirects to CloudPayV2 (not AgentConnect One-Time Pay)
Invoice Cloud Web Services
API Name
API Use/Purpose
Create Customer Record (api/v1/customer/add)
Create customer record prior to registering user
Register Accounts (remoteauthenticationapi/user/RegisterAccountsForUser)
Register account for user (always set logintypeID=5 for multi-user owner and co-owner functionality) 
Update Customer Email Address
Used to update email in IC when change occurs in Truepoint
Remote Authentication (remoteauthenticationapi/user/RemoteAuthentication)
TruePoint authenticates registered users and iFrames the following screens (SSO Redirect IDs):
1 = Customer Portal Recent Bill Listing
2 = Customer Portal Paperless Settings
3 = Customer Portal AutoPay Settings
9 = Customer Portal Scheduled Payments Listing
11 = Customer Portal Pay By Text Enrollment
CloudPayv2
CloudPayV2 is used in three scenarios:
Payer initiated: Guest payment - redirects user to IC for the guest payment route.
Biller initiated: CSR portal (TruePoint Solutions)
Biller initiated: Back-office payments (cash register)
AgentConnect
AgentConnect is used through the CSR portal (TruePoint Solutions). The CSR can manage the account - redirects included for managing autopay, paperless, pay by text, scheduled payments and send one time notifications (email and text).
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
ITG-1720
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
10/05/2023
AccountNumber is pull from [Custom6] field, but CloudPay does not have the functionality to add Custom values to invoices that are generated. When billers attempt to post payments via DataPump, an error is thrown.
Datapump Payments post successfully.
[Custom6] field will not be used to represent AccountNumber. Only use [AccountNumber].
ITG-1910
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Cancelled per Biller requests
No PayPal payment posted via Data Pump
Posted PayPal brand payments via Data Pump
TBD - Add an identifier “PayPal“ for all PayPal brand payments includes PayPal, Venmo and PayPal Credit.
ITG-2981
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
09/24/2024
When datapump is run for payment reversals, we consider a success by examining the SuccessMessage field and look for a particular string of data.
To evaluate if a transaction is successful, “Status” field must = 0, otherwise it is a failure.
Change logic on how IC considers a failure by previously looking at a string of data, to a value (0 = Success, 1 = failure) in the Status field.
ITG-3295
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
TBD
ReversedReason is hard coded to “ACH Reject”
ReveresedReason will be populated with ACH reject code + description from 
https://my.invoicecloud.com/portal/(S(yt2flicw43i1v0i4z2pq10cu))/BillerACHRejectCodes.aspx
 
 URL:/spaces/IM/pages/2421588002/TruePoint+Technical+Design