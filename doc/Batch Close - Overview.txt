This document provides a comprehensive overview of the 
Batch Close
 process, including the automation mechanisms, supporting repositories, APIs involved, and manual handling. The batch close functionality is crucial for processing and reconciling terminal-based transactions, particularly for 
Chase Paymentech
.
Types of Batch Close
There are two main types of batch close processes:
Autoclose
Handled by
: Scheduled 
Skybot Jobs
.
Purpose
: Automatically closes terminal batches at scheduled intervals without manual intervention.
Skybot Job Repos for Autoclose:
Repo Name
Description
CredicardAutoClose
Automatically closes batches for credit card terminals.
BatchcloseAlternateAudit
Audits and resets negative batches, handles late-night batch closures, and logs auditing details.
Customclose
Handled by
: An 
Azure Function
.
Function Name
: ICBatchCloseProcessor
Purpose
: Performs conditional or on-demand batch close operations for specific terminal groups or edge cases.
Common Components
ðŸ”¹ NuGet Package: ICBatchclose
Shared component used by both autoclose and customclose flows.
Contains batch processing logic, including integrations for 
Chase Paymentech
.
Key class: chaseclient.vb
Responsible for managing batch close operations for Chase terminals.
Manual Batch Close
Manual batch closures can also be performed in special cases:
Portal
: ICCRM Portal
Path
: Terminals â†’ Manual Batch Close
Repository
: ICCRM
Use Case
: Allows administrators to manually trigger a batch close for specific terminals as needed.
Chase Paymentech Integration
Each repository that deals with Chase batch processing includes a 
ChaseProcessor
 class. This class is responsible for invoking the Chase Paymentech batch close API.
ðŸ”¹ API Call Flow:
Uses ICTunnelAPI as a secure proxy/gateway.
The ChaseProcessor class initiates calls through ICTunnelAPI to reach Chase Paymentech's systems.
ðŸ”¹ Chase Paymentech API Endpoints:
Environment
Endpoint
Production
https://ws1.chasepaymentech.com/PaymentechGateway
Non-Production
https://wsvar1.chasepaymentech.com/PaymentechGateway
Â 
Related Repositories
Repo Name
Purpose
ICBatchCloseProcessor
Azure Function handling custom batch closures.
ICBatchclose
Common NuGet package containing batch close logic (including chaseclient.vb).
ICCRM
Portal used for manual batch close operations.
ICTunnelAPI
Middleware service used for secure API calls to Chase Paymentech.
Â 
 URL:/spaces/PE/pages/4351197244/Batch+Close+-+Overview