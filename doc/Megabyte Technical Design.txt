Page Navigation:
Jira tickets
Document status
IN progress
Yellow
 
Document owner
 
 
 
Solution engineer
 
Summary
Megabyte Systems is a property tax platform for California that will generate BIF files for various tax bills, which will all use various invoice types at Invoice Cloud. The County websites and the Megabyte Cashiering system will use CloudPayV2. Balances are refreshed using RTDR, and payments are posted using Datapump.
API Documentation
Integrator Web Services
Each biller integration requires an API key provided by the county (biller). The API Key from the county will expire based on the expiration date set by each county. The maximum expiration date is 3 years. The county is responsible for ensuring a new key is generated before the expiration date. API Key renewal procedures must be reviewed with each county.
** A Salesforce alert was created to send an alert 45 days from the expiration date to Tier 3 to follow up with the biller ***
API Authentication Method:  API Key passed in header request. Test Key:  E061B34C-820D-4582-AE4E-8DF49912FA3B
The API URLs listed below are pointing to the Megabyte Test System for Eldorado County
Sample Postman Collection
Real-Time Data Refresh
API Details
Balance Update
IC Use
Partner API Name
Description
Specifications
RTDR:  Balance Update
InvoiceTypeID = 97 must be excluded from RTDR.
current-balance
POST https://qa.mpts.dev/invoice-cloud/cloud-pay/
eldorado
/current-balance
eldorado 
(county name) will change for each biller integration
RTDR API for balance updates
 
Data Mapping for Request
:  
originalAssessmentNumber = AccountNumber
assessmentOrDefaultNumber = Custom2
parcelNumber = Custom1
taxYear = BillerBillYear
rollCategory = Custom5
installmentNumber = BillInstallmentNumber
Response Updates:
Update Invoice Cloud balanceDue and totalAmountDue
Request
{
  "originalAssessmentNumber": "001031029000",
  "assessmentOrDefaultNumber": "001031029000",
  "parcelNumber": "001031029000",
  "taxYear": 2024,
  "rollCategory": "CS",
  "installmentNumber": 2
}
Response
200 - Success
{
    "countyName": "eldorado",
    "originalAssessmentNumber": "001031029000",
    "assessmentNumberOrDefaultNumber": "001031029000",
    "parcelNumber": "001031029000",
    "taxYear": 2024,
    "installmentNumber": "2",
    "invoiceDate": "2025-03-26T11:28:33.9632706-07:00",
    "invoiceDueDate": "2025-04-10T00:00:00",
    "balanceDue": 2466.5400,
    "totalAmountDue": 2466.5400
}
If any failures, do not retry and display the error within the biller portal.
Data Pump
API Details
Payments
IC Use
Partner API Name
Description
Specifications
Payment Method Mapping
Payment Source Mapping
DataPump:  Post Payments
data-pump
POST 
https://uat.mptsweb.com/invoice-cloud/cloud-pay/eldorado/data-pump
eldorado 
(county name) will change for each biller integration
DataPump API to Post payments
Do not DataPump paymentsourceID: 11—Cloud Payments. All cloud payments are posted via the postback URL within CPV2.
originalAssessmentNumber = 
Customers.AccountNumber
assessmenOrDefaultNumber = Custom2
parcelNumber = Custom1
taxYear = BillerBillYear
rollCategory = Custom5
installmentNumber = BillInstallmentNumber
paymentDate = IC PaymentDate YYYY/MM/DDTHH:MM:SS
paymentAmount = IC Payment Amount
paymentMethod = See mapping column
paymentSource = IC Payment Source Description
paymentGuid = IC PaymentGUID
confirmationNumber =
 IC RejectReference
payerName
payerAddress
payerCity
payerState
payerZip
Credit Cards
Visa
Mastercard 
Discover
American Express
Standard Methods
EFT (Check)
Easy Pay
Online Bank Direct
Payment
PayPal
PayPal Credit
Venmo
Payment Source ID - Payment Source Description:
1 - Web Services
2 - Biller Portal
3 - Customer Portal
4 - Express Payments
7 - Online Bank Direct
10 - IVR
14 - Shopping Cart
15 - Auto Pay
16 - Scheduled Payment
17 - Biller Portal - Easy Pay
18 - CSR - One Time Pay
20 - Mobile Express Payments
22 - Recurring Scheduled Payment
23 - Pay By Text
Request
{
  "originalAssessmentNumber": "001031029000",
  "assessmentOrDefaultNumber": "001031029000",
  "parcelNumber": "00103102900",
  "taxYear": 2024,
  "rollCategory": "CS",
  "installmentNumber": 2,
  "paymentDate": "2025-03-26T18:51:22",
  "paymentAmount": 10.00,
  "paymentMethod": "Visa",
  "paymentSource": "Customer Portal",
  "paymentGuid": "4fa85f64-5717-4562-b3fc-2c9636afa6aa",
  "confirmationNumber": "A12345",
  “payerName”: “John Smith”,
  “payerAddress”: ”123 Main Street”,
  “payerCity”: “Beverly Hills”,
  “payerState”: “CA”,
  “payerZip”: “90210”
}
Response
200 - The payment was successfully posted.
If any failures, do not retry and display the error within the biller portal.
Voids 
(
N/A)
ACH Rejects 
(N/A)
Paperless Enrollments 
(N/A)
Autopay Enrollments and Payment Method Changes 
(N/A)
Customer Changes 
(N/A)
Bill Presentment
API Details
PDF Remote Linking
API Endpoint Name
Description
Specifications
Bill Presentment: 
 PDF Remote Linking
, TaxBillv2
Bill Presentment:  PDF Remote Linking
County name changes for each biller integration
Asmt - Custom2
TaxYear = BillerBillYear
RollCat = Custom5
RollType = Custom6
Request
GET 
https://apps.mptsweb.com/TaxBillv2/Default.aspx?County=eldorado&Asmt=050600006000&TaxYear=2024&RollCat=CS&RollType=S
Response - Sent as Hex Value
Invoice Cloud Web Services
The information in the Invoice Cloud Web Services section reflects the information from Invoice Cloud at the time of Discovery and Design. A biller or CIS vendor can update this information anytime without notifying Invoice Cloud.
Cloud Payments V2
Purpose/Summary:  Cloud Pay V2 is used on each county's website and internal Megabyte Cashiering system. Both the website and cashiering systems have cart functionality, and CPV2 will be called primarily with invoices already existing in the Invoice Cloud system, which were previously uploaded from a BIF.    
CPV2 will also generate an invoice on the fly for tax bills on a 4or 5-payment plan. These types of tax bills are not provided in a BIF. The County website only submits pay five plans, where both pay 4 and pay 5 plans are generated from the cashiering system.  The cashiering system will also generate a separate on-the-fly invoice for any non-assessment fees.
Please also note that the cashiering system also utilizes EMV card readers.
Sample County Website CPV2 Request:
{
  "ReturnURL": "https://www.eldoradocounty.ca.gov/county-government/county-departments/treasurer-tax-collector",
  "PostBackURL": "https://staging.mpts.dev/invoice-cloud/web/post-back",
  "BillerReference": "96bc600e-b933-4556-9ba1-e9362fd835ad",
  "ViewMode": 0,
  "Customers": [
    {
      "AccountNumber": "860001452000",
      "Invoices": [
        {
          "InvoiceNumber": "2024-CU-860001452000-1",
          "TypeID": 8,
          "InvoiceDate": "05/06/2025",
          "DueDate": "05/06/2025",
          "BalanceDue": 2456.25,
          "CCServiceFee": 0,
          "ACHServiceFee": 0,
        }
      ]
    }
  ],
  "AllowSwipe": false,
  "AllowEMV": false,
  "CreateCustomerRecord": true,
  "PageLoadOverride": 5
}
Additional Details - County Websites
Biller Request Parameters:  County Websites
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
ReturnURL
False
N
PostBackURL
True
Y
https://staging.mpts.dev/invoice-cloud/web/post-back
BillerReference
True
Y
4172
Cashiering Work Station
ViewMode
True
Y
0
Redirect
CssUrl
False
N
Not needed for redirect
Customers
True
Y
Customer information is always provided.  This does not always create a new account, but will create a new account for Pay 5 plans if required.
Customer Data Object:
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
AccountNumber
True
Y
860001452000
Originating Assessment Number.
Name
False
Y
Customer Billing Name
These fields are only included when generate an invoice on-the-fly for a pay 5 plan.
Address
False
Y
Customer Billing Address
City
False
Y
Customer Billing City
State
False
Y
Customer Billing State
Zip
False
Y
Customer Billing Zip Code
EmailAddress
False
Y
Customer Email Address
Invoices
False
Y
2024-CU-860001452000-1
A single invoice or an array of invoices can be submitted from Megabyte shopping cart.
Optional Invoice Data Object
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
InvoiceNumber
True
Y
2024-CU-860001452000-1
Pay 5 Plan
2024-CU-86001452000 05062025 10:14:18
A single invoice or an array of invoices can be submitted from Megabyte shopping cart.
If an invoice is created on-the-fly for a pay 5 plan, it will contain the MMDDYYYY and HH:MM:SS at the end of the invoice number.  This was needed to keep the invoice numbers unique in the event a customer made more than one payment in any given day.
TypeID
False
Y
6
Valid invoice types must be provided based tax roll:
Secured Property Tax Categories
7 = Current Secured (CS)
93 = Supplemental Secured (SS)
6 = Delinquent Secured (DS)
Unsecured Property Tax Categories
8 = Current Unsecured (CU)
95 = Delinquent Unsecured (DU)
96 = Supplemental Unsecured (SU)
InvoiceDate
False
Y
05/06/2025
Current system date
DueDate
False
Y
05/06/2025
Current system date
BalanceDue
False
Y
2456.25
Amount entered on County website
CCServiceFee
False
Y
0.00
ACHServiceFee
False
Y
0.00
Cloud Payment Settings
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
AllowSwipe
False
Y
Set to False
AllowEMV
False
Y
Set to False
EMVDeviceID
False
N
N/A
EMVLocationID
False
N
N/A
CashierName
False
N
N/A
AllowCCPayment
False
N
N/A
AllowACHPayment
False
N
N/A
CreateCustomerRecord
False
Y
Set to True
RemoteAuthenticationToken
False
N
N/A
PageLoadOverride
True
Y
4
Always set to 4: Payment Options
Sample Cashiering API Request CPV2
{
  "CreateCustomerRecord": true,
  "Customers": [
    {
      "AccountNumber": "002361023000",
      "Name": "Sao  Yang",
      "Address": "123 Main Street",
      "City": "Rocklin",
      "State": "CA",
      "Zip": "95888",
      "EmailAddress": "",
      "Invoices": [
        {
          "InvoiceNumber": "2024-CS-002361023000-2",
          "TypeID": 1,
          "InvoiceDate": "05/05/2025",
          "DueDate": "05/05/2025",
          "BalanceDue": 3981.81,
          "CCServiceFee": 0.0,
          "AchServiceFee": 0.0
        },
        {
          "InvoiceNumber": "Fees-05052025 11:58:23",
          "TypeID": 97,
          "InvoiceDate": "05/05/2025",
          "DueDate": "05/05/2025",
          "BalanceDue": 10.0,
          "CCServiceFee": 0.0,
          "AchServiceFee": 0.0
        }
      ]
    }
  ],
  "AllowEMV": true,
  "EMVDeviceID": "1240578972",
  "AllowSwipe": true,
  "PageLoadOverride": 4,
  "AllowCCPayment": true,
  "AllowACHPayment": true,
  "PostBackURL": "https://staging.mpts.dev/invoice-cloud/cashiering/eldorado/post-back",
  "BillerReference": "4172"
}
Additional Details - Megabyte Cashiering System
Biller Request Parameters:  Cashiering System
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
ReturnURL
False
N
PostBackURL
True
Y
https://staging.mpts.dev/invoice-cloud/web/post-back
BillerReference
True
Y
4147
Megabyte Cashiering System ID
ViewMode
True
Y
0
Redirect
CssUrl
False
N
Not needed for redirect
Customers
True
Y
Customer information is always provided.  This does not always create a new account, but will create a new account for Pay 5 plans if required.
Customer Data Object:
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
AccountNumber
True
Y
002361023000
Originating Assessment Number.
Name
False
Y
Customer Billing Name
These fields are only included when generate an invoice on-the-fly for a pay 5 plan.
Address
False
Y
Customer Billing Address
City
False
Y
Customer Billing City
State
False
Y
Customer Billing State
Zip
False
Y
Customer Billing Zip Code
EmailAddress
False
Y
Customer Email Address
Invoices
False
Y
2024-CU-002361023000-1
A single invoice or an array of invoices can be submitted from Megabyte shopping cart.
Optional Invoice Data Object
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
InvoiceNumber
True
Y
2024-CU-002361023000-1
Invoices that can be generated on the fly (Pay 4/5 plan, and/or Non-Assessment Fees) follow the same format with the Date and Time at the end of the invoice number,
Pay 4/5 Plan
2024-CU-86001452000 05062025 10:14:18
Non-Assessment Fees
Fees 05062025 10:14:18
A single invoice or an array of invoices can be submitted from Megabyte shopping cart.
If an invoice is created on-the-fly for a pay 5 plan, it will contain the MMDDYYYY and HH:MM:SS at the end of the invoice number.  This was needed to keep the invoice numbers unique in the event a customer made more than one payment in any given day.
TypeID
False
Y
6
Valid invoice types must be provided based tax roll:
Secured Property Tax Categories
7 = Current Secured (CS)
93 = Supplemental Secured (SS)
6 = Delinquent Secured (DS)
Unsecured Property Tax Categories
8 = Current Unsecured (CU)
95 = Delinquent Unsecured (DU)
96 = Supplemental Unsecured (SU)
Non-Assessment Fees
97 = Fees
InvoiceDate
False
Y
05/06/2025
Current system date
DueDate
False
Y
05/06/2025
Current system date
BalanceDue
False
Y
2456.25
Amount entered on County website
CCServiceFee
False
Y
0.00
ACHServiceFee
False
Y
0.00
Cloud Payment Settings
Parameter
Required
True/False
In Request
Y/N
Sample Data
Partner Name/Description
AllowSwipe
False
Y
True
AllowEMV
False
Y
True
EMVDeviceID
False
N
1240578972
Serial Number of CC device
EMVLocationID
False
N
N/A
CashierName
False
N
N/A
AllowCCPayment
False
N
True
AllowACHPayment
False
N
True
CreateCustomerRecord
False
Y
True
RemoteAuthenticationToken
False
N
N/A
PageLoadOverride
True
Y
5
Always set to 5: Payment Options
User Stories: County Website
County Website
Workflow
Story
Assumptions/
Requirements
Steps
Webservices
Sample
User one-time pay
The user goes to the county website and clicks on “Pay, Print, and View Your Property Taxes.”
 
Requirement:
The customer invoice number must exist on Invoice Cloud. An invoice will only be generated on the fly if a customer pays a 5-pay plan.
User navigates to the county website and clicks “Pay, Print, and View Your Property Taxes.”
The user enters search criteria to find their tax bill and clicks “Search”.
User adds installment(s) to pay to their shopping cart.
User clicks “PAY WITH CREDIT/DEBIT CARD” OR “PAY BY E-CHECK”.  This will send the CPV2 request to Invoice Cloud and redirect the user to Invoice Cloud payment route.
The redirect is always set to 5 = Payment Options.
REST- CloudPayV2
CPV2 URL is returned and displayed as a redirect.
El Dorado County - Find Property - Search
Tax Details Screen - Add Installment
Shopping Cart
 
User Stories: Megabyte Cashiering System
Megabyte Cashiering System
Workflow
Story
Assumptions/
Requirements
Steps
Webservices
Sample
User one-time pay
The user goes to the county office to pay a tax bill, a payment plan, or a non-assessment fee.
The Megabyte cashiering system is used to initiate any payment to Invoice Cloud.
 
Requirement:
The customer invoice number must exist on Invoice Cloud. An invoice will only be generated on the fly if a customer pays a 4 or 5-pay plan, or a non-assessment fee.
The taxpayer
 comes to the county office to pay their taxes, a payment plan, or a non-assessment fee.
Megabyte cashier accesses the Megabyte cashiering system to search for the taxpayer assessment/tax bill.
The cashier adds installment(s) to the shopping cart.  Any non-assessment fees can optionally be added.
Cashier enters the dollar amount to pay and selects Invoice Cloud from the Payment Type and clicks “Enter”.
Cashier completes Payor information and clicks “Enter”. 
Casher is redirecting to Invoice Cloud, redirect 5 = Payment Options.
REST- CloudPayV2
CPV2 URL is returned and displayed as a redirect.
Cashiering - Assessment Search
 
File Mapping
Invoice File
File Summary/Purpose: The purpose of this file is to transfer bill/invoice data to Invoice Cloud from the biller.
File Extension:   .BIF
File Naming Convention:  CountyName_MMDDYYYY.bif
File Delimiter:   pipe '|'
Sample File:  This sample only shows a limited amount of data.
SFTP File Path:  D:\inetpub\ftproot\scwcftp\ToInvoiceCloud\Invoices\  (this differs for each county)
File Transfer Frequency:   CS and CU types = Yearly, SS, SU, DS, DU = Daily/As Needed
Field Mapping - BIF
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Format
Field Description
Record Type
1
RowType
Y
True
varchar
Always “FH”
File Header
2
BillerGuid
Y
True
varchar
Biller Guid assigned by IC
File Header
4
FileCreationDate
Y
True
date
Date created.
File Header
5
InvoiceCount
Y
True
number
Total number of invoices included in the file
File Header
6
TotalInvoiceAmount
Y
True
money
Total dollar amount of all invoices within the file.
File Header
7
RowType
Y
True
varchar
Always “IH”
Invoice Header
8
RecordType
Y
True
varchar
N = New, D = Deactivate
Deactivate ('D'): Use this option to remove a previously uploaded tax bill if it was created in error or is no longer valid. This action will remove the tax bill from Invoice Cloud systems. It is typically used to deactivate a DEF or CS tax bill once a payment plan has been created
Invoice Header
10
InvoiceNumber
Y
True
varchar
Megabyte Systems will build Invoice Number in the following format:
Format:
TaxYear-Type-Assessment#-Installment# 
TYPE: 
CS  Current Secured
CU Current Unsecured 
SS Supplemental Secured 
SU Supplement Unsecured 
i.e.,  2023-CS-042035009000-1
       2023-CS-042035009000-2
_________________________ 
Delinquent Tax Invoices
 
Format:
TaxYear-Type-DEF#-Installment#
TYPE: 
DS Delinquent Secured
DU Delinquent Unsecured 
i.e., 2023-DS-DEF23000631-1
Invoice Header
11
InvoiceDate
Y
True
Date
Statement Date
Invoice Header
12
InvoiceDueDate
Y
True
Date
Installment Due Date
Invoice Header
13
TotalAmountDue
Y
True
money
Installment Amount Due
Invoice Header
38
Custom1
Y
False
varchar
Parcel Fee Number (no dashes)
Invoice Header
39
Custom2
Y
False
varchar
Assessment Number (no dashes) - or -
DEF number for Delinquent Invoices.
Invoice Header
40
Custom3
Y
False
varchar
Originating Assessment Number
Invoice Header
42
Custom5
Y
False
varchar
Roll Category ( CU, CS, SS, SU, DS, DU)
Invoice Header
43
Custom6
Y
False
varchar
Roll Type (single letter below)
A: Assessment Roll - Prior to Secured Extension
B: Secured Annual Mobile Home / Mineral
C: Supplemental Secured
E: Delinquent Supplemental Secured
G: Delinquent Supplemental Unsecured
I: Delinquent Secured
J: Supl Unsec (from sec)
K: Delin Unsec (MH/Min)
M: Supplemental Secured Annual Mobil Home / Mineral
Q: Supplemental Unsecured - Transfer 1 installment
S: Secured Roll
T: Unsecured Roll - Aircraft
U: Unsecured Roll - No Aircraft
V: Supplemental Unsecured - True Unsecured 2 installment
X: Delinquent Supplemental Unsecured from "V" roll
Y: Delinquent Unsecured
Z: Delinquent Unsecured Aircraft
Invoice Header
44
Custom7
Y
False
varchar
blank - not used
Invoice Header
45
Custom8
Y
False
varchar
Owner’s Name
Invoice Header
46
Custom9
Y
False
varchar
Mailing Address1
Invoice Header
47
Custom10
Y
False
varchar
Mailing Address2
Invoice Header
93
BalanceDue
Y
False
money
The balance that is due on the tax bill.
Invoice Header
94
Custom11
Y
False
varchar
Mailing Address3
Invoice Header
95
Custom12
Y
False
varchar
Mailing Address3
Invoice Header
252
InvoiceTypeID
Y
True
varchar
Secured Property Tax Categories
7 = Current Secured (CS)
93 = Supplemental Secured (SS)
6 = Delinquent Secured (DS)
Unsecured Property Tax Categories
8 = Current Unsecured (CU)
95 = Delinquent Unsecured (DU)
96 = Supplemental Unsecured (SU)
Invoice Header
345
BillerInstallmentNumber
Y
False
varchar
Installment Number, i.e., 1, 2
Invoice Header
346
BillerBillYear
Y
False
varchar
i.e., 2023, 2024, 2025 
Invoice Header
58
RowType
Y
True
varchar
Always CR 
Customer Record
59
AccountNumber
Y
True
varchar
Originating Asmt Number
Customer Record
60
CustomerName
Y
True
varchar
Owner’s Name
Customer Record
61
Address1
Y
False
varchar
Blank
Customer Record
62
Address2
Y
False
varchar
Blank
Customer Record
63
City
Y
False
varchar
Blank
Customer Record
64
State
Y
False
varchar
Blank
Customer Record
65
Zip
Y
False
varchar
Blank
Customer Record
66
Phone
Y
False
varchar
10 digit phone
Customer Record
67
EmailAddress
Y
False
varchar
Email Address
Customer Record
70
RowType
Y
True
varchar
Always 'ID'
Invoice Detail
Conveyance File
File Summary:  The purpose of this file is to convey customer accounts (originating assessment number) since this number is carried over to a new owner.
File Extension: CCF
File Naming Convention: CountyName.CCF
Specification: N/A
Sample File: 
File Delimiter: pipe “|”
Frequency:  Daily
SFTP File Path:  D:\inetpub\ftproot\scwcftp\ToInvoiceCloud\Conveyance\  (this differs for each county)
Field Mapping - CCF
IC FileSpecID
IC Field Name
In File (Y/N)
Required (T/F)
Description
Record Type
358
RowType
Y
True
Always 'C
File Header
359
BillerGuid
Y
True
Differs by County
File Header
361
FileCreationDate
Y
True
Date the file was created
File Header
362
ConveyanceCount
Y
True
Number of records to be conveyed
File Header
363
RowType
Y
True
Always 
Conveyance Record
364
CurrentICAccountNumber
Y
True
Originating Assessment Number
Conveyance Record
366
BlockPaymentsCC
Y
True
Always 0
Conveyance Record
367
BlockPaymentsACH
Y
True
Always 0
Conveyance Record
369
Active
Y
True
Always 1
Conveyance Record
Advanced Settings
Setting ID
Required/
Optional/N/A
Description
Details and Logic
Value
Is value unique per biller? (Y/N)
8
Required
RTDR EndPoint/WebService URL
Each county will provide a URL and API key.
POST 
https://staging.mpts.dev/invoice-cloud/cloud-pay/
eldorado
/current-balance
eldorado
 represents the county name. This value will change with each biller integration.
Y
10
Required
RTDR Key or Password if Applicable
Each county must provide an API for each biller integration. The API has an expiration date, and the maximum is 3 years.
Authentication API Test Key for Header:
E061B34C-820D-4582-AE4E-8DF49912FA3B
Y
11
Required
DataPump Payments EndPoint/WebService URL
 Each county will provide a URL and API key.
POST 
https://staging.mpts.dev/invoice-cloud/cloud-pay/
eldorado
/data-pump
eldorado
 represents the county name. This value will change with each biller integration.
Y
12
Required
DataPump Payments EndPoint/WebService Password
Each county must provide an API for each biller integration. The API has an expiration date, and the maximum is 3 years.
Authentication API Test Key for Header:
E061B34C-820D-4582-AE4E-8DF49912FA3B
Y
20
Required
Remote PDF EndPoint/WebService URL
 Each county will provide a URL and API key.
GET 
https://apps.mptsweb.com/TaxBillv2/Default.aspx?County=
eldorado
&Asmt=&TaxYear=&RollCat=&RollType=
eldorado
 represents the county name. This value will change with each biller integration.
Y
148
Required
RTDR Invoice Type Whitelist
Invoices generated on-the-fly for non-assessment fees cannot call RTDR or it fails.  This setting will shut RTDR for an InvoiceTypeID.
6,7,8,93,95,96
N
Invoice Types
The following invoice types must be set up for each county.
Invoice Types/Alias (BIF)
7 = Current Secured (CS), 93 = Supplemental Secured (SS), 6 = Delinquent Secured (DS), 8 = Current Unsecured (CU), 95 = Delinquent Unsecured (DU), 96 = Supplemental Unsecured (SU)
CloudPayV2
97 - Non-Asmt Fees, 98 - Transient Occupancy Tax (TOT), 99 - Business License, 100 - Vacation Home Rental (VHR), 101 - Cannabis
All these invoice types should disable options 1-5 (Allow Paperless Registration, Allow Customer to Request Paper, Allow Customer to Schedule Payments, Allow Customer to AutoPay, and Allow Registration/Customer Portal). 
Verify with each county which of these invoice types need to be implemented.
Required Options
Input the required integration options below.
ID
Option Description
Details
61
RTDR - Block Payments on RTDR Failures
Check Box - If RTDR fails, do not allow any payments.
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A
AllowPartialPayments
No partial payments allowed.  Only partial payments allowed are from Megabyte Cashiering system which has an override to accept a partial payment if needed.
AutoPayCollectionDate
N/A
BalanceForward
N/A
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
TBD by Biller
InvoiceDate
in BIF
InvoiceDueDate
in BIF
InvoiceFormatGuid
Customization:  InvoiceCloud PDF Viewer by InvoiceGUID
 
(B3D8E0C6-0A66-4566-BD1F-480C87121EA6)
InvoiceTypeID
in BIF
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
N/A
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
TBD by Biller
ThirdNotifyRequestedDate
TBD by Biller
User Interaction and Design
Data Flow - Invoice
Invoices are created from a BIF file and uploaded daily to SFTP.
Data Flow - Conveyance
A daily CCF file is created and uploaded to the SFTP directory.
Data Flow - Payment
Payments are made through the Invoice Cloud virtual site, Pay by Text, AutoPay, Scheduled Payments, Megabyte Cashiering System (CPV2), and county websites (CPV2).  Payments outside of CPV2 will be datapumped.
Data Flow - Bill Presentment
PDF Linking is used for Bill Presentment, which points to Megabyte Systems for all billers.
Agent Experience
Cloud Pay V2 is used from the Megabyte Cashiering System with supported EMV readers.
Biller Experience
Billers will use the biller portal as needed.
Integration Sizing
Total Initial LOE (By Story Points)
23
In Integration?
Name
Category
Component
Initial LOE (By Story Points)




1


1


incomplete


Y/N




Adjustments File Split
Adjustments
Biller File Split
5




2


2


incomplete


Y/N




Adjustments
Adjustments
Native Web Services
0




3


3


complete


Y/N




Balance Refresh
Adjustments
Real-Time Data Refresh
5




4


4


incomplete


Y/N




Adjustment File Conversion
Adjustments
File Conversion
8




5


5


incomplete


Y/N




Bill Presentment
Bill Presentment
HTML Template
8




6


6


incomplete


Y/N




Bill Presentment
Bill Presentment
Native Web Services
0




7


7


incomplete


Y/N




Bill Presentment
Bill Presentment
PDF Extraction
3




8


8


complete


Y/N




Bill Presentment
Bill Presentment
PDF Remote Linking
2




9


9


incomplete


Y/N




Change Logs
Change Logs
DataPump
5




10


10


incomplete


Y/N




Customer Status Report
Change Logs
File Export
3




11


11


incomplete


Y/N




Customer Change Log
Change Logs
File Export
2




12


12


incomplete


Y/N




Change Logs
Change Logs
Native Web Services
0




13


13


incomplete


Y/N




File Size Split
Invoices
Biller File Split
2




14


14


incomplete


Y/N




Invoice Update File Split
Invoices
Biller File Split
3




15


15


incomplete


Y/N




Pre-Processing
Invoices
Biller File Split
8




16


16


incomplete


Y/N




Batch Invoices
Invoices
Native Web Services
0




17


17


incomplete


Y/N




Single Invoices
Invoices
Native Web Services
0




18


18


incomplete


Y/N




Invoice Update
Invoices
Real-Time Data Refresh
1




19


19


incomplete


Y/N




Invoice Generation
Invoices
Real-Time Data Refresh
5




20


20


incomplete


Y/N




Invoice On-Demand
Invoices
Real-Time Data Refresh
13




21


21


incomplete


Y/N




Invoice File Conversion
Invoices
File Conversion
8




22


22


incomplete


Y/N




Invoice Generation
Invoices
Biller API Data Import
5




23


23


incomplete


Y/N




ACH Rejects
Payments
DataPump
5




24


24


incomplete


Y/N




Chargebacks
Payments
DataPump
5




25


25


complete


Y/N




Payment Export
Payments
DataPump
5




26


26


incomplete


Y/N




Voids
Payments
DataPump
3




27


27


incomplete


Y/N




ACH Rejects
Payments
File Export
5




28


28


incomplete


Y/N




Chargebacks
Payments
File Export
3




29


29


incomplete


Y/N




Payment Export
Payments
File Export
5




30


30


incomplete


Y/N




Voids
Payments
File Export
3




31


31


incomplete


Y/N




Payment Export
Payments
Native Web Services
0




32


32


incomplete


Y/N




Payment File Conversion
Payments
File Conversion
8




33


33


incomplete


Y/N




Conveyance File Split
Customers
Biller File Split
13




34


34


incomplete


Y/N




Customer Update File Split
Customers
Biller File Split
3




35


35


incomplete


Y/N




Customer Update
Customers
Real-Time Data Refresh
1




36


36


incomplete


Y/N




Endpoint Authentication
Real-Time Data Refresh
5




37


37


incomplete


Y/N




Endpoint Authentication
DataPump
5
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
ITG-3688
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
TBD
Payer information was not included in datapump.
Add payer information to datapump.
During UAT, the biller stated that the payer information was not populated in their CIS and it was discovered this needs to be added.
 URL:/spaces/IM/pages/3497394195/Megabyte+Technical+Design