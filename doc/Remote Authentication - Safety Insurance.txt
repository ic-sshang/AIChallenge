Story: 
EBPP-17180
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PR:
 
ICRemoteAuthenticationAPI PR 25942
Relevant Documentation
:
Ongoing tracking of Safety’s SAML/API issues
Relevant Dev Support Tickets:
DS-5071
DS-3447
Customization:
 Update ICRemoteAuthenticationAPI 
RegisterAccountsForUser
 endpoint to behave like SAML SSO (
ICSSOAuthentication
) for SAML billers. For SAML billers, the 
ICRemoteAuthenticationAPI
 Register Accounts web method will match existing logins by email only instead of by email and password. No changes are required to the request objects.
 
The following example illustrates the changes to an existing login where:
The email address of the login is 
WaylonHarris19@ictest.com
The existing login has account RE-1253025702 tied to it
The biller uses SAML SSO
 
Example Request
The password field is still required, but an existing login will be matched by email only.
{
    "EmailAddress": "WaylonHarris19@ictest.com",
    "Password": "guest",
    "Accounts": [
        {
            "AccountNumber": "RE-1692436076",
            "LoginTypeID": 1
        }
    ]
}
Example Response
    "Code": 0,
    "Message": "Success",
    "Data": {
        "AccountsNotRegistered": []
    }
}
State of Login After Request
Account RE-1692436076 is registered and tied to the login belonging to the email address used in the request.
Implementation
For SAML billers, the 
RegisterAccountsForUser
 endpoint effectively ignores the password field. We assume that a SAML biller has no two distinct logins that share the same email address. Then, for SAML billers, we first attempt to find an existing login by searching for the first login where the login email address matches the email address used in the request. This functionality is currently behind the platform feature 
RegisterSamlCustomersIgnorePassword
 and will eventually be rolled out to all billers.
 URL:/spaces/PE/pages/3133374468/Remote+Authentication+-+Safety+Insurance