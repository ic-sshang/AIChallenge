BillerShardDatabaseFactory Class
Namespace
IC.Net.DataAccess.MsSql
Summary
A BillerShardDatabaseFactory is a factory class for creating databases for specific billers.   This class is useful when a application needs to connect to multiple biller shards at runtime.
Syntax
c#
public class BillerShardDatabaseFactory : IDatabaseFactory<BillerShardDatabaseFactory, int>
Constructors
BillerShardDatabaseFactory(IConnectionStringProvider connectionStringProvider)
Initializes a new instance of the BillerShardDatabaseFactory class with the specified connection string provider. 
c#
public BillerShardDatabaseFactory(IConnectionStringProvider connectionStringProvider)
Parameters
connectionStringProvider (IConnectionStringProvider): The connection string provider to use.
Methods
Create
Creates a database for a specific biller.
c#
public IDatabase Create(int billerId)
Parameters
billerId (Int32): The ID of the biller.
Returns
IDatabase: The database instance for the specified biller.
Example
c#
var connectionStringProvider = new ManagedIdentityConnectionStringProvider(
    "YourCID", 
	new DefaultConnectionStringProvider("Server=tcp:ic-dbtest-east-server1.database.windows.net; Database=DBMaster_GoldAzure;")
);


BillerShardDatabaseFactory factory = new BillerShardDatabaseFactory(connectionStringProvider);

int billerId = 1;
IDatabase database = factory.Create(billerId);
Remarks
The BillerShardDatabaseFactory class uses the BillerShardConnectionStringProvider to create connection strings for specific biller shards. This ensures that each biller has its own database instance with the appropriate connection string.
 URL:/spaces/ED/pages/3874881673/ICDALSQL+BillerShardDatabaseFactory