The NachaFundingJob powers automated payment processing by generating NACHA-compliant ACH files using funding instructions from InvoiceCloud's Chase integration.
Key Features and Capabilities
Multi-provider support (currently JPMC)
NACHA spec compliance (94-character fixed-width ACH files)
Structured logging with Serilog and New Relic
Error handling with detailed reports
Azure Blob Storage integration
Kubernetes CronJob scheduling
Docker containerization
Technologies Used
.NET 8
Kubernetes (AKS)
Azure Blob Storage
Serilog + New Relic
Autofac (DI)
Docker
Architecture & Design
High-Level Architecture Diagram
(Insert diagram showing CronJob → API → NACHA Generator → Blob Storage → Monitoring)
Project Structure
wide
760
NachaFundingJob.CronJob       # Console app entry
NachaFundingJob.Core          # Domain models & logic
NachaFundingJob.Services      # Application services
NachaFundingJob.Repositories  # Data access
NachaFundingJob.UnitTests     # Test suite (92 tests)

Design Patterns Used
Clean Architecture
CQRS
Repository Pattern
Dependency Injection (Autofac)
API Endpoints
Funding Instruction Endpoints
GET /funding-instructions
 – Retrieves instructions
Health & Monitoring
Integrated with New Relic and Serilog
Authentication Requirements
HMAC-SHA256 authentication for API access
Security & Authentication
HMAC-SHA256 authentication mechanism
Shadow mode for development environments
Azure Key Vault for secrets and configuration
Non-root Docker user execution
Observability & Monitoring
Logging
Serilog with console and file sinks
New Relic integration
JobId and OperationId tracking
Metrics & Health Checks
Execution duration monitoring
Error file generation for failed jobs
Correlation Tracking
Unique identifiers across job lifecycle
Developer Experience
Swagger UI (for API exploration)
HMAC signature generator tool
99 tests covering unit, integration, edge cases
Docker support for local testing
Deployment & Configuration
Helm/Kubernetes Deployment
Scheduled CronJob: Daily at 5:00 PM UTC
Dev API: 
https://api-dev.invoicecloud-beta.com/biller/ic-chase-funding-api
Prod API: 
https://api.invoicecloud.com/biller/ic-chase-funding-api
Resource allocation: Dev (0.5 CPU, 0.5Gi), Prod (2 CPU, 2Gi)
Environment Variables
IcChaseFundingApi__BaseUrl
BlobContainerName
VaultName
DOTNET_ENVIRONMENT
Usage Examples
Sample NACHA Output
wide
760
101021000021012345678902508041530A094101JPMORGAN CHASE OUR COMPANY NAME
...

HMAC Signature Generation
 
(Insert example using HMAC tool)
Sample Requests
C#
Task<FundingInstructionsResponse> GetFundingInstructionsAsync(CancellationToken token);
Testing
Unit & Integration Tests
Builders (25)
Services (15)
Validators (20)
Storage (8)
Logging (10)
Integration (8)
Providers (6)
Coverage Statistics
99 tests
Full NACHA compliance
Edge case and performance testing
CI/CD & Automation
Automated README updater pipeline
Docker multi-stage builds
Helm deployment scripts
Support & Troubleshooting
Common Issues
No funding instructions from API
Validation errors
Blob storage access issues
Debugging Tips
Check Kubernetes pod logs
Review error files
Monitor New Relic dashboards
Contact & Help
Team Titans
Architect: Randy
Product Manager: Roopa
Technical Manager - Sudheendra
Licensing & Ownership
Proprietary InvoiceCloud solution
Owned by Team Titans
Maintained by Architect Randy and PM Roopa
 URL:/spaces/EA/pages/4688740386/NachaFundingJob-Solution+Documentation