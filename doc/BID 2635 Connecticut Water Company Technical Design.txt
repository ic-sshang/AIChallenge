TBD
Page Navigation
Jira ticket 
ITR
18091
Document status
Done
Green
Document owner
 
Solution engineer
 
File Mapping
Invoice File
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Extension: .XML
File Naming Convention: 
File Delimiter: N/A - tagged XML file
Specification: 
Sample File:
File Transfer Frequency: At billing file will be dropped in IC SFTP
Default Invoice Specs
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
1
RowType
N
TRUE
IC to populate
File Header
2
BillerGuid
N
TRUE
IC to populate
File Header
4
FileCreationDate
N
TRUE
IC to populate
File Header
5
InvoiceCount
N
TRUE
IC to populate
File Header
6
TotalInvoiceAmount
N
TRUE
IC to populate
File Header
7
RowType
N
TRUE
IC to populate
Invoice Header
8
RecordType
N
TRUE
IC to populate
Invoice Header
9
InvoiceFormatGuid
N
TRUE
IC to populate
Invoice Header
10
InvoiceNumber
Y
TRUE
IC to create InvoiceNumber using the account plus a timestamp (
yyyyMMddHHss
)
AccountNumber-UploadDate
Number
Document Order Invoice Number
Invoice Header
11
InvoiceDate
Y
TRUE
<DateInvoiceJulian_ID10>2021-03-19</DateInvoiceJulian_ID10>
Date  YYYY-MM-DD
Invoice Date
Invoice Header
12
InvoiceDueDate
Y
TRUE
<DateDueJulian_ID13></DateDueJulian_ID13
Date  YYYY-MM-DD
Due Date
Invoice Header
13
TotalAmountDue
Y
TRUE
<TOTALCHARGES_ID31></TOTALCHARGES_ID31>
Money
Current Amount Due
Invoice Header
23
FirstNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
24
SecondNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
25
ThirdNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
93
BalanceDue
Y
FALSE
<TotalCharges_ID31></TotalCharges_ID31>
Money
Current Charges
Invoice Header
58
RowType
N
TRUE
Customer Record
59
AccountNumber
Y
TRUE
<ServiceAgreementAccountI_ID70></ServiceAgreementAccountI_ID70>
Number
Account Number
Customer Record
60
CustomerName
Y
TRUE
<NameMailing_ID79></NameMailing_ID79>
String
Customer
Customer Record
61
Address1
Y
FALSE
<AddressLine1_ID89></AddressLine1_ID89>
Customer Record
62
Address2
Y
FALSE
<AddressLine2_ID91></AddressLine2_ID91>
Customer Record
63
City
Y
FALSE
<City_ID97>Bristol</City_ID97>
City
Customer Record
64
State
Y
FALSE
<State_ID99>CT</State_ID99>
State
Customer Record
65
Zip
Y
FALSE
<ZipCdeSoldToPostlCd_ID433></ZipCdeSoldToPostlCd_ID433>
<ZipCodePostal_ID101>
</ZipCodePostal_ID101>
Number
ZIP
Customer Record
70
RowType
N
TRUE
IC to populate
Invoice Detail
File Summary/Purpose: The purpose of this file is transfer Shutoff and Reminder bill/invoice data to IC from the biller
File Extension: .XML
File Naming Convention: 
CWC002_NOTICES_YEARMONTHDATEHHMMSS
File Delimiter: N/A - tagged XML file
Specification: 
 
Sample File: 
https://invoicecloud.app.box.com/file/1645000170421
 
File Transfer Frequency: At Shutoff file will be dropped in IC SFTP - 
 
Shutoff and Reminder Invoices
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
1
RowType
N
TRUE
IC to populate
File Header
2
BillerGuid
N
TRUE
IC to populate
File Header
4
FileCreationDate
N
TRUE
IC to populate
File Header
5
InvoiceCount
N
TRUE
IC to populate
File Header
6
TotalInvoiceAmount
N
TRUE
IC to populate
File Header
7
RowType
N
TRUE
IC to populate
Invoice Header
8
RecordType
N
TRUE
IC to populate
Invoice Header
9
InvoiceFormatGuid
N
TRUE
IC to populate
Invoice Header
10
InvoiceNumber
Y
TRUE
IC to create InvoiceNumber using the account plus a timestamp (
yyyyMMddHHss
) AccountNumber-UploadDate
Number
Document Order Invoice Number
Invoice Header
11
InvoiceDate
Y
TRUE
Date
Date YYYY-MM-DD
Document Print Date
Invoice Header
12
InvoiceDueDate
Y
TRUE
DATE_DUE_1_ID19
Date YYYY-MM-DD
Due Date
Invoice Header
13
TotalAmountDue
Y
TRUE
AmountOpen_ID31
Money
Current Amount Due
Invoice Header
23
FirstNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
24
SecondNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
25
ThirdNotifyRequestedDate
N
FALSE
BIF Customizations
Invoice Header
93
BalanceDue
Y
FALSE
AmountOpen_ID31
Money
Current Charges
Invoice Header
58
RowType
N
TRUE
IC to populate
Customer Record
59
AccountNumber
Y
TRUE
ServiceAgreementAccountI_ID40
Number
Account Number
Customer Record
60
CustomerName
Y
TRUE
NameMailing_ID49
String
Mailing Name
Customer Record
61
Address1
Y
FALSE
AddressLine1_ID52
Customer Record
62
Address2
Y
FALSE
AddressLine2_ID55
Customer Record
63
City
Y
FALSE
Cty_ID76
City_ID64
City
Customer Record
64
State
Y
FALSE
StateCode_ID79
State_ID67
State
Customer Record
65
Zip
Y
FALSE
ZipCodePostal_ID70
Number
ZIP
Customer Record
70
RowType
N
TRUE
IC to populate
Invoice Detail
Adjustment/Daily Balance File
File Extension: .TXT
File Naming Convention: CWC_DAILYARBALANCE.TXT
File Delimiter: comma ,
Specification: 
Sample File: 
File Transfer Frequency: Daily - file dropped in IC SFTP by biller
IC FileSpecID
IC Field Name
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Format
Partner Field Description
Partner Field Character Limit
Record Type
305
RowType
N
TRUE
IC to populate
File Header
306
BillerGuid
N
TRUE
IC to populate
File Header
308
FileCreationDate
Y
TRUE
Balance Date
Column 3 
Date - YYYMMDD
File Header
309
AdjustmentCount
N
TRUE
IC to populate
File Header
310
TotalAdjustmentAmount
N
TRUE
IC to populate
File Header
311
RowType
N
TRUE
IC to populate
Adjustment Record
313
AccountNumber
Y
TRUE
Account Number
Column 1
Number
Adjustment Record
314
AdjustmentAmount
Y
TRUE
Current Balance
Column 2
 Money
Adjustment Record
316
AdjustmentTypeID
N
TRUE
IC to populate
Adjustment Record
Payment/Lockbox File
File Extension: .txt
File Naming Convention: CTW_ACH_MMDDYYYY.txt - for EFT/ACH Payments, CTW_CREDITCARD_MMDDYYYY.txt - for Credit Cards, CTW_PP_MMDDYYY.txt - for PayPal.
File Delimiter: Fixed Width file
Specification: 
Sample File:
File Transfer Frequency: Daily at IC Batch Close 
Notes: One payment file in the same format per the following Payment Types: EFT/ACH, Credit Card, and PayPal. Three payment files in total.
Field
Data Type
File Record Type
Start Position
End Position
Length
Format
Values
Type
String
Detail Record
1
2
2
Always “CD”
Batch Number
Detail Record
3
5
3
Always “001”
Item Number
Detail Record
6
9
4
Sequence of payment in file - start at 0001 through 9999
Sequence Number
Detail Record
10
13
4
Always “0001”
Payment Code
Detail Record
14
18
5
“EBPCC” for Credit Card file and “EBPCK” for EFT/ACH file. “EBPPP” for PayPal payment sources.
Date
Detail Record
19
24
6
Payment Date MMDDYY
Not Used
Detail Record
25
31
7
Always '0000000'
Account Number
Detail Record
32
41
10
Account Number - right justified, pad left with 0 values
Not Used
Detail Record
42
42
1
Always Blank
Payment Amount
Detail Record
43
51
9
Amount paid - no decimal example: $123.45 would show in file as 12345
Not Used
Detail Record
52
52
1
Always Blank
Company Number
Detail Record
53
57
5
Always “00001”
Not Used
Detail Record
58
75
18
Always Blank
Source
Detail Record
76
80
5
“EBPCC” for Credit Card and “EBPCK” for EFT/ACH
Type
String
Footer Record
1
2
2
Always “CT”
Record Count
Numeric
Footer Record
3
7
5
Count of transactions in the detail record
Payment Code
String
Footer Record
8
12
5
“EBPCC” for Credit Card file and “EBPCK” for EFT/ACH file. “EBPPP” for PayPal payment sources.
Date
Date MMDDYYYY
Footer Record
13
18
5
Date of file creation MMDDYYYY
Not Used
String
Footer Record
19
36
18
Always '00000009999999999 '
Transaction Total
Numeric
Footer Record
37
45
9
Sum total of all transactions in Detail Record, left padded with zeros.
Not Used
Footer Record
46
80
35
Always Blank
Change Log File
File Extension: .txt
File Naming Convention: IC Standard naming convention
File Delimiter:  pipe
Specification: Standard IC change log
Sample File:
File Transfer Frequency:  Daily at batch close
Field
Data Type
Character Limits
Format
Values
Account Number
Varchar 
30 
Account Number from IC database
AP Enrollment
Datetime
MMDDYYYYHHMMSS
Date customer completed enrollment in AutoPay
AP Un-Enrollment
Datetime
MMDDYYYYHHMMSS
Date customer completed un - enrollment in AutoPay
Email
Varchar
100
Customer email address
Email Address change date
Datetime
MMDDYYYYHHMMSS
Date email address was change on IC
Phone Number
Varchar 
15
Phone number of the customer
Phone Number change date
Datetime
MMDDYYYYHHMMSS
Date phone number was changed on IC
Paperless Enrollment
Datetime
MMDDYYYYHHMMSS
Date customer completed enrollment in paperless
Paperless Un-enrollment
Datetime
MMDDYYYYHHMMSS
Date customer un-enrolled in paperless
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A, in BIF, on biller questionnaire 
AllowPartialPayments
Y
AutoPayCollectionDate
BIF Customization
BalanceForward
Y
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
Set per questionnaire
InvoiceDate
In Invoice File
InvoiceDueDate
In Invoice File
InvoiceFormatGuid
OSG PDF Remote Linking, previously known as DivDat
InvoiceTypeID
Set in CRM
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
N/A
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
Set per Questionnaire
ThirdNotifyRequestedDate
Set per Questionnaire
User Interaction and Design
Data Flow - Invoice
Biller will upload XML file via SFTP - standard Batch integration
Data Flow - Adjustments
Biller will upload .TXT file via SFTP - standard Batch integration
Data Flow - Payment
IC will create two .txt payment files for CT Water in SFTP. One file for Credit Cards and one file for EFT/ACH
Data Flow - ACH Reject
EFT/ACH rejects will be reported on the Biller Portal only
Data Flow - Change Log
Standard IC Change Logs will be created to SFTP
Data Flow - Bill Presentment
CT Water will use OSG Bill Presentment API - IC has already coded to this in Clark County Water Reclamation District when it was known as DivDat
IC will send a Change Log via SFTP, this will be consumed by the CIS system. A Print Suppression file is generated along with the regular bills for OSG - paperless bills will render a PDF for their archive that IC will obtain via OSG Bill Presentment API.
Payer Experience
Payers will access Invoice Cloud from the Biller website (URL redirect). Payers will use the IC Virtual Site and Customer Portal.
Biller Experience
Biller’s clerks will access InvoiceCloud from the biller portal
User Stories
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
ITG-3377
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
TBD
incorrect mapping for state, city - Invoices_Shutoffs_Reminders
zipcode - ConnecticutWaterCompany_Invoices_Base.vb
mapping updated to 
<Cty_ID76> but should be <City_ID64>_
<StateCode_ID79> but should be <State_ID67>
<ZipCodePostal_ID101>
 URL:/spaces/IM/pages/1582661989/BID+2635+Connecticut+Water+Company+Technical+Design