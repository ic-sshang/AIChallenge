Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation
Jira ticket 
INT-3948
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Release Date
8/4/2022
Document status
Complete
Green
Document owner
 
Solution engineer
 
Knowledge Transfer
API Documentation
Note*** each portal will have a separate url with a different county code. The county code will be hardcoded in the advanced setting for the url because it is a 1:1 relationship between county code and portal.
Details
IC Use
Partner API Name
Request
Specifications
Bill Linking: Bill Presentment
Tax Bill
https://zql5eek2ua.execute-api.us-east-2.amazonaws.com/prod/taxbill
?county=[CODE]&
dup=[DUP_NUMBER]
URL SHOULD BE ALL LOWER CASE
CODE = See API Specification for more info
Allen County = 02
DUP_NUMBER - the Duplicate Number of the account, this is stored as the account number and in Custom2
File Mapping
Invoice File
File Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Extension:  .txt
File Naming Convention: 
File Delimiter:  ',' comma separated
Specification
: 
The first table is all the available fields, Copy A is spring, Copy B is fall, and Copy C is full year. They all combine to show as one line in the export file
Sample File: 
New file format for 2023
SFTP File Path:
File Transfer Frequency: Daily They will not be sending mid year bills
Logic Summary:
Balance forward logic
:
 Balance forward is from year to year (but not within year, from the two installments). To accomplish this the second installment will have balance forward set to 1 and the first installment will be zeroed out through adjustment file.
Installment Explanation:
 Each yearly bill is broken up into two installments (Spring and Fall). Two bills will be created for each account. The different fields are labelled for 1st installment and 2nd installment when applicable.
File Split
: They are sending the same file for adjustments and invoices so it has to be split (see context below and examples in the ‘Field Mapping’):
The split will attempt to match a generated invoice number on all invoices in the biller’s portal.
There will be two installments for each line in the main file. The invoice number is generated using the following format: 
AccountNumber-BillerBillYear-InstallmentNumber(1 and 2)
.
If there is a match for the invoice number (including the installment number) we check if the balance differs on our system (Note that this check short-circuits; if we find that the balance is different for the first installment, we add the line to the adjustment file and move on) 
If the balance is the same, then we check for installment 2. If the balance for installment 2 is different, then we will add the line to the adjustment file. Otherwise, we skip the line and move on to the next one.
If there are no matches for the first of the installments, we will add the line to the invoice file and move on to the next line.
If there are no matches for either of the installments, we will add the line to the invoice file and move on to the next line. (Note that this check short-circuits; if we can’t find the first installment, we add the line to the invoice file and move on) 
Field Mapping
In this example, here is a record from the invoice file and context on the ‘match’ process to 
create new invoices
:
Invoice Number Formats:
Installment One: 
IC AcountNumber-IC BillerBillYear-1
 => 
ParcelNumber
-
Tax Year + Payable Year (Tax Year ONLY)
-
1 (Hardcoded)
 
Installment Two: 
IC AccountNumber-IC BillerBillYear-2
 => 
ParcelNumber
-
Tax Year + Payable Year (Tax Year ONLY)
-
2 (Hardcoded)
 
Line 1 will yield invoice number 1853566-2022-1 and no match will be found since it is not in the portal yet. So we add the line to the invoice file and we move on to line 2.
Line 2 will yield invoice numbers 1910334-2022-1 and no match will be found since it is not in the portal yet. So we add the line to the invoice file and we move on to line 3 and so on.
text
County Number,County Name,Parcel Number,Duplicate Number,Tax Year + Payable Year,Taxing Unit Name,Legal Descriptions,Spring Balance Due,Fall Balance Due,Billed-To Name,Billed-To Address Line One,Billed-To Address Line Two,Billed-To Address Line Three,Billed-To Address Line Four,Treasurer Phone Number,Treasurer WebSite,Treasurer Addressline One,Treasurer Addressline Two,Treasurer Addressline Three,OCR,Property Address Line, Property Type,Township,Acres,LIT Credit Desc A,LIT CreditDesc B,LIT CreditDesc C,LIT CreditDesc D,LIT Credit Rate A,LIT Credit Rate B,LIT Credit Rate C,LIT Credit Rate D,Spring Tax, Spring Other Assessment,Spring Delinquent Tax,Sprint Delinquent Penalty,Spring Delinquent Other Assessment Tax,Spring Delinquent Other Assessment Penalty,Spring Fees, Spring Property Adjustments,Spring Other Assessment Adjustments,Less Spring Payments,Fall Tax, Fall Other Tax,Fall Delinquent Tax,Fall Delinquent Penalty,Fall Delinquent Other Assessment Tax,Fall Other Assessment Penalty,Fall Fees, Fall Property Adjustment, Fall Other Assessment Adjustments,Less Fall Payments,Date of Statement,Biller Mortage Company,Spring Total Adjustments,Fall Total Adjustments,Spring Amount Due,Fall Amount Due,Total Due,Tax ID Number
"2","Allen","02-07-36-334-034.000-074","1853566","2022 Payable 2023","FW  Wayne","Lot 6 & E 8.5' Lot 5 Schorrs 2nd Addition","0.00","0.00","Neuendorf Christel Ann & James Arthur","1428 Calle Aloa","Ponce PR  00717","","","(260)449-7693","AllenCountyTreasurer.us/(844)576-2177","PO Box 2540","Fort Wayne IN  46801-2540","","T","1053 Delaware Ave, Fort Wayne IN 46805","Real","Wayne","0.0000","Total AV PTRC Rate","LIT 1% Rate","","","6.157000","6.549700","","","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","12/06/2022","CoreLogic (CL)","0.00","0.00","0.00","0.00","0.00","02-07-36-334-034.000-074","1-844-576-2177"
"2","Allen","02-12-11-285-005.000-074","1910334","2022 Payable 2023","FW  Wayne","E 1/2 Lot 180 Hamiltons 4th Add","0.00","0.00","Bailey Grace","PO Box 11671","St Thomas VI  00801","","","(260)449-7693","AllenCountyTreasurer.us/(844)576-2177","PO Box 2540","Fort Wayne IN  46801-2540","","T","218 E Masterson Ave, Fort Wayne IN 46803","Real","Wayne","0.0000","Total AV PTRC Rate","LIT 1% Rate","","","6.157000","6.549700","","","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","12/06/2022","CoreLogic (CL)","0.00","0.00","0.00","0.00","0.00","02-12-11-285-005.000-074","1-844-576-2177"
In this example, here is a record from the invoice file and context on the ‘match’ process to 
process the record as an adjustment
:
Line 1 will yield invoice number 1853566-2022-1 and a match will be found since it is in the portal, so we check if the balance in the portal is different. If it is not different, we check the next installment which is 1853566-2022-2, if the balance is the same still we move on to line 2.
Line 2 will yield invoice number 1910334-2022-1 and a match will be found since it is in the portal, so we check if the balance in the portal is different. If it is different, we add the line to the adjustment file and then move on to line 3 and so on.
County Number,County Name,Parcel Number,Duplicate Number,Tax Year + Payable Year,Taxing Unit Name,Legal Descriptions,Spring Balance Due,Fall Balance Due,Billed-To Name,Billed-To Address Line One,Billed-To Address Line Two,Billed-To Address Line Three,Billed-To Address Line Four,Treasurer Phone Number,Treasurer WebSite,Treasurer Addressline One,Treasurer Addressline Two,Treasurer Addressline Three,OCR,Property Address Line, Property Type,Township,Acres,LIT Credit Desc A,LIT CreditDesc B,LIT CreditDesc C,LIT CreditDesc D,LIT Credit Rate A,LIT Credit Rate B,LIT Credit Rate C,LIT Credit Rate D,Spring Tax, Spring Other Assessment,Spring Delinquent Tax,Sprint Delinquent Penalty,Spring Delinquent Other Assessment Tax,Spring Delinquent Other Assessment Penalty,Spring Fees, Spring Property Adjustments,Spring Other Assessment Adjustments,Less Spring Payments,Fall Tax, Fall Other Tax,Fall Delinquent Tax,Fall Delinquent Penalty,Fall Delinquent Other Assessment Tax,Fall Other Assessment Penalty,Fall Fees, Fall Property Adjustment, Fall Other Assessment Adjustments,Less Fall Payments,Date of Statement,Biller Mortage Company,Spring Total Adjustments,Fall Total Adjustments,Spring Amount Due,Fall Amount Due,Total Due,Tax ID Number
"2","Allen","02-07-36-334-034.000-074","1853566","2022 Payable 2023","FW  Wayne","Lot 6 & E 8.5' Lot 5 Schorrs 2nd Addition","0.00","0.00","Neuendorf Christel Ann & James Arthur","1428 Calle Aloa","Ponce PR  00717","","","(260)449-7693","AllenCountyTreasurer.us/(844)576-2177","PO Box 2540","Fort Wayne IN  46801-2540","","T","1053 Delaware Ave, Fort Wayne IN 46805","Real","Wayne","0.0000","Total AV PTRC Rate","LIT 1% Rate","","","6.157000","6.549700","","","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","12/06/2022","CoreLogic (CL)","0.00","0.00","0.00","0.00","0.00","02-07-36-334-034.000-074","1-844-576-2177"
"2","Allen","02-12-11-285-005.000-074","1910334","2022 Payable 2023","FW  Wayne","E 1/2 Lot 180 Hamiltons 4th Add","0.00","0.00","Bailey Grace","PO Box 11671","St Thomas VI  00801","","","(260)449-7693","AllenCountyTreasurer.us/(844)576-2177","PO Box 2540","Fort Wayne IN  46801-2540","","T","218 E Masterson Ave, Fort Wayne IN 46803","Real","Wayne","0.0000","Total AV PTRC Rate","LIT 1% Rate","","","6.157000","6.549700","","","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","0.00","12/06/2022","CoreLogic (CL)","0.00","0.00","0.00","0.00","0.00","02-12-11-285-005.000-074","1-844-576-2177"
...
...
IC FileSpecID
IC Field
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Description
Record Type
1
RowType
N
TRUE
Set by IC (Always FH)
File Header
2
BillerGuid
N
TRUE
Set by IC
File Header
4
FileCreationDate
N
TRUE
Set by IC
File Header
5
InvoiceCount
N
TRUE
Set by IC
File Header
6
TotalInvoiceAmount
N
TRUE
Set by IC
File Header
7
RowType
N
TRUE
Set by IC (Always IH)
Invoice Header
8
RecordType
N
TRUE
Set by IC (Always 'N')
Invoice Header
9
InvoiceFormatGuid
N
TRUE
Set by IC
Invoice Header
10
InvoiceNumber
Y
TRUE
1st Installment: 
DuplicateNumber-TaxYear-1 
2nd Installment:  DuplicateNumber-TaxYear-2
In IC this corresponds to AccountNumber-BillerBillYear-InstallmentNumber (
1+2 are hardcoded)
Duplicate Number: Position 4
Tax Year: Position 5 (only take the first date before the word Payable)
Invoice Header
11
InvoiceDate
Y
TRUE
Date of Statement
Field 53
Invoice Header
12
InvoiceDueDate
Y
TRUE
1st Installment:
 
Hardcode to 5/10/Payable Year
2nd Installment
: 
Hardcode to 11/10/Payable Year
Due date is not sent in file, it will generally be these dates unless that falls on a weekend. In that case it will be decided by biller.
The biller will have to edit date if it does not fall then when they upload bill (only once yearly)
Payable Year = Position 5, value after word Payable )
Invoice Header
13
TotalAmountDue
Y
TRUE
1st installment: Spring Amount Due
2nd installment: Fall Amount Due
Spring Amount Due- Position 57
Fall Amount Due-Position 58
Invoice Header
38
Custom1
Y
FALSE
Parcel Number
Position 3
Invoice Header
39
Custom2
Y
FALSE
Duplicate Number
Position 4
Invoice Header
40
Custom3
Y
FALSE
Total Due
Position 59
Invoice Header
41
Custom4
Y
FALSE
Tax ID Number
Position 60
Invoice Header
42
Custom5
Y
FALSE
Property Address Line
Position 
21
Invoice Header
43
Custom6
Y
FALSE
Spring Tax
Position 33
Invoice Header
44
Custom7
Y
FALSE
Fall Tax
Position 43
Invoice Header
93
BalanceDue
Y
FALSE
1st installment: 
Spring Balance Due
2nd installment: Fall balance due
Spring balance due: Position 8
Fall balance due: Position 9
Invoice Header
194
BalanceForward
N
1st installment: No 
2nd installment: Yes
(Do not want second installment to balance forward the first)
252
InvoiceTypeID
N
T
8 - Real Estate
345
BillerInstallmentNumber
Y
FALSE
1st installment - 1
2nd installment - 2
Invoice Header
346
BillerBillYear
Y
FALSE
Tax Year
Tax Year: Position 5 (only take the first date before the wordsPayable)
Invoice Header
58
RowType
N
TRUE
Set by IC (Always CR)
Customer Record
59
AccountNumber
Y
TRUE
Duplicate Number
Position 4
Customer Record
60
CustomerName
Y
TRUE
Billed-To Name
Position 10
Customer Record
61
Address1
Y
FALSE
Start at Position 13 and iterate down until field is not blank, if blank. This field should be city, state, zip. Concatenate all the fields before city / state / zip for the address
Customer Record
62
Address2
Y
FALSE
Billed to Address Line 2
 Position 12
Customer Record
63
City
Y
FALSE
Start at Position 13 and iterate down until field is not blank, if blank. This field should be city, state, zip. Not exact but most reliable way according to software partner
Position 12
Position 13
Customer Record
64
State
Y
FALSE
Start at Position 13 and iterate down until field is not blank, if blank. This field should be city, state, zip. Not exact but most reliable way according to software partner
Position 12
Position 13
Customer Record
65
Zip
Y
FALSE
Start at Position 13 and iterate down until field is not blank, if blank. This field should be city, state, zip. Not exact but most reliable way according to software partner
Position 12
Position 13
Customer Record
373
DisplayAccountNumber
Y
FALSE
Parcel Number
Position 3
Customer Record
70
RowType
N
TRUE
set by IC (ID)
Invoice Detail
Adjustment/Daily Balance File
File Summary/Purpose: IC receives one file for adjustments and invoices so it has to be split.
File Extension: .txt
File Naming Convention:  N/A
File Delimiter: , (Comma delimited)
Specification: 
Sample File: 
SFTP File Path:
File Transfer Frequency: Daily
Each Row in the daily file will produce two adjustment records, one for first half and one for second half
The adjustment file is generated by biller file split. See the 
Invoice File 
section to see details on how the split process works.
Field Mapping
IC FileSpecID
IC Field Name
In File (Y/N)
Required (T/F)
Partner Field Name
Partner Field Description
Record Type
305
RowType
Y
TRUE
set by IC, always ‘AH’
File Header
306
BillerGuid
Y
TRUE
set by IC
File Header
308
FileCreationDate
Y
TRUE
Set by IC
File Header
309
AdjustmentCount
Y
TRUE
Set by IC
File Header
310
TotalAdjustmentAmount
Y
TRUE
Set by IC
File Header
311
RowType
Y
TRUE
set by IC, always ‘AR’
Adjustment Record
312
InvoiceNumber
Y
FALSE
DuplicateNumber-TaxYear-1 AND DuplicateNumber-TaxYear-2
Duplicate Number: Position 4, Tax Year Position 5 (Before word Payable)
Adjustment Record
313
AccountNumber
Y
TRUE
DuplicateNumber
Position 4
Adjustment Record
314
AdjustmentAmount
Y
TRUE
For Installment 1: Spring Balance Due
For Installment 2: Fall Balance Due
Spring Balance Due: Position 8
Fall Balance Due: Position 9
Adjustment Record
316
AdjustmentTypeID
Y
TRUE
2 (balance differential)
Adjustment Record
Conveyance File
File Summary: IC receives one file for adjustments, conveyance and invoices so it has to be split.
The conveyance file is generated by biller file split. If an account is received in the Invoice File with a different name while creating the adjustment file, a conveyance file will be created to convey the account which has a new name. The next day, an invoice will be created with the new Invoice File since the daily file will always contain an account invoice. 
See the 
Invoice File 
section to see details on how the split process works.
Please ensure that the biller has an FTP folder that will be used to contain the split conveyance file and the biller has a BillerFileSplit task entry in table itg.BillerFileSplit on database DBMaster_GoldAzure and that the task is Active. Additionally ensure that the path to the FTP folder that will be used to contain the split conveyance file is contained in the “ConveyancePath” field on the biller’s BillerFileSplit task entry. Example Data Services Case: 
DBR-4867
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
File Extension:  .txt
Specification: N/A
Sample File: 
File Specs: 
File Delimiter: , (Comma delimited)
SFTP File Path: 
\HendricksCountyIN\ToInvoiceCloud\Conveyance\
Field Mapping
IC FileSpecID
IC Field Name
In File (Y/N)
Required (T/F)
Partner Field Name
Record Type
358
RowType
 N
TRUE
 set by IC - CH
File Header
359
BillerGuid
 N
TRUE
 set by IC
File Header
361
FileCreationDate
 N
TRUE
 set by IC - Date file was created
File Header
362
ConveyanceCount
 N
TRUE
 set by IC
File Header
363
RowType
 N
TRUE
 set by IC - CC
Conveyance Record
364
CurrentICAccountNumber
 N
TRUE
Duplicate Number - Position 4
Conveyance Record
365
NewAccountNumber
N
FALSE
set by IC
Conveyance Record
366
BlockPaymentsCC
 N
TRUE
1
Conveyance Record
367
BlockPaymentsACH
 N
TRUE
1
Conveyance Record
369
Active
 N
TRUE
0
Conveyance Record
374
ConveyInvoiceNumber
 N
FALSE
1
Conveyance Record
Payment/Lockbox File
File Summary/Purpose: The purpose of this file is transfer payment data from IC to the biller
File Extension:  CSV
File Naming Convention: N/A
File Delimiter:  ',' comma delimited
Specification:
 ACH Rejects, Credits, Chargebacks not included
Sample File:
SFTP File Path: 
File Transfer Frequency: Daily
Field Mapping
Header Record
Field
Values
1
IC Account Number (“DuplicateNumber”)
2
IC Payment Amount (“Amount”)
3
IC _____ (
“CheckNumber”
)
4
IC Payment Date (“Date”)
Detail Record
Field
Values
DuplicateNumber
AccountNumber (Without Conveyance addition; EX: CV-10292024215617 needs to be removed)
Amount
Payment Amount (SPROC returns payment amount without service fee which is the desired effect, service fee not included)
CheckNumber
Would like to set approval code but can default to 0 if needed
 (Max Length 50)
Date
Date of Payment MM/DD/YYYY not padded with 0s
Advanced Settings
Setting ID
Description
Value
Details and Logic
Is value unique per biller? (Y/N)
20
Remote PDF EndPoint/WebService URL	
Remote PDF URL
Y
131
JSON Configuration
{ "LOW": { "BillerFileSplitConfiguration": { "ProcessConveyance": true } } }
This is a required setting in order to setup automated conveyance for Billers. 
N
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A, in BIF, On Biller Quesitonnaire - BIF customization
AllowPartialPayments
Biller Quesitonnaire - BIF customization
AutoPayCollectionDate
Biller Quesitonnaire - BIF customization
BalanceForward
DO NOT SET - handled in integration code
CreditCardServiceFee
Biller Quesitonnaire - BIF customization (not needed)
FirstNotifyRequestedDate
Biller Quesitonnaire - BIF customization
InvoiceDate
Biller Quesitonnaire - BIF customization (not needed)
InvoiceDueDate
Biller Quesitonnaire - BIF customization (not needed)
InvoiceFormatGuid
Biller Quesitonnaire - BIF customization (not needed)
InvoiceTypeID
Biller Quesitonnaire - BIF customization (not needed)
LateFeeDate
Biller Quesitonnaire - BIF customization
LocationReference
Biller Quesitonnaire - BIF customization
MinimumAmountDue
Biller Quesitonnaire - BIF customization
PaymentExpirationDate
Biller Quesitonnaire - BIF customization
PaymentExpirationMessage
Biller Quesitonnaire - BIF customization
PromptPayExpirationDate
Biller Quesitonnaire - BIF customization (not needed)
RegistrationValue
Biller Quesitonnaire - BIF customization (not needed)
SecondNotifyRequestedDate
Biller Quesitonnaire - BIF customization
ThirdNotifyRequestedDate
Biller Quesitonnaire - BIF customization
User Interaction and Design
Data Flow - Invoice
att2276065281
2266890241
1
Chart1
IM
att2276032513
att2275999745
0
Data Flow - Adjustments
att2276196353
2266890241
1
Chart2
IM
att2276163585
att2276130817
0
Data Flow - Payment
att2277179419
2266890241
1
Chart5
IM
att2277638151
att2277146641
0
Data Flow - Bill Presentment
att2275573780
2266890241
1
Chart6
IM
att2276655117
att2276917257
0
Payer Experience
att2276098077
2266890241
1
Chart7
IM
att2277474324
att2277146646
0
Biller Experience
Biller Portal
Invoice Cloud Web Services
API Name
API Use/Purpose
N/A
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
INT-5833
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
March 2023
No mapping for displayaccountnumber
Add mapping for displayaccountnumber
The biller wants to be able to search by ParcelID in the biller portal. Adding this mapping allows that functionality. 
Proposed Bill Rollover Approach (Not Yet Implemented)
LOW CIS closes out bills for the existing tax year before the biller is ready / able to issue bills for the following year. For example, there will be a period of time where 2022 bills are closed, 2023 bills are made, but most 2023 bills are for 0$ because they have not yet been calculated. Users that are delinquent will have the next year’s bills made with their delinquent balance. The daily file will now have the new year in it, triggering bill creation and and causing adjustments to try to be on the next year’s bills.
When the biller later calculates the bill file for the year, the balances will change (from 0$ or delinquent amount, to the newly calculated amount) and would be adjusted in the daily adjustment file.
Proposed solution
: IC will make the new bills (most with 0$ balance), this should happen automatically. An Int Mod needed to create an advanced setting for the biller can set when they would like the first notification to go out (will likely be months after the rollover when billing actually occurs, and could vary from biller to biller). This change should take into account how the biller will handle payment plans / flex pay.
Additional change
 - During design the intended approach for balance forward was 
Balance forward is from year to year (but not within year, from the two installments). To accomplish this the second installment will have balance forward set to 1 and the first installment will be zeroed out through adjustment file.
It does not seem they are sending a 0$ adjustment to 0 out the first installment at the end of the year
My recommendation is that during the file split process, if a a new bill is made (eg accountnumber-2023-1) it should make an adjustment to 0 out the previous year (eg accountnumber-2022-1 and maybe accountnumber-2022-2)
 URL:/spaces/IM/pages/2266890241/LOW+Technical+Design