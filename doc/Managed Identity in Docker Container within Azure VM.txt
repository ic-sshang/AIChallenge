In order to be able to locally test a Docker Container with Managed Identity, the Docker Container must be running inside an Azure VM with the Managed Identity assigned to the Azure VM. The reason for this is because of the 
Azure Instance Metadata Service for virtual machines
 which is used in the Azure.Identity Library for generating an Azure Access Token. 
Additionally, an L2Bridge must be created using DockerCLI in order for the docker container to be able to communicate with the Azure IMDS REST API that is only reachable from within an Azure VM. In order to create this first you must get the subnet, DNS, and gateway details of your NIC. Open a CMD window and enter the following command.
ipconfig /all
Next, ensure that docker is running and perform the following command with your retrieved values in place of #.#.#.# to create an l2bridge. *outboundant_exception is optional*
docker network create -d l2bridge --subnet=#.#.#.#/## -o com.docker.network.windowsshim.dnsservers=#.#.#.#,#.#.#.# --gateway=#.#.#.# -o com.docker.network.windowsshim.enable_outboundnat=true -o com.docker.network.windowsshim.outboundnat_exceptions=#.#.#.#/## winl2bridge
Note: When creating the l2bridge you will be disconnected and experience downtime while the bridge is being created. A restart may be necessary if downtime is taking long.
After creating the network bridge enter the following docker command to verify that the network is created.
docker network list
If the network is listed you may now do a docker run command and run a local docker container.
docker run --network=winl2bridge icdatabaseservice01
Note: The docker container will have its own IP address so you will have to open a external terminal within the docker container to retrieve it if needed.
 URL:/spaces/PMK/pages/4309712939/Managed+Identity+in+Docker+Container+within+Azure+VM