Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira tickets
Document status
Complete
Green
 
Document owner
 
 
Solution engineer
 
Invoice Cloud Web Services
The information in the Invoice Cloud Web Services section reflects the information provided to Invoice Cloud at the time of Discovery and Design. It is possible for this information to be updated at any time by a biller or CIS Vendor without notifying Invoice Cloud.
Single Sign On
Purpose/Summary: Cloud SSO Connect is Invoice Cloud’s Implementation of a Single Sign On into the Invoice Cloud portal. This feature allows Billers and/or Partners to create a seamless experience for the Customer between Partner/Biller and Invoice Cloud systems, while keeping the scope of PCI compliance at a minimum for Partners and Billers.
Util360 Portal Login Flow:
Data Sync with Invoice Cloud
Configuration
SSOConnect Details
API Key:  For each new biller, My360 is required to change the API key specific for each biller.
Field
Required
Comments
Partner Specification
RemoteAuthenticationToken
Yes
Token is provided from Remote Authentication Web Service.
Token is provided from Remote Authentication Web Service.
ViewMode
Yes
Value is required to identify how the Customer is accessing the Invoice Cloud pages.
Always 
1
 = iFrame
RedirectID
Yes
Value is required to be able to redirect the Customer to the requested page. 
1
 = Customer Portal Recent Bill Listing
2
 = Customer Portal Paperless Settings
3
 = Customer Portal AutoPay Settings
5
 = Customer Portal Payment Options
9
 = Customer Portal Scheduled Payments Listing
CSSUrl
No
My360 displays Invoice Cloud in an iFrame and has created a custom CSS URL.
https://www.invoicecloud.com/ssotest/sso-gmp.css
ReturnUrl
No
When this value is provided, the customer will be redirected to the provided URL after clicking the sign out button.
N/A
CustomReturnSiteName
No
When a 
ReturnUrl
 is provided, the tooltip text of the sign out button will change to “Sign out and Return to 
<SiteName>
”. 
<SiteName>
 defaults to the Biller DBA but can be customized by providing a value for 
CustomReturnSiteName
.
N/A
User Stories:
Util360 Portal + InvoiceCloud Single Sign-On (SSO)
Workflow
Story
Assumptions & Requirements
Steps
Web Services 
Sample
User Access
User navigates to My360 portal and try to log in the account. 
Assumptions:
The user knows their login credentials
Check to see if login successful:
If login successfully:
Authenticate Account(s)
Acquire Remote Authentication Token
Retrieve CustomerGUID
Retrieve User Accounts
Sync all accounts of Invoice Cloud
If login failed:
Register Account(s)
Authenticate Account(s)
Acquire Remote Authentication Token
REST- Remote Authentication- Retrieve Users
If login successfully: 
REST- Remote Authentication- Remote Authentication
REST - Customer Portal-Retrieve CustomerGUID
REST- Remote Authentication- Retrieve User Accounts
If login failed:
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
Login Page
User Registration
User navigates to My360 portal and registers through the member portal. After registration 
Assumptions:
My360 does not know if a Payer is registered with InvoiceCloud.
My360 stores Remote Authentication Token (per session) for use in 
CloudSSO Redirect User using the pre-defined URL.
Requirement:
LoginTypeID (REST- Remote Authentication- Register Accounts) is always = 1
Check to see if account exists in invoice cloud and if it is registered.
If account does not exist:
Create Customer Record
Register Account(s)
Authenticate Account(s)
Registered User Payments workflows
If account does exist and is not registered:
Register Accounts
Authenticate Account(s)
Registered User Payments workflows
If account does exist and is registered:
Authenticate Account(s)
Registered User Payments workflows
REST- Remote Authentication- Retrieve Users
If account does not exist:
REST- Customers- Create Customer Record
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
If account does exist and is not registered:
REST- Remote Authentication- Register Accounts
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
If account does exist and is registered:
REST- Remote Authentication- Remote Authentication
CloudSSO iFrame
Create an Account in My360
Enter New Password
Dashboard
Unregistered User Payment 
An unregistered user tries to make a one-time payment
Requirement: 
Set ‘CreateCustomerRecord’ to TRUE
My360 will redirect Payer to InvoiceCloud Virtual Site.
Invoice Cloud Virtual Site
“Pay Now”  
Virtual Site
Registered User Payment 
A registered user is logged in and makes payments on a account.
Assumption:
User is already registered and authenticated
My360 stores Remote Authentication Token from Remote Authentication web service
My360 redirects (iFrame) to Customer Portal Recent Bill Listing
CloudSSOConnect (redirect 1 = Customer Portal Recent Bill Listing)
View & Pay Bills
Partial Payment for two Invoices
Payment Receipt
Managed Scheduled Payments
A registered user is logged in to My360 portal and navigates to IC screen to  update or cancel a scheduled payment.
Assumption:
User is already registered and authenticated
My360 redirects (iFrame) to Scheduled Payments screen
CloudSSOConnect (redirect 9 = Customer Portal Scheduled Payments Listing)
Paperless Enrollment
A registered user is logged in to My360 portal and navigates to IC screen to enroll or unenroll paperless option
Assumption:
User is already registered and authenticated
My360 redirects (iFrame) to Customer Portal Paperless Settings screen
CloudSSOConnect (redirect 2 = Customer Portal Paperless Settings
)
Paperless
AutoPay Enrollment
A registered user is logged in to My360 portal and navigates to IC screen to enroll or unenroll autopay option
Assumption:
User is already registered and authenticated
My360 redirects (iFrame) to Customer Portal AutoPay Settings screen
CloudSSOConnect (redirect 3 = Customer Portal AutoPay Settings
)
AutoPay
Update Email and Password
Registered user logs into the My360 portal and updates their password.
Assumptions: 
Neptune has the current email address and password of the user.
Requirement: 
IC should not allow user to update password to maintain password information in sync.
Neptune verify if Email and Password are the same as IC.
Yes: call IC update password and email API
No: Send verification email to stored account user email address. Once it’s approved, then call IC updated password and email API.
REST- Remote Authentication- Update Password
Update Email Address
Manage Payment Methods
A registered user is logged in to My360 portal and navigates to IC screen to store, update or remove payment methods.
Assumption:
User is already registered and authenticated
My360 redirects (iFrame) to Payment Methods screen
CloudSSOConnect (redirect 5 = Customer Portal Payment Options)
Saved Payment Methods
Manage Accounts
A registered user is logged in to My360 portal and add/remove an additional account to the current account view.
Assumption:
User is already registered and account exists. 
My360 calls Invoice Cloud Web Service Link Accounts
My360 calls Invoice Cloud Web Service Unregister Accounts
Note: IC does not have “Unlink” account. Unregister account will automatically remove linked accounts 
REST- Remote Authentication-
Link Accounts
Unregister Accounts
Link an Account
Delete an Account(Unregister)
Cloud Payments V2
Purpose/Summary:  LeadsOnline CPV2 integration allows registered users to make Police Fee payments. This solution, where user registration/sign-in occurs within LeadsOnline (external to InvoiceCloud), generates both a new customer and invoice on the fly.
Sample Request
CloudPayv2 Request:
{
  "CreateCustomerRecord": true,
  "Customers": [
    {
      "AccountNumber": "209860",
      "Name": "Jon Halgren",
      "Address": "6750 W Peoria Ave",
      "City": "Peoria",
      "State": "Arizona",
      "Zip": "85345",
      "EmailAddress": "hitsandmisss@gmail.com",
      "Invoices": [
        {
          "InvoiceNumber": "2025000158",
          "TypeID": 39,
          "DueDate": "4/17/2025",
          "InvoiceDate": "4/17/2025",
          "BalanceDue": 3.0,
          "CCServiceFee": 0.0,
          "AchServiceFee": 0.0
        }
      ]
    }
  ],
  "AllowEMV": true,
  "AllowSwipe": true,
  "AllowCCPayment": true,
  "AllowACHPayment": true,
  "PageLoadOverride": 4,
  "PostBackURL": "https://sandboxw4.leadsonline.com/ETicketsAjax/LogInvoiceCloudPayment",
  "BillerReference": "209860|12570",
  "ViewMode": 1,
  "CssUrl": "https://www.invoicecloud.com/ssotest/sso-gmp.css",
  "PageResultOptions": {
    "AllowRegisterAccount": true,
    "InvoiceOptions": {
      "AllowViewStatement": true,
      "AllowRemove": true,
      "AllowViewRelated": true,
      "AllowRemindMe": true
    }
  }
}
Additional Details
Biller Request Parameters:
Parameter
Required
True/False
In Request
Y/N
Partner Field Description
ReturnURL
False
N
 
PostBackURL
False
Y
 
BillerReference
False
Y
 
ViewMode
True
Y
 
CssUrl
False
Y
 Default IC CssUrl
Customers
True
Y
 Always one customer
Customer Data Object:
Parameter
Required
True/False
In Request
Y/N
Partner Field Description
AccountNumber
True
Y
 
DisplayAccountNumber
False
N
 
Name
False
Y
 
Address
False
Y
 
City
False
Y
 
State
False
Y
 
Zip
False
Y
 
EmailAddress
False
Y
 
Invoices
False
Y
 
Optional Invoice Data Object
Parameter
Required
True/False
In Request
Y/N
Partner Field Description
InvoiceNumber
True
Y
 
TypeID
False
Y
Always 39
InvoiceDate
False
Y
 
DueDate
False
Y
 
BalanceDue
False
Y
 
CCServiceFee
False
Y
Always 0.00. Fees will populate based on Service Fees configured in Invoice Cloud.
ACHServiceFee
False
Y
Always 0.00. Fees will populate based on Service Fees configured in Invoice Cloud.
MinimumAmountDue
False
N
 
AllowPartialPayments
False
N
 
Cloud Payment Settings
Parameter
Required
True/False
In Request
Y/N
Partner Field Description
AllowSwipe
False
Y
 
AllowEMV
False
Y
 
EMVDeviceID
False
N
 
EMVLocationID
False
N
 
CashierName
False
N
 
AllowCCPayment
False
Y
 
AllowACHPayment
False
Y
 
CreateCustomerRecord
False
Y
 
RemoteAuthenticationToken
False
N
 
PageLoadOverride
False
Y
 Always 4 - Invoice Cart
Optional Page User Result UI Options
Parameter
Required
In Request
Partner Field Description
InvoiceOptions
Optional
 Y
 
AllowRegisterAccount
Optional
 Y
 
Optional Invoice User Experience Options
Parameter
Required
In Request
Partner Field Description
AllowViewStatement
Optional
 Y
 
AllowRemove
Optional
 Y
 
AllowViewRelated
Optional
 Y
 
AllowRemindMe
Optional
 Y
 
User Stories
LeadsOnline and Invoice Cloud - CPv2
Workflow
Story
Assumptions/Requirements
Sample
Create Invoice to Pay
User navigates to LeadsOnline portal and clicks Purchase E-Tickets.
Customer and Invoice will be created on Invoice Cloud systems.
 
 
Pay Invoice
User clicks Purchase E-Tickets button.  This executes Cloud Pay V2 and the Invoice Cloud screen displays as a separate window.
 
 
Invoice Cloud Receipt
After the user completes their payment, the Invoice Cloud receipt page displays.
 
 
Return to Home Page
User has completed payment and closes CPv2 window. The customer will need to return to the LeadsOnline portal page.
The Invoice is recorded in LeadsOnline portal via Postback Url.
 
 
 
Advanced Settings
Setting ID
Description
Value
Is value unique per biller? (Y/N)
36
SSO - One Time Payment ReturnUrl
TBD
Y
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case/Solution
 URL:/spaces/IM/pages/4184375382/LeadsOnline+Technical+Design