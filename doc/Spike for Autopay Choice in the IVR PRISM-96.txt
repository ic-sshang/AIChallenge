Objective for the Spike:
The objective of this Spike is to investigate the IVR (Interactive Voice Response) workflow and APIs to gather a comprehensive understanding of their structure, functionality, and integration. 
The goal is to document the current state of the IVR system, including identifying key workflows, API endpoints and dependencies. 
This Spike will provide the necessary insights for informed decision-making and help guide future work in enhancing or reworking the IVR system and its associated APIs.
Refer the below confluence link for IVR setup details
:
IVR Setup - Implementations - Confluence
In the above link IVR Implementation Guide will walk you through the process of completing the IVR Tech Boarding Form as well as setting up the CRM for Billers using IVR. 
The Cloud IVR Connect Call Flow documentation provides specific functionality.
The IVR Call Flow 
Invoice Cloud_Cloud IVR Connect_v3.3_MASTER_11112021 (1).pdf | Powered by Box
 
Refer the below confluence link of webservices for CloudIVRConnect
CloudIVRConnect (CloudIVR/IVR) - Development Support - Confluence
Existing API’s Information:
The existing service WebMethods used for IVR operations are available in the file below.
File:
 
MyIIS\MyIIS\App_Code\CloudIVR.vb
Existing IVR Flow for Autopay using weblink:
As per the initial observation of the workflow, we provide a weblink to the customer when their account is found. This allows them to pay online and access additional features such as auto-pay and paperless billing. We share the link and end the call, leaving the customer to explore the link. Based on their needs, they can opt for the required features.
Objective:
 Verify the web link request to understand the available options and identify where it redirects. A US contact is required to receive the web link for testing.
File:
 
MyIIS\MyIIS\App_Code\CloudIVR.vb
Web Method:
 
SendWebLink
Suggestion for Better Placement of New Enrollments:
As per the existing IVR flow for 
Submit Payment
, we can add the 
Autopay Enrollment
 check after the payment is successfully processed. Once the payment is successful, we can proceed with the user selection and register the autopay option accordingly. From there, we will call the respective services to update the enrollment based on the user's choice.
Screenshot for 
Submit Payment
 IVR flow:
Investigation on Acceptance Criteria for Spike: 
1)Updating the IVR Workflow for Autopay Enrollment Before the Payment Transaction: ￼
Coordinate with the IVR Tech Team:
Coordinate with the IVR tech team to update the IVR workflow for Autopay enrollment.
Service Implementation for Existing Enrollment Information:
Implement a service to retrieve existing Autopay enrollment data.
Update the AdvancedIVRSearch service
 or create a 
new service
 to fetch the required enrollment data.
Service to Handle Autopay Enrollment Process:
Implement a 
new service
 to handle the Autopay enrollment process, as it currently does not exist.
2)Updating the IVR Workflow for New Enrollment Options After the Payment Transaction:
Coordinate with the IVR Tech Team:
Update the IVR workflow for any new enrollment options 
after
 the payment transaction.
Service Implementation to Fetch and Update Enrollment Data:
Update the AdvancedIVRSearch service or create a new service to fetch existing enrollment information to support these new enrollment options.
Service to Support New Enrollment Options:
Add a new service to handle these new enrollment options, as it currently does not exist.
3)Adding a Message at the Beginning of the IVR Call:
Coordinate with the IVR Tech Team:
Update the IVR flow to incorporate an 
additional message
 at the beginning of the call.
4)API Communication with IVR Technology:
The IVR tech team will:
Consume the SOAP services and send the required input data.
Call the necessary services based on the workflow.
Proceed with the operations based on the responses received from the APIs
Impact Analysis
Customer Experience:
Streamlined and efficient customer experience encouraging adoption of Autopay and Paperless Billing.
Faster, automated processes reduce wait times for customers
IVR System Modifications:
IVR updates enhance system functionality to support Autopay and Paperless Billing, improving automation and operational efficiency.
Operational Efficiency:
Automating Autopay and Paperless Billing enrollments reduces manual intervention, increasing operational efficiency.
Automated processes result in quicker enrollment and processing times, improving overall business operations. 
Risk Analysis
Risk: Customer Does Not Have an Email Address
Impact:
 The customer cannot complete the Autopay enrollment as email is required for confirmation.
Mitigation:
Provide an alternative method for confirmation (e.g., SMS-based confirmation).
Offer the option for the customer to input an email address or skip the process if not available.
Risk: Inaccurate or Confusing IVR Flow
Impact:
 The IVR flow may confuse customers, leading to abandonment, support calls, or incorrect enrollments.
Mitigation:
Perform thorough testing of the IVR flow to ensure clarity and ease of use.
Provide an option for customers to speak with a representative if they are unsure about their selection.
Risk: API Integration Issues or Downtime
Impact:
 Failure in the API connection could prevent Autopay enrollment or delay processing, leading to poor customer experience.
Mitigation:
Implement robust error handling and fallback procedures (e.g., redirecting customers to customer support if needed).
Test the APIs thoroughly before deployment to ensure reliability.
Risk: Customer Mistakenly Opts into Autopay
Impact:
 Customers may unintentionally enroll in Autopay due to unclear prompts or lack of confirmation steps.
Mitigation:
Add a confirmation step in the IVR flow before finalizing Autopay enrollment.
Provide a clear summary of the selection before confirming the enrollment.
By addressing these risks proactively, you can improve the customer experience and reduce potential issues during the Autopay enrollment process.
Need Clarifications:
An email address is required to enable Autopay, but the customer does not have one, what is the process?  What is the standard process to enable the new option in IVR workflow . Who own the configuration of IVR workflow?
Do we need to take help from IVR tech to enable Autopay?
After Autopay enrollment, do we need to send an email notification to the user?
Are partial payments eligible for Autopay enrollment, especially when a Zero Balance is set to "Yes"? How does system to handle partial payments in terms of Autopay setup?
Do we need an autopay process for Blind Payment options as well?
Are we providing an option to disable AutoPay enrollment through IVR if the user has already enabled it?
Do we require a tracker to monitor whether Autopay is enabled through IVR? Ex. Customer Activity
Is IVR processing multiple invoices at a time? What is the expected method for saving when MultiInvoiceBiller = 21 is enabled or disabled?
Is Autopay enrollment is only applicable for the specific invoice type, or all? What is the expected behavior, and how should this be handled in the IVR?
Based on my understanding, Pendo tracing is not required. Could you please confirm?
POC Details:
POC for adding the new service has been in the 
“PRISM-96-IVRAutopaySpikePOC”
 branch
File:
 MyIIS\App_Code\CloudIVR.vb
Method Info:
<WebMethod()>
Public Function EnrollInAutoPayAndPaperless(ByVal Request As AutoPay_PaperlessEnrollment_Request) As AutoPay_PaperlessEnrollment_Response
Request type detais:
Public Class AutoPay_PaperlessEnrollment_Request
    Public PaymentGUID As String = ""
    Public BillerGUID As String = ""
    Public PartnerGUID As String = ""
    Public PartnerKey As String = ""
End Class
Response:
Public Class AutoPay_PaperlessEnrollment_Response
    Public EnrollmentSuccessful As Boolean = False
    Public Message As String = ""
    Public ErrorCode As Integer = 0
End Class
Screenshot of SOAP Request:
Success screenshot of SOAP Request:
Customer portal reflecting after success:
 URL:/spaces/PE/pages/4037869626/Spike+for+Autopay+Choice+in+the+IVR+PRISM-96