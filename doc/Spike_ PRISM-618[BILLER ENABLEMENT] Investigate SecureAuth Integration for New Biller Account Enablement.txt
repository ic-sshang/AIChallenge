Objective: 
To evaluate and streamline the SecureAuth enablement process for new and existing billers, focusing on identifying available APIs for tenant management, assessing current manual processes, and exploring CRM-triggered automation possibilities. The goal is to establish a clear, efficient, and secure workflow for provisioning SecureAuth realms (tenants) to support seamless biller onboarding and management, with potential integration between BillerPortal/CRM and SecureAuth.
Creating the separate Repository to maintain the codebase for SecureAuth API’s, under src named it as “
ICSecureAuthAPI
”
API Availability:
Tenant:
Tenant Management API
Organization: 
System API
These API’s can be integrated and access through the new repo/library 
Process Flow/ CRM Integration/ Trigger Mechanism
End-to-End Process: Enabling a New Biller in SecureAuth
1. Trigger Point
New Biller:
During biller creation via 
Administration > Biller Wizard
, the 
CIAM (SSO/MFA) Authentication
 checkbox is selected.
Existing Biller:
CIAM toggle under 
Product > CIAM
 is enabled from the CRM portal.
2. Validation
System checks if:
Organization (biller) already exists in SecureAuth.
If yes, skip Organization creation and move to user sync as well as check for Activation status.
If no, proceed to create Organization.
3. Organization Creation in SecureAuth
API request is sent to SecureAuth to create the Organization for the biller.
Organization attributes (Organization name, need to decide what all data we need) are configured as per requirements.
4. User Synchronization
System retrieves associated users from the Database.
For each user:
API call creates user profiles under the Organization in SecureAuth.
Users are configured with SSO/MFA settings as per SecureAuth standards.
5. CRM Database Update
Backend database is updated to reflect:
CIAM Status:
 Active (Yes)
Activation Date:
 Current date/time
Product > CIAM toggle is automatically populated and set to 
Active
.
6. UI Feedback
Success message displayed to the CRM user:
"Organization and users successfully created in SecureAuth."
If failures occur, display error messages.
CRM Integration
Process Workflow: CIAM Toggle Enablement
Step 1: User Action
From the 
CRM Portal
, the user navigates to:
Product > CIAM
User switches the 
CIAM toggle
 to 
Yes
.
Step 2: Display Confirmation Message
System displays a confirmation message:
"
Enabling
 CIAM 
will initiate the creation of your organization and all its associated users in SecureAuth. Please wait while the setup completes
."
A 
processing/loading symbol
 is displayed to indicate that the process is running in the background.
Step 3: Automated Backend Process (Triggered in Background)
Check Organisation Status:
Verify if the Organization (Biller) already exists in SecureAuth.
If 
Yes
, skip Organization creation and proceed to user sync as well as Biller 
Activated
 if Biller is 
Inactivated
If 
No
, proceed to create Organization.
Create Organization in SecureAuth:
Send API request to SecureAuth to create the Organization (Biller).
Fetch Associated Users:
Retrieve all associated users linked to the Organization (Biller) from DB.
Create Users in SecureAuth:
Loop through each associated users.
Send API requests to create each user under the newly created Organization in SecureAuth.
Step 4: Completion Status
Once all users are created:
Display a 
success message
 to the user in CRM:
"Organisation and users have been successfully created in SecureAuth."
Remove the processing/loading symbol.
If any error occurs during the process:
Display an 
error message
:
"An error occurred during Organisation or user creation. Please contact support."
Should be reverted/Removed all the data which has created on the SecureAuth.
Trigger Mechanism
Process Workflow: New Biller Creation with CIAM Setup
Step 1: User Action
Navigate to 
Administration > Biller Wizard
.
While filling in the biller details, user sees:
CIAM (SSO/MFA) Authentication
Type:
 Checkbox
User checks the 
CIAM (SSO/MFA) Authentication
 checkbox.
Step 2: CIAM Configuration Triggered
On submission of the biller creation form:
System verifies if the 
CIAM Authentication
 checkbox is checked.
If 
Checked
, system triggers:
Create Organisation in SecureAuth:
API request sent to SecureAuth to create Organisation for the new biller.
Enable CIAM Toggle in CRM:
Update CRM database:
Set 
CIAM toggle
 under 
Product > CIAM
 to 
Active (Yes)
.
Record the 
Activation Date
 as the current system date/time.
Step 3: Status Update & Completion
On successful SecureAuth Organization creation and database update:
Display a 
success message
 confirming CIAM setup.
If Organization creation in SecureAuth fails:
Display an 
error message
.
This Organization creation can be done from the 
Product > CIAM
Existing Biller Onboarding
 
For existing billers, the 
Product > CIAM toggle
 can be used to enable integration with 
SecureAuth
:
When the CIAM toggle is switched to 
Yes
, the system should initiate the creation of the corresponding Organisation in SecureAuth (if it doesn’t already exist).
All associated users of the biller should also be created in SecureAuth as part of this process.
The backend database should be updated to reflect:
CIAM Status:
 Active (Yes)
Activation Date:
 Current date/time when the toggle was enabled.
This approach allows existing billers to be onboarded for 
SSO/MFA authentication
 through SecureAuth.
https://invoicecloud.atlassian.net/wiki/spaces/PE/whiteboard/4509138974
 URL:/spaces/PE/pages/4504322055/Spike+PRISM-618+BILLER+ENABLEMENT+Investigate+SecureAuth+Integration+for+New+Biller+Account+Enablement