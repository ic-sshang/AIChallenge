DRAFT
Overview
Goal
Update RESTful APIs to use OAuth authentication to be used by Biller developers / OAuth software clients
Project Plan: Implementing OAuth 2.0 in Kong API Gateway
1. Project Overview
Objective
: Implement OAuth 2.0 for authentication in the Kong API Gateway with IP restrictions.  Proxy MVP RESTful APIs and convert MVP SOAP APIs to RESTful APIs.
Scope
: Configure Kong Gateway, enable OAuth 2.0, IP Restriction, and Request Transformer plugins, register RESTful APIs, and test the implementation.
Timeline
: ? weeks
Team
: API developers, platform engineers, security experts, QA testers
2. Project Phases
Phase 1: Planning and Setup (Week 1)
Task 1.1
: Define project requirements and objectives.
Get a list of Biller RESTful APIs that need to be proxied with OAuth 2.0 authentication (
Kong Biller REST APIs - PRJ
 )
Get a list of Biller SOAP APIs that need to be converted to RESTful APIs and proxied with OAuth 2.0 authentication ( 
SOAP API -> RESTful Migration
 )
Task 1.2
: Set up the Biller domain environment.
Create Biller domain k8s clusters (DEV, IAT, QAR, etc…)
Task 1.3
: Identify and assign team roles and responsibilities.
NOTE: The third party (accelerator system) needs to consume these new REST API shapes and OAuth authentication.  
REASON: Possible compatibility SOAP issue with Java tech stack
(CASTLEBAY) Builds the guidewire accelerator.  They would need to update this to use REST and OAuth.
Potential desire to update all APIs called by the accelerator to use REST and OAuth for uniformity and single contract development engagement.
Phase 2: Configuration (Week 2)
Task 2.1
: Configure Kong Gateway.
Set up Biller workspace for each environment ( DEV, IAT, QAR, etc…)
Set up the APIs behind Kong Gateway.
Task 2.2
: Enable the OAuth 2.0 plugin.
Client Credentials Grant Flow
Task 2.3
: Create a test Consumer in Kong.
Associate credentials with the Consumer for a test Biller (BillerGUID)
Task 2.4
: Enable the IP Restrictions plugin.
Task 2.5
: Enable the Request Transformer plugin.
Task 2.6
: Create deployment pipeline task to register routes, apply OAuth plugin, apply Request Transformer plugin
Phase 3: Implementation (Week 3 - Week 4)
Task 3.1:
 Create test biller consumers, OAuth credentials, and IP restrictions in Kong
TASK 3.1:
 Integrate the Biller portal to Kong admin API to create biller consumers, OAuth credentials, and IP restrictions.
Task 3.2
: Deploy REST APIs using new Kong updated pipelines
Implement OAuth 2.0 endpoints in Kong
Implement Request Transformer plugin to parse Biller consumer custom id and map legacy Basic Authorization credentials to the Authorization header. 
/oauth2/token
: For access tokens.
Task 3.3
: Use Postman client application to interact with OAuth 2.0 endpoints.
Task 3.4
: Implement IP Restrictions plugin.
Task 3.5
: Implement Request Transformer plugin to parse Biller consumer custom id and map legacy Basic Authorization credentials to the Authorization header.   
Task 3.6
: Create documentation for using OAuth 2.0 with MVP RESTful APIs and any new RESTful APIs. 
Phase 4: Testing and Validation (Week 5)
Task 4.1
: Conduct integration testing.
Create automated tests
Test client credential grant flow and token exchanges.
Test APIs
Task 4.2
: Perform security testing.
Ensure secure handling of tokens and credentials.
Task 4.3
: Validate the implementation with end-to-end testing.
Phase 5: Production Deployment (Week 6)
Task 5.1
: Deploy RESTful APIs
Task 5.2
: Configure Kong Gateway.
Create MVP biller consumers, OAuth credentials, and IP restrictions in Kong
Task 5.3
: Validate the implementation with end-to-end testing.
3. Deliverables
Deployment pipeline features to register routes and plugins in Kong 
Configured Kong Gateway with OAuth 2.0 support.
New RESTful APIs
Documentation of the configuration and implementation process.
Test reports and validation results.
4. Timeline
Week 1
: Planning and Setup
Week 2
: Configuration
Week 3 - 4
: Implementation
Week 5
: Testing and Validation
Week 6
: Production Deployment
SOAP APIs + OAuth 2.0 Proposed Flow
SOAP APIs are not in scope
2
1
0
0
3476455456
3437428779
1
Untitled Diagram-1723476157602.drawio
4
4
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1723476157602.drawio
0
650.5
779
Existing RESTful APIs + OAuth 2.0 Proposed Flow
2
1
0
0
3882188813
3437428779
1
Untitled Diagram-1723484536323.drawio
2
2
https://invoicecloud.atlassian.net/wiki
1736346876112-Untitled Diagram-1723484536323.drawio
0
531
773
New RESTful APIs + OAuth 2.0 Proposed Flow
2
1
0
0
3475734562
3437428779
1
Untitled Diagram-1723484536323.drawio
6
6
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1723484536323.drawio
0
521
656
 URL:/spaces/EA/pages/3437428779/Kong+Biller+API+OAuth+2.0+Authentication+-+PRJ