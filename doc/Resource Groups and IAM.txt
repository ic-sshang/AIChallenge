Purpose and Scope:
This domain handles the creation of the Azure Resource Group (RG) that houses all other resources, plus the assignment of role-based access control(RBAC) via Azure AD groups to enforce least-privilege.
Infrastructure Implementation
Resource Group Module
Terraform Implementation
hcl
data "azuread_group" "global_cloud_engineer_group" {
  display_name = "ic-iac-global-cloud-engineers-${var.environment}"
}

data "azuread_group" "global_reader_group" {
  display_name = "ic-iac-global-readers-${var.environment}"
}

# Create RG and assign role definitions
module "resource_group" {
  source             = "git@ssh.dev.azure.com:v3/invoicecloud/Platform/terraform-azurerm-resource-group//?ref=platform-0/0.0.0"
  region             = var.region
  application_name   = var.application_name
  deployment_version = var.deployment_version
  environment        = var.environment
  location           = var.location
  tags               = var.tags

  contributor_ad_group_object_id_list = [
    data.azuread_group.global_cloud_engineer_group.object_id
  ]
  reader_ad_group_object_id_list = [
    data.azuread_group.global_reader_group.object_id
  ]
}
Key Inputs and Outputs
Inputs
Name
Type
Description
var.region
string
Azure region code (e.g. 
eastus
)
var.application_name
string
Prefix for all resource names
var.deployment_version
number
Infra version suffix (e.g. 
1
, 
2
, …)
var.environment
string
Deployment environment (
sbx
, 
dev
, 
prd
, etc.)
var.location
string
Same as 
region
 for RG
var.tags
map(string)
Baseline + custom tag map
contributor_ad_group_object_id_list
list(string)
Azure AD group IDs to assign Contributor role
reader_ad_group_object_id_list
list(string)
Azure AD group IDs to assign Reader role
Outputs
Output
Description
module.resource_group.resource_group.name
Name of the created Resource Group
module.resource_group.resource_group.id
ID of the created Resource Group
Security and Access Controls
Uses Azure RBAC (Contributor and Reader roles) scoped at RG level.
No hard-coded credentials in code-permissions via AD group object ID’s.
Tagging policy applied to enable environment and cost-management metadata.
Operations and Runbook
Ensure RG is already provisioned
#Placeholder Code
terraform init
terraform plan -var-file=env/${var.environment}.tfvars
terraform apply -var-file=env/${var.environment}.tfvars
Update the AD group membership in Azure AD, then re-run step 2 to propagate the changes.
Troubleshooting: “AuthorisationFailed” → confirm service principle has Owner on subscription.
Links and References
Module Source:
Related Pipeline:
 URL:/spaces/platform/pages/4261216312/Resource+Groups+and+IAM