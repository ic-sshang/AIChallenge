Fill in project details in the table below. Type /date to quickly add the target release date, /jira to link to Jira epics or issues, and @mention functional owners to keep everyone on the same page.
Page Navigation:
Jira ticket 
N/A
Release date
2017
Document status
complete
Green
Document owner
 
Solution engineer
 
Knowledge Transfer
N/A
API Documentation
Details
IC Use
Partner API Name
Description
Request
Response
Specifications
RTDR: Balance Update
Real-Time Lookup (RTL)
Test and Prod URL (IC IT uses this URL and BS&A points their side to test so no URL change is needed in IC): 
https://RTL.bsasoftware.com/RTL/RealTimeLookup.asmx?op=Lookup
Logic/Mapping for - NON-UTILITY:
accountNo:
partnerCD = BID-Invoice Type ID
password = 323F09B81EC2468E9651D572A591AA2D (hardcoded)
productID = BID-Invoice Type ID
Logic/Mapping for UTILITY:
IC implemented a utility ‘group type’ to identify which invoice types are configured for utility when there's more than one
accountNo:
If utility group type and there’s a value in custom9, IC sends custom9 value
If utility group type and there's no value in custom9, IC sends account number
partnerCD = BID-Invoice Type ID
password = 323F09B81EC2468E9651D572A591AA2D (hardcoded)
productID = BID-Invoice Type ID
RTDR + Data Pump Update
:
This change will make use of the field CustomerVatNumber at the account level to mark an account as skip or don’t skip for data pump paperless + autopay. This change does not affect posting of data pump payments.
canPay = true
The most recent invoice:
Invoice 
paymentexpirationdate
 should be left as blank 
or made blank by removing payment expiration date if it is set 
 
canPay = false
The most recent invoice:
If
 paymentexpirationdate 
is not already set it
 
should be set to the previous day (
paymentexpirationdate 
= currentdate-1). 
PaymentExpirationMessage should be set to (“Your final bill has been issued and is not payable online”
Active = true
The account should not be skipped in data pump for paperless and autopay
Set CustomerVATNumber to ‘0' for don’t skip
Active = false
The account should be skipped in data pump for paperless and autopay 
(payments should still be posted)
Set CustomerVATNumber to '1' for skip
IC receives the following fields:  account, *amount due, base due, fees due, due date, notes, customer, *error
IC only uses ‘amount due’ and ‘error’
IC compares the ‘amount due’ to the balance due. If the amounts are the same, IC makes no update. If the balances are different, IC uses the BS&A ‘amount due’ field to update the IC balance due field
Valid Error (IC treats this like a success):
{"This account has a 0 balance and overpayments are not accepted for this unit. NOTE: This balance may not be correct and should not be used as a payment amount."}
{“Winter taxes are not eligible for payment at this time of year. If payment was allowed, the balance would be 0. NOTE: This balance may not be correct and should not be used as a payment amount.”}
If text above is presented, IC should update the customer's balance to zero. Failure to do so will result in an improper balance due being listed and the customer will receive past due notices.
This validation should be applied to all Billers.
Proposed RTDR + Data Pump Update (IN PROGRESS)
IC will receive two new fields:
 active = true or false
canPay = true or false
{“This account has a 0 balance…}
 
error message appears to be a static message where the balance does not vary. Setting the amount due to Zero is what should happen.
{“Winter taxes are not eligible…}
 
error message does have some variation to it in the form of the balance can be different within each error message. When that error message is presented, that season's taxes can no longer be paid and the balance does not really matter because of that. 
Setting the balance due to Zero on IC side would make sense since a payment should not be accepted or displayed as a payable invoice. Then in the future when Winter taxes 
are 
eligible for payment again, IC would/should reach out to Cayenta again and would get a normal balance update where the amount due would actually matter.
The same scenario would apply to Summer Tax and Village Tax payments.
Data Pump: Payment
Postback
Test URL (
available for use but no longer used in coding
): 
https://bsaonline.com/InvoiceCloud/Staging
 (URL never changes)
Prod URL ( IC IT uses this URL and BS&A points their side to test so no URL change is needed in IC): 
https://bsaonline.com/InvoiceCloud/Production
 
Payments are sent to BS&A via HTTP POST method
IC DP encodes this sample payload before posting it to the BS&A WebService:
AccountNo=CORN-005250-0000-01&OrderID=775-246957953&ProductID=775-42&Amount=1&OrderTypeCD=1&PmtDeviceType=Visa&ChannelCD=2&ChannelName=BillerPortal&StatusCD=6&StatusName=Approved-PCB&BSAApplicationType=UtilityBilling&
UBLocationID
=1STW-000209-002E-00&CSRID=59&
AccountNo = IC Account Number
OrderID = BID-Payment ID
ProductID = BID-Invoice Type ID
Amount = Payment Amount
OrderTypeCD = 1 (hardcoded)
PmtDeviceType = CC card brand (Amex, Visa, MC, Discover), ACH, PayPal, Venmo, or PayPal Credit.
ChannelCD = Payment Source ID
ChannelName = Payment Source Description
StatusCD = 6 (hardcoded)
StatusName = Approved-PCB (hardcoded)
BSAApplicationType = Value based on CRM Advanced Setting 49 (see screenshot below) - value based on invoice type ID
Depending on the invoice type ID, this value will be one of the following formats:
Utility Group Type:
*UBLocationID = hardcoded (for utility invoice type ID 42 = 1STW-000209-002E-00)
Tax Group Type:
*ParcelNumber = custom11
*TaxSeason = based on value in custom10 
custom10=S and IC passes 0
custom10=W and IC passes 1
custom10=V and IC passes 2
CSRID = 
custom9, if utility ‘group type’  OR
if any other invoice type ID, biller reference from payment is passed
Add new PmtDeviceType: PayPal, Venmo, PayPal Credit
BSA should always send a value in ProductID.
If ProductID is empty/null, return a error message: “Invalid ProductID“.
Data Pump: Paperless Enrollment
Postback
Test and Prod URL ( IC IT uses this URL and BS&A points their side to test so no URL change is needed in IC): 
https://bsaonline.com/InvoiceCloud/UpdatePaperless
https://bsaonline.com/InvoiceCloud/UpdatePaperless?productID=775-42&accountId=87&emailAddress=asierra%40invoicecloud.com&name=WISE%2C RUBEN&paperless=true
productID = BID-Invoice Type ID
accountID:
If there’s a value in custom9, IC sends custom9 value
If there's no value in custom9, IC sends account number
emailAddress = email address (from customer record)
name = customer name (from customer record)
paperless = true/false
Proposed RTDR + Data Pump Update (IN PROGRESS)
If CustomerVATNumber = 1, skip, do not data pump autopay / paperless
Data Pump: AutoPay Enrollment
Postback
Test and Prod URL ( IC IT uses this URL and BS&A points their side to test so no URL change is needed in IC): 
https://bsaonline.com/InvoiceCloud/UpdateAutopay
https://bsaonline.com/InvoiceCloud/UpdateAutopay?productID=775-42&accountID=87&autopay=true
productID = BID-Invoice Type ID
accountID:
If there’s a value in custom9, IC sends custom9 value
If there's no value in custom9, IC sends account number
autopay = true/false
If CustomerVATNumber = 1, skip, do not data pump autopay / paperless
PDF Linking
DirectReport
Test and Prod URL ( IC IT uses this URL and BS&A points their side to test so no URL change is needed in IC): 
https://www.bsaonline.com/DirectReport/{0}
We first get a token using BSA’s RealTimeLookup API passing in:
BSAAccountNumber:
Invoice Type 42 - Custom9
Others - AccountNumber
A reference number= '323F09B81EC2468E9651D572A591AA2D'
ProductID= 'BillerID-InvoiceTypeID'
DueDate= InvoiceDueDate (MM-dd-yyyy)
ResidentPIN = Custom21 -
 
SA-53
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
- Utility Only
After that we get back a token and we append it to the end of the directreport URL: 
https://www.bsaonline.com/DirectReport/{Token}
N/A
File Mapping
Invoice File 
Utility
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Extension: *.txt
File Naming Convention: NA
File Delimiter: Fixed Length
Specification: 
Sample File: 
SFTP File Path: \ToInvoiceCloud\Invoices\UB\
File Transfer Frequency: Depends on the biller
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)?
Required (True/False)
Partner Field Name
Record Type
1
RowType
N
TRUE
File Header
2
BillerGuid
N
TRUE
File Header
4
FileCreationDate
N
TRUE
File Header
5
InvoiceCount
N
TRUE
File Header
6
TotalInvoiceAmount
N
TRUE
File Header
7
RowType
N
TRUE
Invoice Header
8
RecordType
N
TRUE
Invoice Header
9
InvoiceFormatGuid
N
TRUE
Invoice Header
10
InvoiceNumber
Y
TRUE
Value is generated by IC: Date.Now(yyyyMMdd)-UB-Custom9-RecordCountIndex
Invoice Header
11
InvoiceDate
Y
TRUE
InvoiceDate
Invoice Header
12
InvoiceDueDate
Y
TRUE
DueDate
Invoice Header
13
TotalAmountDue
Y
TRUE
TotalAmountDue
Invoice Header
14
TotalTaxAmount
Y
FALSE
BalanceDue
Invoice Header
38
Custom1
Y
FALSE
Service Address
Invoice Header
39
Custom2
Y
FALSE
Parcel Number
Invoice Header
40
Custom3
Y
FALSE
CycleName
Invoice Header
41
Custom4
Y
FALSE
CycleCode
Invoice Header
42
Custom5
Y
FALSE
AccountClass
Invoice Header
43
Custom6
Y
FALSE
Route/Book
Invoice Header
44
Custom7
Y
FALSE
Zone/Section
Invoice Header
45
Custom8
Y
FALSE
AccountStatus
Invoice Header
46
Custom9
Y
FALSE
AccountID/Record#
Invoice Header
47
Custom10
Y
FALSE
BillingFrom/BillingTo/BillingDays
Invoice Header
93
BalanceDue
Y
FALSE
BalanceDue
Invoice Header
94
Custom11
Y
FALSE
PastDueDate/LastDueDate
Invoice Header
95
Custom12
Y
FALSE
TotalAmountDueIfLate/TotalCurrentSalesTaxAmount/TotalNon-CurrentAmountDue
Invoice Header
96
Custom13
Y
FALSE
TotalPreviousBillingsDue/Total Previous Sales Tax Due/Total Penalty Amount Due
Invoice Header
97
Custom14
Y
FALSE
Total Penalty Amount Due/Total Interest Amount Due/Previous Balance Code
Invoice Header
98
Custom15
Y
FALSE
Flat Budget Billing Amount/Flat Budget Billing Actual Due
Invoice Header
99
Custom16
Y
FALSE
Payments Since Last Billing/Adjustments Since Last Billing/Penalties Since Last Billing/Interest Since Last Billing
Invoice Header
100
Custom17
Y
FALSE
"Past Due / Shutoff Amount"/"Past Due / Shutoff Date
Invoice Header
101
Custom18
Y
FALSE
Last Billing Balance/Last Bill Calculation Amount
Invoice Header
102
Custom19
Y
FALSE
Last Payment Amount/Last Payment Date
Invoice Header
103
Custom20
Y
FALSE
PIN
Invoice Header
104
Custom21
Y
TRUE
ResidentPIN - (Column 17,969 - 17,976) - (8 Characters)
Invoice Header
319
Echo1
Y
FALSE
Bille Message Line1
Invoice Header
320
Echo2
Y
FALSE
Bille Message Line2
Invoice Header
321
Echo3
Y
FALSE
Bille Message Line3
Invoice Header
322
Echo4
Y
FALSE
Bille Message Line4
Invoice Header
58
RowType
N
TRUE
Customer Record
59
AccountNumber
Y
TRUE
Account Number
Customer Record
60
CustomerName
Y
TRUE
CustomerName
Customer Record
N61
Address1
Y
FALSE
Address1
Customer Record
63
City
Y
FALSE
City
Customer Record
64
State
Y
FALSE
State
Customer Record
65
Zip
Y
FALSE
ZIP
Customer Record
356
BlockPaymentsCC
Y
FALSE
Account Class starts with 'C'
Customer Record
70
RowType
N
TRUE
Invoice Detail
72
Description
Y
FALSE
Billing Item Name, Service Name
Invoice Detail
74
UnitPrice
Y
FALSE
Current Billing Amount
Invoice Detail
83
CustomField1
Y
FALSE
Billing Item Name Desc, Current Meter Read, Water/Electric/Gas Usage Date 1
Invoice Detail
84
CustomField2
Y
FALSE
Billing Item Rate, Current Meter Read Date, Water/Electric/Gas Usage Date 1
Invoice Detail
85
CustomField3
Y
FALSE
Billing Item Rate Desc, Current Meter Read Type, Water/Electric/Gas Usage Date 2
Invoice Detail
86
CustomField4
Y
FALSE
Rate Unit of Measurement, Previous Meter Read, Water/Electric/Gas Usage 2
Invoice Detail
87
CustomField5
Y
FALSE
Billing Item Code, Previous Meter Read Date, Water/Electric/Gas Usage Date 3
Invoice Detail
88
CustomField6
Y
FALSE
Current Sales Tax Amount, Previous Meter Read Type, Water/Electric/Gas Usage 3
Invoice Detail
89
CustomField7
Y
FALSE
Non-Current Amount Due, Current Usage, Water/Electric/Gas Usage Date 4
Invoice Detail
90
CustomField8
Y
FALSE
Previous Billings Due, Last Years Usage, Water/Electric/Gas Usage 4
Invoice Detail
91
CustomField9
Y
FALSE
Previous Sales Tax Due, Usage Percent Change, Water/Electric/Gas Usage Date 5
Invoice Detail
92
CustomField10
Y
FALSE
Penalty Amount Due, Meter Number, Water/Electric/Gas Usage 5
Invoice Detail
208
CustomField11
Y
FALSE
Interest Amount Due, Meter Size, Water/Electric/Gas Usage Date 6
Invoice Detail
209
CustomField12
Y
FALSE
Total Amount Due, Current Usage Days, Water/Electric/Gas Usage 6
Invoice Detail
210
CustomField13
Y
FALSE
Current Meter Read, Meter Serial Number, Water/Electric/Gas Usage Date 7
Invoice Detail
211
CustomField14
Y
FALSE
Current Meter Read Date, Multiplied Current Meter Read, Water/Electric/Gas Usage 7
Invoice Detail
212
CustomField15
Y
FALSE
Current Meter Read Type, Multiplied Previous Meter Read, Water/Electric/Gas Usage Date 8
Invoice Detail
213
CustomField16
Y
FALSE
Current Meter Read Type Code, Multiplied Current Usage, Water/Electric/Gas Usage 8
Invoice Detail
214
CustomField17
Y
FALSE
Previous Meter Read, User1Field, Water/Electric/Gas Usage Date 9
Invoice Detail
215
CustomField18
Y
FALSE
Previous Meter Read Date, Water/Electric/Gas Usage 9
Invoice Detail
216
CustomField19
Y
FALSE
Previous Meter Read Type Code, Water/Electric/Gas Usage Date 10
Invoice Detail
217
CustomField20
Y
FALSE
Current Usage, Water/Electric/Gas Usage 10
Invoice Detail
218
CustomField21
Y
FALSE
Total Multiplied Usage, Water/Electric/Gas Usage Date 11
Invoice Detail
219
CustomField22
Y
FALSE
Meter Id, Water/Electric/Gas Usage 11
Invoice Detail
220
CustomField23
Y
FALSE
REU’s / Number of Units, Water/Electric/Gas Usage Date 12
Invoice Detail
221
CustomField24
Y
FALSE
Meter Multiplier, Water/Electric/Gas Usage 12 
Invoice Detail
222
CustomField25
Y
FALSE
Billed Usage (multiplied), Water/Electric/Gas Usage Date 13
Invoice Detail
223
CustomField26
Y
FALSE
Seasonal Usage Used, Water/Electric/Gas Usage 13
Invoice Detail
224
CustomField27
Y
FALSE
Previous Meter Read Type
InvoiceDetail
Tax
File Summary/Purpose: The purpose of this file is transfer bill/invoice data to IC from the biller
File Extension: *.txt
File Naming Convention: NA
File Delimiter: Fixed Length
Specification
: 
FileSpecID 133-161 will be ignored in invoice process. All the missing pipes and data will be ignored. 
Sample File: 
SFTP File Path: \ToInvoiceCloud\Invoices\REPP\
File Transfer Frequency: Annual
Field Mapping
IC FileSpecID
IC Field
In File (Y/N)?
Required (True/False)
Partner Field Description
Record Type
1
RowType
N
TRUE
File Header
2
BillerGuid
N
TRUE
File Header
3
ThirdPartyFileReference
N
FALSE
File Header
4
FileCreationDate
N
TRUE
File Header
5
InvoiceCount
N
TRUE
File Header
6
TotalInvoiceAmount
N
TRUE
File Header
7
RowType
N
TRUE
Invoice Header
8
RecordType
N
TRUE
Invoice Header
9
InvoiceFormatGuid
N
TRUE
Invoice Header
10
InvoiceNumber
Y
TRUE
As of 02/07/2023 (
INT-5495
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 ), the InvoiceNumber is now a uniquely generated value that uses the first 5 characters of the data line from the Account# in the file and then 
creates a unique value
 that gets joined together by a dash ( - ).
Sudo Example:
PartOfAccount#(Start 0, Length 5)-UniqueValue
Sample Generated Invoice Number:
W2022-HEDXObkCQfsIpw
W2022-HEDXODDrHKiQV5
W2022-HEDXO5UlekYSQQ
Legacy InvoiceNumber Creation (DO NOT USE ANYMORE): 
This InvoiceNumber used to get created by using the first 5 characters of the data line from the Account# in the file and then 
uses the invoice count from the file 
that gets joined together by a dash ( - ).
Sudo Example: 
PartOfAccount#(Start 0, Length 5)-InvoiceCountInFile
Sample Generated Invoice Number 
(Consider a file has 6000 invoices)
:
W2023-000001
W2023-000002
...
W2023-006000
Invoice Header
11
InvoiceDate
N
TRUE
Invoice Header
12
InvoiceDueDate
Y
TRUE
InvoiceDueDate
Invoice Header
13
TotalAmountDue
Y
TRUE
Tax Total
Invoice Header
47
Custom10
Y
FALSE
Season
Invoice Header
93
BalanceDue
Y
FALSE
Tax Total
Invoice Header
94
Custom11
Y
FALSE
Property Number
 (also AccountNumber value)
Invoice Header
95
Custom12
Y
FALSE
AcctType
Invoice Header
96
Custom13
Y
FALSE
Class
Invoice Header
97
Custom14
Y
FALSE
Taxable Value
Invoice Header
98
Custom15
Y
FALSE
SEV
Invoice Header
99
Custom16
Y
FALSE
Assessed Value
Invoice Header
100
Custom17
Y
FALSE
PRE/MBT Taxable
Invoice Header
101
Custom18
Y
FALSE
Non Pre/MBT Taxable
Invoice Header
102
Custom19
Y
FALSE
PRE/MBT %
Invoice Header
103
Custom20
Y
FALSE
PRE/MBT % Integer Version
Invoice Header
104
Custom21
Y
FALSE
Property Address
Invoice Header
105
Custom22
Y
FALSE
School District Code
Invoice Header
106
Custom23
Y
FALSE
School District Description
Invoice Header
107
Custom24
Y
FALSE
Property Desc 1
Invoice Header
108
Custom25
Y
FALSE
Property Desc 2
Invoice Header
109
Custom26
Y
FALSE
Property Desc 3
Invoice Header
110
Custom27
Y
FALSE
Property Desc 4
Invoice Header
111
Custom28
Y
FALSE
Property Desc 5
Invoice Header
112
Custom29
Y
FALSE
Property Desc 6
Invoice Header
113
Custom30
Y
FALSE
Property Desc 7
Invoice Header
114
Custom31
Y
FALSE
Property Desc 8
Invoice Header
115
Custom32
Y
FALSE
Property Desc 9
Invoice Header
116
Custom33
Y
FALSE
Property Desc 10
Invoice Header
117
Custom34
Y
FALSE
Property Desc 11
Invoice Header
118
Custom35
Y
FALSE
Property Desc 12
Invoice Header
119
Custom36
Y
FALSE
Property Desc 13
Invoice Header
120
Custom37
Y
FALSE
Property Desc 14
Invoice Header
121
Custom38
Y
FALSE
Property Desc 15
Invoice Header
122
Custom39
Y
FALSE
Over 15 lines
Invoice Header
123
Custom40
Y
FALSE
Mailing Name
Invoice Header
124
Custom41
Y
FALSE
Mailing Name 2
Invoice Header
125
Custom42
Y
FALSE
Mailing Address
Invoice Header
126
Custom43
Y
FALSE
Mailing City
Invoice Header
127
Custom44
Y
FALSE
Mailing State
Invoice Header
128
Custom45
Y
FALSE
Mailing Zip
Invoice Header
129
Custom46
Y
FALSE
Out of Country Loxation
Invoice Header
133-161
Custom50-Custom78
Y
FALSE
Ignored the missing pipes and data for the following. 
This should not handle by IC.
Taxing Authority Desc | Taxing Authority Amount Billed | Taxing Authority Millage Rate | Special Assessment Flag
1-29  
Invoice Header
163
Custom80
Y
FALSE
Subtotal
Invoice Header
164
Custom81
Y
FALSE
Administration Fee
Invoice Header
165
Custom82
Y
FALSE
Total Tax
Invoice Header
166
Custom83
Y
FALSE
Total Mills
Invoice Header
167
Custom84
Y
FALSE
Bank Code
Invoice Header
168
Custom85
Y
FALSE
Bank Name
Invoice Header
169
Custom86
Y
FALSE
Barcoded Parcel Number
Invoice Header
170
Custom87
Y
FALSE
Sumer Tax Balance w/o Interest
Invoice Header
171
Custom88
Y
FALSE
Summer Interest Balance
Invoice Header
172
Custom89
Y
FALSE
Summer Total Balance
Invoice Header
173
Custom90
Y
FALSE
Summer Tax Deferment Flag
Invoice Header
174
Custom91
Y
FALSE
PRE/MBT % Exemption Savings
Invoice Header
175
Custom92
Y
FALSE
Out of Country Address
Invoice Header
176
Custom93
Y
FALSE
Map Number
Invoice Header
177
Custom94
Y
FALSE
OCR String
Invoice Header
178
Custom95
Y
FALSE
Billing Code
Invoice Header
179
Custom96
Y
FALSE
Real Estate Serviced By Code
Invoice Header
180
Custom97
Y
FALSE
Tax Service by Organization Name
Invoice Header
181
Custom98
Y
FALSE
ACH Identification Code
Invoice Header
182
Custom99
Y
FALSE
PRE/MBT Type
Invoice Header
319
Echo1
Y
FALSE
Oakland County ePayment Number
Invoice Header
320
Echo2
Y
FALSE
Summer Tax Biller
Invoice Header
321
Echo3
Y
FALSE
Detroit First Half
Invoice Header
322
Echo4
Y
FALSE
Detroit Second Half
Invoice Header
323
Echo5
Y
FALSE
Property Class Description
Invoice Header
324
Echo6
Y
FALSE
Winter Tax Billed + Summer Balance
Invoice Header
325
Echo7
Y
FALSE
Subtotal No Specials, No AdFee
Invoice Header
326
Echo8
Y
FALSE
Subtotal City/Township Taxes Combined
Invoice Header
327
Echo9
Y
FALSE
Number of Acres
Invoice Header
328
Echo10
Y
FALSE
Rescission Foreclosure
Invoice Header
329
Echo11
Y
FALSE
Prior Year Delinquent Flag
Invoice Header
330
Echo12
Y
FALSE
Prior Year Delinquent Message
Invoice Header
331
Echo13
Y
FALSE
open for growth
Invoice Header
58
RowType
N
TRUE
Customer Record
59
AccountNumber
Y
TRUE
Property Number
Customer Record
60
CustomerName
Y
TRUE
Owner’s Name
Customer Record
61
Address1
Y
FALSE
Owner’s Address
Customer Record
63
City
Y
FALSE
Owner’s City
Customer Record
64
State
Y
FALSE
Owner’s State
Customer Record
65
Zip
Y
FALSE
Owner’s Zip
Customer Record
371
CustomerName2
Y
FALSE
Owner’s Name 2
Customer Record
373
DisplayAccountNumber
N
FALSE
AccountNumber without '-'
Customer Record
Advanced Settings
Setting ID
Description
Details and Logic
Value
Is value unique per biller? (Y/N)
11
DataPump Payments EndPoint/WebService URL
https://bsaonline.com/InvoiceCloud/Production
N
14
DataPump Paperless EndPoint/WebService URL
https://bsaonline.com/InvoiceCloud/UpdatePaperless 
N
17
DataPump AutoPay EndPoint/WebService URL
https://bsaonline.com/InvoiceCloud/UpdateAutopay 
N
20
Remote PDF EndPoint/WebService URL
https://www.bsaonline.com/DirectReport/{0}
N
23
SSO Customer LogOff Url
https://bsaonline.com/?uid=[UID]
Y
36
SSO - One Time Payment ReturnUrl
[URL]
Y
49
BSAApplicationType
42(UtilityBilling)|7(TAX)|8(TAX)|43(BuildingDepartment)|57(BusinessLicensing)
N - Some Billers may require different values.
81
RTDR Service Version
PAPERLESS
N
BIF Customization's
Feature
BIF CUSTOMIZATIONS
AchServiceFee
N/A
AllowPartialPayments
on biller questionnaire - BIF customization 
AutoPayCollectionDate
on biller questionnaire - BIF customization 
BalanceForward
UB: Yes, Taxes: No - BIF Customization 
CreditCardServiceFee
N/A
FirstNotifyRequestedDate
on biller questionnaire - BIF customization 
InvoiceDate
invoice file
InvoiceDueDate
invoice file
InvoiceFormatGuid
BIF customization - for PDF Linking, always BSA Software - PDF Viewer (BC66A238-7BFF-4DED-A334-EF0E59068AD2)
InvoiceTypeID
N/A
LateFeeDate
N/A
LocationReference
N/A
MinimumAmountDue
N/A
PaymentExpirationDate
N/A
PaymentExpirationMessage
N/A
PromptPayExpirationDate
N/A
RegistrationValue
N/A
SecondNotifyRequestedDate
on biller questionnaire - BIF customization 
ThirdNotifyRequestedDate
on biller questionnaire - BIF customization 
User Interaction and Design
Data Flow - Invoice
att2294153217
194478136
1
bsa1
IM
att2293891077
att2294120449
0
Data Flow - Adjustments
att2294251521
194478136
1
bsa2
IM
att2293628939
att2294218753
0
Data Flow - Payment
att2294382593
194478136
1
bsa3
IM
att2293858311
att2293727235
0
Data Flow - Change Log
att2293694467
194478136
1
bsa4
IM
att2294349827
att2293923845
0
Data Flow - Bill Presentment
att2294120458
194478136
1
bsa5
IM
att2294513669
att2293956632
0
Payer Experience -  BS&A Online - One Time Pay
Biller Experience - Cash Receipting
Waiting on screenshots from BS&A
Invoice Cloud Web Services
Web Service Call
Web Service Name
API Use/Purpose
CloudCreditCardProcessing
CNP_Sale
Process credit/debit card payments that originated within BS&A Cash Receipting
CloudCreditCardProcessing
CNP_Void
Void payments that originated within BS&A Cash Receipting
Integration Modifications
Jira INT
Date Released
Previous Behavior
Desired Behavior
Business Case / Solution
ITG-3089
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
11/07/2024
Improper balance due being listed and the customer will receive past due notices.
Correct balance should be updated when error text is presented.
IC updated balance due to 0 when “error” field in the response that matching to the valid_error text. 
ITG-3039
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
TBD
The ProcessFee method currently assigns a String value to an Integer variable, this works in VB unless the String is empty. If the Biller sends and empty ProductID, then we do not validate and attempt to assign a string as an integer. This throws and exceptions and a response is not created.
Request is sent by the Biller/SP, and they receive a valid response
Add an exception and return an error message “Invalid ProductID“ if it’s empty/null.
INT-10635
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
08/08/2024
Invoices fail to load and process due to missing data and pipes.
Invoices load and process correctly.
There isn’t integration change on BS&A. All missing pipes and data can be ignored for FileSpecID 133-161.
ITG-2342
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
05/16/2024
When customer makes payment with Paypal the payment type that is posted is ACH
When customer makes payment with Paypal the payment type that is posted is Paypal
Add new payment types through data pump: PayPal, Venmo and PayPal Credit.
ITG-1294: BS&A Integration Change Request
 
08/01/2023
RTDR URL is using HTTP
Update URL to HTTPS
Need code change, and inform all BS&A billers when change is going to be deployed to production
INT-6290
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
05/23/2023
BS&A utilized 5 utility billing districts and need two added
Add two additional utility billing districts
INT-5798
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 and 
INT-5797
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
April 2023
PDF Linking does not require ResidentPIN so only a default PDF is being reflected to those accounts that have more than one Pin.
Store ResidentPIN in IC so it can be used during our PDF Linking process to show each Resident their corresponding bill presentment
Store ResidentPIN in Custom21 when converting to IC BIF and make changes to the PDF Remote Linking API call to include sending the ResidentPIN. 
INT-4550
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
August 2022
RTDR ran on all invoice types
Do not run RTDR on donation invoice types
INT-3720
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
June 2022
RTDR does not include active / inactive parameters
RTDR to update active / inactive accounts and drive logic based off the additional parameters
INT-3731
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
May 2022
BS&A only utilized IC Invoice Type ID 42 for ‘Utility’
Support more than one IC Invoice Type ID for 'Utility'
Some billers (villages) have 5 Utility Billing districts each needing a separate Invoice Type ID.
Solution: Work with BS&A on expanding the standard invoice type IDs and how the invoice files will tell IC what mapping to use. This will also include changes to handle DP and RTDR using the InvoiceGroupType field instead of driving functionality off of InvoiceTypeID 42.
INT-3620
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
May 2022
Send all OBD payments through data pump
Stop sending OBD reversals through the data pump
Billers do not want OBD reversals to be posted through the data pump.
Solution: Item checks PaymentAmount, PaymentSourceID and PaymentTypeID to determine if payment is an OBD reversal to skip and mark as Ok.
EBPP-1574
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
March 2021
When a customer is making the CSR jump from BS&A online, we update the name and address to what is being passed if it does not match what IC has in its DB. We also update the invoice balance or create a new invoice/account if it doesn’t exist.
Since the BS&A account number is not unique, we are running into more and more issues where the data that is being provided during the CSR jump, doesn’t match with the data for the particular account number that is in our system.  50% of BS&A clients re-use the account numbers, and a lot of them would like the ability for the previous resident and the new resident to both have the ability to pay an invoice, if it is open in BSA Online. Replacing names during the CSRConnect jump creates a huge problem if the biller has Auto-Conveyance enabled: Accounts are conveyed, autopays disabled, etc.
Complete a partial account number match to the conveyed account with a full match on customer name. Create the invoice on the conveyed account.
A resident has moved out, and their account has been conveyed. The new resident’s account has been created through the export file. Both the new resident, and old resident have an open invoice in BS&A online. If the old resident is making the jump, with the same account number being passed but different customer name – we do a partial account number match to the conveyed account. The customer name will do a full match, and then we create the invoice on the conveyed account.
 URL:/spaces/IM/pages/194478136/BS+A+Technical+Design