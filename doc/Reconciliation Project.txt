Project Jira Item:
https://invoicecloud.atlassian.net/browse/EBPP-250
 
DBS Jira item:
https://invoicecloud.atlassian.net/browse/DBS-1118
 
DB Asset Document: 
Pending Link
DB Changes:
Existing Tables:
rppsEntries
Add a new column called 
EffectiveEntryDate
Add a new column called 
ReturnDate
rppsReversals
Add a new column called 
EffectiveEntryDate
SettledBatches
Add a new column called 
DepositDate
Add a new column called 
AmexDeposit
Date
ACHRejects
Added new column called 
ReturnDate
Existing Stored Procedures:
selRPPSEntries
n/a
insRPPSEntries, updRPPSEntries
Added logic for newly created column 
EffectiveEntryDate
Added logic for newly created column 
ReturnDate
insrppsReversals, selrppsReversals, updrppsReversals
Added logic for newly created column 
EffectiveEntryDate
insSettledBatches, selSettledBatches
Added logic for newly created column 
DepositDate
Added logic for newly created column 
AmexDepositDate
SPChaseRejects_Azure
Update Stored Proc to now insert into the newly created column ReturnDate in ACHRejects table in Biller shard the date stored in column ReturnDate inside table ChaseRejects in the master shard and store Date.Now into the column RejectDate (no changes)
(Date.Now → Keep now)
(ChaseRejects.ReturnDate→ ACHRejects.ReturnDate)
selPaymentsBP
n/a
New Tables:
tblReconciliationGroups
Biller Shard level
ReconciliationGroupID
ReconciliationGroupDesc
Active
1
EFT (e-check)
1
2
AMEX
1
3
Discover, Mastercard, Visa
1
4
Fiserv
1
5
Mastercard RPPS
1
BillerAmexIDs
Master Shard Level
BillerID
AmexID
AmexIDICFee
Amex
Integer
Integer
Integer
Boolean
New Stored Procedures:
updSettledBatchAmexDepositDate
Parameters
: BillerID, AmexDepositDate, RejectReferenceList
This Stored Procedure is used in the newly created job AmexGRRCN_Import to update in bulk all the SettledBatches entries based on the RejectReference in the RejectReferenceList parameter.
selBillerReconciliationGroups
Parameters:
 BillerID
This Stored Proc returns the ReconciliationGroup entries that are active for the specific Biller using the following logic:
EFT (e-check): if EFTMerchantID column in the first row of table prdEFT is populated then set it to true
AMEX: same as AMEX column in the first-row 
prdcreditcard 
table
Discover, Mastercard, VISA: if at least one of the columns Discover, Mastercard, Visa in the first-row 
prdcreditcard 
table is 1 (True) then set it as true
Fiserv: If FiservMerchantCode column in the first row of table 
prdRPPS 
is populated then set it as true
Mastercard RPPS: if RPPSID column in the first row of table 
prdRPPS 
is populated then set it as true
rptBatchReconciliation
Parameter: 
BillerID, SettledBatchID, StartDate, EndDate
This stored proc is the one used to get all the data needed to populate the information for the new report created in StatemenrReconciliation.aspx
It will return a row per day, per account selected
There will be multiple records returned for the same day and account with multiple Credits or Debits.
selBillerAmexID
Parameter:
 BillerID, Amex, ShowFeeOnly, ShowBillerOnly
Select Stored Procedures for newly created 
BillerAmexID
 table in master shard
updSettledBatchDepositDate
Parameter:
 SettledBatchID, BillerID, AmexDepositDate
used to update the newly created 
AmexDepositDate
 and 
DepositDate
 in 
SettledBatches
 rows
New Entries:
tblBillerPortalMenuItems
BillerPortalMenuItemLabel:
 Statement Reconciliation
BillerPortalMenuItemURL:
 StatementReconciliation.aspx
Application
PR / Branch
DB Live? 
Code Released? 
Plan to Rollout
ETA 
CRM
https://invoicecloud.visualstudio.com/Src/_git/ICCRM/pullrequest/9742
YES
NO
N/A
MyIIS
https://invoicecloud.visualstudio.com/Src/_git/MyIIS/pullrequest/9478
NO
NO
N/A
Batch Close Processes
https://invoicecloud.visualstudio.com/Src/_git/IC.BatchClose/pullrequest/9750
YES 
NO
Plan is roll out second after MC_RPPS has been handled. Just received Amex SFTP setup on 08/05 and still need to confirm we are able to receive a file daily. DB changes are live in One Shard so we could roll this out once DB items have been approved. 
CC auto close had no issues. need to get with Jesus to approve this library and deploy to the azure function jobs. 
Ready for PR Review
Pending Deployment
MC_RPPS (OBD)
https://invoicecloud.visualstudio.com/Src/_git/MC_RPPS/pullrequest/9661
YES 
YES
Review with CRC or Tony to confirm DB stuff is good then will roll out DB changes and then can deploy MC_RPPS code.  
Code is LIVE
DEPLOYED
Chase Rejects
Stored Procedure:
 SPChaseRejects_Azure
Plan is roll out as the third item since we noticed an issue with re-using the reject date field and payer reject processing. 
Pending updates on DB changes. Manny will add above on the list. 
9/11
AmexGRRCN_Import
https://invoicecloud.visualstudio.com/Src/_git/AmexGRRCN_Import/pullrequest/10010
NO
NO
Once batch close jobs roll out we can test out this file to update other billers AmexDepositDate. 
Ready for CRC by 9/13
Plan to roll out by 9/15
Pending Rollout from Ross. 
CreditCardAutoClose
https://invoicecloud.visualstudio.com/Src/_git/CreditCardAutoClose/pullrequest/9746
YES
YES
Part of batch closes. 
DEPLOYED
 URL:/spaces/EN/pages/532086797/Reconciliation+Project