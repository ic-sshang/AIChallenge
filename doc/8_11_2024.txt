Platform: 2024-08-11 - JIRA (atlassian.net)
Summary of Planned Changes
Add a Tooling Spoke with a new Tooling AKS Cluster to route that traffic thru the Firewall
Forward App Gateway Access Logs to NewRelic in PRD & delete PRD Log Analytics Workspace
Install PowerShell Core on Web Servers Web1 thru Web5
Web Server Patching on Web1 thru Web5
Install PowerShell Core on MCC Servers
MCC Server Patching
Add my2 thru my10 in GoDaddy and Cloudflare
Delete the Barracuda WAF VMs 
Deallocate the Barracuda Firewall VMs 
SSO regression/preview DNS additions for GoDaddy and Cloudflare
SSO regression/preview routes deployed to Prod Application Gateway
SSO regression/preview for 
invoicecloud.com
 Private DNS Zone
Delete Unused Resource Groups
Delete the VNet that was created in Resource Group AnsibleTest-Rob named InternalNetwork so we can avoid any naming confusion in the future
Remove 
ftp3
 from GoDaddy
Pre-Steps
In Sequence
Put notification in DailyOps channels 
 
Stop the Jobs - 
Refer to Pre-maintenance steps related to Jobs here
Put up the maintenance page
Execution Plan
Add a Tooling Spoke with a new Tooling AKS Cluster to route that traffic thru the Firewall 
 
PLAT-617
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Rerun this Pipeline
 
 
 
Forward App Gateway Access Logs to NewRelic in PRD & delete PRD Log Analytics Workspace 
 
PLAT-544
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
Run this Deployment
 
 
Create NewRelic API Key
 
 
Implement ARM Template from NewRelic
 
 
Run this Deployment
 
 
 
Install PowerShell Core on Web Servers Web1 thru Web10 
 
 
PLAT-648
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 and 
 
Web Server Patching on Web1 thru Web5  
 
 
PLAT-649
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 and 
 
Gateway web server patching 
 
PLAT-688
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Install PowerShell Core on MCC Servers 
 
PLAT-650
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 and 
 
MCC Server Patching  
 
PLAT-651
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 and 
 
Remove Vasant from all Palo Alto devices  
 
PLAT-668
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
https://invoicecloud.atlassian.net/jira/servicedesk/projects/INFRA/queues/issue/INFRA-408
 
Add my2 thru my10 in GoDaddy and Cloudflare 
 
PLAT-652
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Cloudflare Script
 
 
GoDaddy Script
 
 
Pull Request
 
Delete the Barracuda WAF VMs 
 
PLAT-608
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Script to Execute
 
 
Pull Request
 
Deallocate the Barracuda Firewall VMs 
 
PLAT-609
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 will do manually
SSO regression/preview DNS additions for GoDaddy and Cloudflare 
 
PLAT-453
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
PLAT-596
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
PLAT-454
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
PLAT-597
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Script
s 
 
 
SSO regression/preview routes deployed to Prod Application Gateway 
 
PLAT-459
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
PLAT-460
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Rerun this Pipeline
 
 
Pull Request
 
SSO regression/preview for 
invoicecloud.com
 Private DNS Zone 
 
PLAT-594
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Pipeline
 
 
PR
 
 
 
Delete Unused Resource Groups 
 
PLAT-653
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Script to Execute
 
 
 
Delete the VNet that was created in Resource Group AnsibleTest-Rob named InternalNetwork so we can avoid any naming confusion in the future
 
 
PLAT-654
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
 
Remove 
ftp3
 from GoDaddy 
 
PLAT-657
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System Jira
 
Script to Execute
 
 
Pull Request
 
Test Plan
Maintenance Test Execution - 08/11/2024 - Platform Engineering - Confluence (atlassian.net)
First from QE: Smoke Test for 
www.invoicecloud.com
 & 
my.invoicecloud.com
 
 
 
Second for QE:
 
Run Regression testing for 
www.invoicecloud.com
 
 
Run Regression testing for 
my.invoicecloud.com
 
 
Run Regression testing for UI and API Tests for Payer Next Gen in Production  
 
Third for QE:
 
Run Regression testing for 
qa-regresssion.invoicecloud.com
 
 
Run Regression testing for 
my-qa-regresssion.invoicecloud.com
 
 
Run Regression testing for 
icg-payments-regression.invoicecloud.com
 
 
Run the following set of K6 tests to test functional connectivity: 
prod - Repos (azure.com)
 
 
Manual Regression testing for 
sso.invoicecloud.com
 
 
Manual Regression testing for 
www1.mcc.net
 
 
Manual testing for 
stratus.invoicecloud.com
 
 
 
Run Regression testing for 
www.invoicecloud.com/stratuswebservices/stratus.asmx
 
 and 
 and 
Post-Steps
In Sequence:
Removing the maintenance page
Start the Jobs - 
Refer to Post-maintenance steps related to Jobs here
Post finished message in DailyOps channel
 URL:/spaces/icinfradoc/pages/3396730881/8+11+2024