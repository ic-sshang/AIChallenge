High Level Application Overview
Components
Web Application: 
.Net 8+ MVC application provides static content and SPA assets
SPA Application
: React 18+ application that provides the user interface and integrates to APIs
Integrated Application
: 3rd party applications that provides value add functionality and integrates to APIs 
API Gateway: 
Intermediary between clients and backend APIs; handles request routing, authentication, monitoring, request/response transformation, etc…
API Application
: .Net 8+ Web API application providing a RESTful interface for integrated applications; defines the methods and data formats that applications use to exchange information
Job Application: 
.Net 8+ Console application providing scheduled back office and event driven asynchronous data processing
Database: 
Provides services to storing and retrieving data; Azure SQL, Azure Blobs, Azure Tables, etc…
Keda
: Horizontal pod scaler for event driven workloads
Azure Service Bus
: Message broker for events
2
1
0
0
3586884344
3580952589
1
Untitled Diagram-1726856360154.drawio
5
6
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1726856360154.drawio
0
1546
1315
High Level k8s System
The systems can be grouped by business domains (Biller, Payer, Internal, etc…) and into use case tiers; Web, Job, Service, and Data.
Components
Cluster
: Azure Kubernetes
Job Tier: 
Azure Kubernetes Nodes for running Job Applications
Web Tier: 
Azure Kubernetes Nodes for running Web Applications
Service Tier: 
Azure Kubernetes Nodes for running Service (Middle Tier) Applications
Data Tier: 
Services for storing and retrieving data
 
2
1
0
0
3580035099
3580952589
1
Untitled Diagram-1726761378253.drawio
3
3
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1726761378253.drawio
0
910.5
341
General Application Node/Pod Components
Components
Cluster
: Azure Kubernetes
Node
: Azure Kubernetes VMs 
Pod
: Application workload running on a Node
Key Vault CSI Driver
: Integrates Azure Key Vault with k8s.  Enables k8s to use Azure Key Vault secrets in k8s manifests
Fluent Bit
: Formats and forwards container logs to New Relic’s log management system
OTEL Collector
: Collects, processes, and exports telemetry data (traces and metrics) to New Relic
New Relic
:  Observability platform designed to monitor software systems
Azure Key Vault:  
Service for managing secrets, keys, and certificates 
2
1
0
0
3630563420
3580952589
1
Untitled Diagram-1728316777077.drawio
5
5
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1728316777077.drawio
0
331
411
Web Tier
This is the topmost layer that interacts directly with the user. It includes the user interface and is responsible for displaying information to the user and collecting user input. In web applications, this involves web pages rendered by a web browser and HTTP APIs consumed by clients. Interfaces are exposed over HTTPS.
Role
: This is the topmost layer that interacts directly with the user.
Responsibilities
: It handles the user interface and user experience, displaying information to the user and collecting user input.
Technologies
: HTML, CSS, JavaScript, React 18+, .Net 8+ MVC, .Net 8+ RESTful Web APIs
Example
: The Customer (Payer) Portal where payers can log in, view their invoices, view reporting, or make a payment.
2
0
1
0
3580952589
3899949248
Untitled Diagram-1726763925839.drawio
true
2
4
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1726763925839.drawio
0
751
auto
top
631
Job Tier
This layer automates and manages complex business processes. These processes can be triggered by events or schedules.
Role
: This tier is responsible for executing scheduled tasks or background jobs that are not directly triggered by user actions.
Responsibilities
: It handles batch processing, data synchronization, report generation, and other automated tasks.
Technologies
: aks CRON controller, Keda, .Net 8+ Console Job, Azure Functions, and Azure Batch jobs
Example
: BillerMailgunMessageStatusJob is a job running every five minutes that maintains Mailgun email lifecycles
2
1
0
0
3588194325
3580952589
true
Untitled Diagram-1726764245474.drawio
4
5
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1726764245474.drawio
0
921
auto
top
607
Service Tier
This middle layer processes centralized business logic and data access for applications. It processes data and makes decisions based on the business rules. Services are exposed over HTTP gRPC. Services are not directly accessed by users.
Role
: This middle layer processes business logic and data access of the application.
Responsibilities
: It processes data and enforces business rules.
Technologies
: .Net 8+ gRPC Services
Example
: ICCryptoService is a service to encrypt/decrypt data.
2
0
1
0
3580952589
3900211319
Untitled Diagram-1726765110484.drawio
1
1
2
https://invoicecloud.atlassian.net/wiki
Untitled Diagram-1726765110484.drawio
0
541
601
 URL:/spaces/ED/pages/3580952589/Next+Gen+Architecture