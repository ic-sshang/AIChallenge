User Story Title
- 
EBPP-6268-Processing a partial refund
Related Story
 
EBPP-5835
2278e126-27dc-36c8-aef9-a32d91bc7ad7
System JIRA
 
Functional Understanding
This story is to create the RMM on for a partial refund. This will need to be supported for both IC and PSN.
Need to audit the current system and confirm whether is require or not.
Need to audit the stored Procedure: Audit SP: spCheckPaymentForVoidRefund, returnes column AllowRefund.
Technical Understanding
BL:  
Api - RMM endpoints refund .
Requested Refund amount less then original refund amount. its need to verify in stored procedure Logic in db.
RMMDispute API and spVerifyDisputeFunding .
RMMRefunds Api stored procedure spVerifyCreditRMMFunding, insCreditRMM
spVerifyDisputeFunding returns Total dispute amount. 
Repository:
ICPaymentProcessing.Api → PayApi → RMM Endpoints. 
Method : CardRefundPayment, 
Sp: spCheckPaymentForVoidRefund, 
Check: RefundAction.Partial_Refund_Rejected
EndPoints- 
RMMRefunds
 
RMMDisputes
 
References
 URL:/spaces/EN/pages/2542371312/Processing+a+partial+refund